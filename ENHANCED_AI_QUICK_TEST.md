# 🚀 **增强 AI 助手 - 快速测试指南**

## ✅ **系统已启动**

开发服务器已在后台运行。

**访问地址：** http://localhost:5173

---

## 📋 **测试步骤**

### 第 1 步：打开系统

1. 在浏览器中访问 http://localhost:5173
2. 以**管理员**身份进入系统
3. 看到主界面后，右下角有一个**绿色 AI 按钮**

### 第 2 步：打开 AI 助手

1. 点击右下角的绿色 AI 按钮
2. AI 对话窗口应该打开
3. **关键检查**：窗口头部应显示：
   - "AI 助手"
   - "数据驱动模式" 或 "标准模式" (GLM-4.5-Flash)

### 第 3 步：测试快速操作按钮

#### 按钮 1：流失分析 ✅
```
点击 "流失分析" 按钮

预期结果：
- AI 应该分析您的高风险客户（30 天未预约）
- 提供具体的留存策略
- 包含数据支持（客户名单、消费记录）
```

#### 按钮 2：排班优化 ✅
```
点击 "排班优化" 按钮

预期结果：
- AI 分析预约数据中的高峰时段
- 建议员工排班方案
- 包含具体数字（确认率、预约完成数）
```

#### 按钮 3：定价建议 ✅
```
点击 "定价建议" 按钮

预期结果：
- AI 分析销售数据
- 建议如何调整服务定价
- 包含预期收入增长
```

#### 按钮 4：营销分析 ✅
```
点击 "营销分析" 按钮

预期结果：
- AI 分析营销活动 ROI
- 建议下月的营销策略
- 包含投入和预期转化
```

#### 按钮 5：智能建议报告 ✅
```
点击 "智能建议报告" 按钮（如果显示）

预期结果：
- AI 生成完整的月度建议报告
- 综合分析所有五个方面
- 包含优先行动项
```

### 第 4 步：手动提问

在输入框中输入问题并发送：

**示例问题 1：**
```
"根据系统数据，哪些客户流失风险最高？"

预期：AI 应该列出具体的客户名单和风险原因
```

**示例问题 2：**
```
"我应该如何提高员工效率？"

预期：AI 应该基于预约和员工数据提供建议
```

**示例问题 3：**
```
"下个月的营销预算应该如何分配？"

预期：AI 应该基于历史 ROI 数据提供建议
```

---

## 🎯 **关键验证点**

### 数据驱动模式激活 ✅
- [ ] 窗口标题显示"数据驱动模式"
- [ ] AI 响应中包含具体的数字和数据
- [ ] 建议包含预期效果（ROI、收入增长等）

### 系统数据收集 ✅
- [ ] 成功读取客户数据
- [ ] 成功读取预约数据
- [ ] 成功读取员工数据
- [ ] 成功读取销售数据
- [ ] 成功读取营销数据

### AI 响应质量 ✅
- [ ] 响应基于实际系统数据
- [ ] 建议具体且可执行
- [ ] 包含数据支持
- [ ] 包含预期结果或 ROI
- [ ] 语言自然流畅

### 错误处理 ✅
- [ ] 如果数据收集失败，自动降级到普通 AI
- [ ] 错误信息清晰
- [ ] 系统不会崩溃

---

## 🐛 **常见问题排查**

### 问题 1：AI 窗口显示"标准模式"
**原因**：数据收集失败，系统降级到普通 AI
**解决**：
1. 打开浏览器开发者工具（F12）
2. 检查 Console 标签中的错误
3. 确保 localStorage 中有客户、预约、员工数据

### 问题 2：AI 没有基于数据提供建议
**原因**：系统处于标准模式，而不是数据驱动模式
**解决**：
1. 确保系统中有测试数据
2. 刷新页面重新打开 AI
3. 检查浏览器控制台中的错误

### 问题 3：按钮点击没有反应
**原因**：可能是网络或 API 问题
**解决**：
1. 检查网络连接
2. 确保 GLM API Key 正确配置
3. 查看浏览器控制台中的错误信息

---

## 📊 **测试数据示例**

### 如果系统缺少演示数据，手动添加

**客户数据**（通过浏览器控制台）：
```javascript
const customers = [
  { id: '1', name: '王女士', email: 'wang@example.com', totalSpent: 2800 },
  { id: '2', name: '李女士', email: 'li@example.com', totalSpent: 1500 },
  { id: '3', name: '张女士', email: 'zhang@example.com', totalSpent: 3200 },
];
localStorage.setItem('customers', JSON.stringify(customers));
```

**预约数据**：
```javascript
const appointments = [
  { id: '1', customerId: '1', date: new Date(Date.now() - 35*24*60*60*1000), status: 'Completed' },
  { id: '2', customerId: '2', date: new Date(Date.now() - 42*24*60*60*1000), status: 'Completed' },
];
localStorage.setItem('appointments', JSON.stringify(appointments));
```

**员工数据**：
```javascript
const staff = [
  { id: '1', name: '张美容师', isActive: true, rating: 95 },
  { id: '2', name: '李美容师', isActive: true, rating: 88 },
];
localStorage.setItem('staff', JSON.stringify(staff));
```

**产品数据**：
```javascript
const products = [
  { id: '1', name: '护肤套装', price: 299, soldCount: 45 },
  { id: '2', name: '眼部护理', price: 199, soldCount: 38 },
];
localStorage.setItem('products', JSON.stringify(products));
```

然后刷新页面，AI 应该能够访问这些数据。

---

## 📈 **成功标准**

当以下条件都满足时，可认为测试通过：

✅ AI 窗口显示"数据驱动模式"
✅ 至少 3 个快速操作按钮能产生基于数据的响应
✅ 手动问题能产生基于系统数据的建议
✅ 响应包含具体的数字和数据支持
✅ 无系统错误或崩溃
✅ 用户能获得可执行的、有价值的建议

---

## 🎬 **接下来做什么？**

### 立即（今天）
- [ ] 完成上述所有测试
- [ ] 记录任何问题或改进建议
- [ ] 与我讨论测试结果

### 短期（本周）
- [ ] 根据反馈优化 AI 提示词
- [ ] 添加更多数据分析维度
- [ ] 优化性能（数据缓存等）

### 长期（本月）
- [ ] 升级到方案 B（完整版）- 添加预测分析
- [ ] 升级到方案 C（企业版）- 添加机器学习
- [ ] 部署到生产环境

---

## 📞 **需要帮助？**

如有任何问题或错误，请记录：
1. 错误信息
2. 浏览器控制台中的错误
3. 当时执行的操作
4. 预期结果 vs 实际结果

然后告诉我，我会帮助诊断和修复！
