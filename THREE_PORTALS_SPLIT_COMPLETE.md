# âœ… ä¸‰ç«¯æ‹†åˆ†é¡¹ç›® - å®Œæˆæ€»ç»“

## ğŸ‰ æ­å–œï¼é¡¹ç›®æ‹†åˆ†å·²å®Œæˆï¼

æ‚¨çš„ç¾å®¹é™¢ç®¡ç†ç³»ç»Ÿå·²ç»æˆåŠŸæ‹†åˆ†ä¸ºä¸‰ä¸ªç‹¬ç«‹çš„åº”ç”¨ï¼Œæ¯ä¸ªåº”ç”¨éƒ½é’ˆå¯¹ç‰¹å®šçš„ç”¨æˆ·è§’è‰²è¿›è¡Œäº†ä¼˜åŒ–ã€‚

---

## ğŸ“¦ æ‹†åˆ†å®Œæˆæ¸…å•

- âœ… åˆ›å»ºä¸‰ä¸ªåº”ç”¨ç›®å½•ç»“æ„ (admin-portal, staff-portal, customer-app)
- âœ… å¤åˆ¶æ‰€æœ‰å…±äº«æºä»£ç æ–‡ä»¶
- âœ… ä¸ºæ¯ä¸ªåº”ç”¨åˆ›å»ºä¸“é—¨çš„ App.tsx
- âœ… é…ç½®å„åº”ç”¨çš„ Vite (ç«¯å£ 5173, 5174, 5175)
- âœ… é…ç½®æ‰€æœ‰å¿…éœ€çš„ TypeScriptã€Tailwindã€PostCSS
- âœ… åˆ›å»ºåº”ç”¨ç‰¹å®šçš„ package.json å’Œ index.html
- âœ… åˆ›å»ºè¯¦ç»†çš„å¯åŠ¨å’Œä½¿ç”¨æ–‡æ¡£

---

## ğŸ“ é¡¹ç›®æ–°ç»“æ„

```
E:\xincs\xincs\
â”‚
â”œâ”€â”€ ğŸ“‚ backend/                    â† åç«¯æœåŠ¡ï¼ˆä¸å˜ï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ .env
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ğŸ“‚ admin-portal/               â† ğŸ‘‘ ç®¡ç†å‘˜ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/                       # å…±äº«ä»£ç  + ç‹¬ç‰¹çš„ App.tsx
â”‚   â”œâ”€â”€ index.html                 # æ ‡é¢˜: "ç¾å®¹é™¢ç®¡ç†ç³»ç»Ÿ - ç®¡ç†å‘˜ç«¯"
â”‚   â”œâ”€â”€ vite.config.ts             # ç«¯å£: 5173
â”‚   â”œâ”€â”€ package.json               # name: "beauty-salon-admin-portal"
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ postcss.config.js
â”‚
â”œâ”€â”€ ğŸ“‚ staff-portal/               â† ğŸ‘©â€ğŸ’¼ ç¾å®¹å¸ˆç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/                       # å…±äº«ä»£ç  + ç‹¬ç‰¹çš„ App.tsx
â”‚   â”œâ”€â”€ index.html                 # æ ‡é¢˜: "ç¾å®¹é™¢ç®¡ç†ç³»ç»Ÿ - ç¾å®¹å¸ˆç«¯"
â”‚   â”œâ”€â”€ vite.config.ts             # ç«¯å£: 5174
â”‚   â”œâ”€â”€ package.json               # name: "beauty-salon-staff-portal"
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ postcss.config.js
â”‚
â”œâ”€â”€ ğŸ“‚ customer-app/               â† ğŸ‘¤ å®¢æˆ·ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/                       # å…±äº«ä»£ç  + ç‹¬ç‰¹çš„ App.tsx
â”‚   â”œâ”€â”€ index.html                 # æ ‡é¢˜: "ç¾å®¹é™¢æœåŠ¡ - å®¢æˆ·ç«¯"
â”‚   â”œâ”€â”€ vite.config.ts             # ç«¯å£: 5175
â”‚   â”œâ”€â”€ package.json               # name: "beauty-salon-customer-app"
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ postcss.config.js
â”‚
â””â”€â”€ ğŸ“„ æ–‡æ¡£æ–‡ä»¶
    â”œâ”€â”€ SPLIT_THREE_PORTALS_GUIDE.md      â† è¯¦ç»†æ‹†åˆ†æŒ‡å—
    â”œâ”€â”€ QUICK_START_THREE_PORTALS.md      â† å¿«é€Ÿå¯åŠ¨æŒ‡å—
    â”œâ”€â”€ THREE_PORTALS_SPLIT_COMPLETE.md   â† æœ¬æ–‡ä»¶
    â”œâ”€â”€ SPLIT_IMPLEMENTATION_SCRIPT.ps1   â† PowerShellè„šæœ¬
    â””â”€â”€ SPLIT_IMPLEMENTATION.cjs          â† Node.jsè„šæœ¬
```

---

## ğŸš€ ä¸‰ä¸ªåº”ç”¨çš„åŠŸèƒ½å¯¹æ¯”

### ğŸ‘‘ ç®¡ç†å‘˜ç«¯ (admin-portal)

**ç«¯å£**: `5173`  
**URL**: `http://localhost:5173`

**èœå•é¡¹**:
- ä»ªè¡¨ç›˜ - æŸ¥çœ‹ä¸šåŠ¡æŒ‡æ ‡
- å®¢æˆ·ç®¡ç† - ç®¡ç†æ‰€æœ‰å®¢æˆ·
- ç¾å®¹å¸ˆ - ç®¡ç†ç¾å®¹å¸ˆå›¢é˜Ÿ
- å•†åŸè£…ä¿® - è®¾è®¡å•†åŸå¤–è§‚
- åŸ¹è®­æ•™è‚² - å‘å¸ƒåŸ¹è®­è¯¾ç¨‹
- AI åŠ©æ‰‹ - ä½¿ç”¨AIåŠŸèƒ½
- å¥åº·åŠ©æ‰‹ - å¥åº·æ£€æµ‹å·¥å…·

---

### ğŸ‘©â€ğŸ’¼ ç¾å®¹å¸ˆç«¯ (staff-portal)

**ç«¯å£**: `5174`  
**URL**: `http://localhost:5174`

**èœå•é¡¹**:
- æˆ‘çš„æ—¥ç¨‹ - æŸ¥çœ‹æ—¥ç¨‹å®‰æ’
- æˆ‘çš„å®¢æˆ· - ç®¡ç†å®¢æˆ·ä¿¡æ¯
- åŸ¹è®­å­¦ä¹  - å­¦ä¹ åŸ¹è®­è¯¾ç¨‹
- å¥åº·åŠ©æ‰‹ - å¥åº·æ£€æµ‹å·¥å…·

---

### ğŸ‘¤ å®¢æˆ·ç«¯ (customer-app)

**ç«¯å£**: `5175`  
**URL**: `http://localhost:5175`

**èœå•é¡¹**:
- ä¸Šé—¨æœåŠ¡ - é¢„çº¦ä¸Šé—¨æœåŠ¡
- æˆ‘çš„é¢„çº¦ - æŸ¥çœ‹é¢„çº¦è®°å½•
- ç¾å®¹å•†åŸ - è´­ä¹°ç¾å®¹äº§å“
- å¥åº·åŠ©æ‰‹ - å¥åº·æ£€æµ‹å·¥å…·

---

## ğŸ”„ ä»£ç å…±äº«æ¶æ„

### ä¸‰ç«¯å…±äº«çš„æ–‡ä»¶ï¼ˆå®Œå…¨ç›¸åŒï¼‰

```
src/
â”œâ”€â”€ api/                    # API æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ client.ts          # Axios å®ä¾‹
â”‚   â”œâ”€â”€ index.ts           # å¯¼å‡º
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ authService.ts       # è®¤è¯æœåŠ¡
â”‚       â”œâ”€â”€ customerService.ts   # å®¢æˆ·æœåŠ¡
â”‚       â”œâ”€â”€ staffService.ts      # ç¾å®¹å¸ˆæœåŠ¡
â”‚       â”œâ”€â”€ appointmentService.ts
â”‚       â””â”€â”€ productService.ts
â”‚
â”œâ”€â”€ context/               # React Context
â”‚   â””â”€â”€ AuthContext.tsx    # è®¤è¯ Context
â”‚
â”œâ”€â”€ services/              # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ aiService.ts
â”‚   â”œâ”€â”€ tongueCoatingAnalysisService.ts
â”‚   â”œâ”€â”€ healthAssistantAIService.ts
â”‚   â””â”€â”€ ...å…¶ä»–æœåŠ¡
â”‚
â”œâ”€â”€ types/                 # TypeScript ç±»å‹
â”‚   â””â”€â”€ index.ts          # æ‰€æœ‰ç±»å‹å®šä¹‰
â”‚
â”œâ”€â”€ styles/                # CSS æ ·å¼
â”‚   â””â”€â”€ globals.css       # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ useAPI.ts
â”‚   â”œâ”€â”€ useFetchData.ts
â”‚   â””â”€â”€ ...å…¶ä»– hooks
â”‚
â”œâ”€â”€ data/                  # é™æ€æ•°æ®
â”‚   â”œâ”€â”€ customerData.ts
â”‚   â”œâ”€â”€ staffData.ts
â”‚   â””â”€â”€ ...å…¶ä»–æ•°æ®
â”‚
â”œâ”€â”€ components/            # React ç»„ä»¶ï¼ˆæ‰€æœ‰ç»„ä»¶ï¼‰
â”‚   â”œâ”€â”€ Navigation.tsx      # å¯¼èˆªæ 
â”‚   â”œâ”€â”€ BottomNavigation.tsx
â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”œâ”€â”€ CustomerManagement.tsx
â”‚   â”œâ”€â”€ Staff.tsx
â”‚   â”œâ”€â”€ BeautyProductMall.tsx
â”‚   â””â”€â”€ ...çº¦40ä¸ªå…¶ä»–ç»„ä»¶
â”‚
â”œâ”€â”€ main.tsx              # React åº”ç”¨å…¥å£
â””â”€â”€ vite-env.d.ts         # Vite ç±»å‹å£°æ˜
```

### å„ç«¯ç‹¬ç‰¹çš„æ–‡ä»¶

| æ–‡ä»¶ | admin-portal | staff-portal | customer-app |
|------|-------------|-------------|-------------|
| `src/App.tsx` | æ˜¾ç¤ºå…¨éƒ¨èœå• | ä»…æ˜¾ç¤ºç¾å®¹å¸ˆèœå• | ä»…æ˜¾ç¤ºå®¢æˆ·èœå• |
| `index.html` | æ ‡é¢˜: ç®¡ç†å‘˜ç«¯ | æ ‡é¢˜: ç¾å®¹å¸ˆç«¯ | æ ‡é¢˜: å®¢æˆ·ç«¯ |
| `vite.config.ts` | ç«¯å£ 5173 | ç«¯å£ 5174 | ç«¯å£ 5175 |
| `package.json` | name: admin-portal | name: staff-portal | name: customer-app |

---

## ğŸ”Œ åç«¯ API

åç«¯æ— éœ€ä»»ä½•ä¿®æ”¹ï¼Œä¸‰ä¸ªå‰ç«¯éƒ½è°ƒç”¨åŒä¸€å¥— APIï¼š

```
POST   /api/auth/login              # ç™»å½•ï¼ˆæ ¹æ® role åŒºåˆ†ï¼‰
GET    /api/customers               # è·å–å®¢æˆ·
GET    /api/staff                   # è·å–ç¾å®¹å¸ˆ
POST   /api/appointments            # åˆ›å»ºé¢„çº¦
GET    /api/products                # è·å–äº§å“
POST   /api/upload/image            # ä¸Šä¼ å›¾ç‰‡
// ... å…¶ä»–æ¥å£ä¿æŒä¸å˜
```

**å…³é”®ç‰¹æ€§**: åç«¯æ ¹æ® `authToken` ä¸­çš„ `role` å­—æ®µè‡ªåŠ¨è¿”å›å¯¹åº”æƒé™çš„æ•°æ®ã€‚

---

## ğŸ“‹ åç»­æ­¥éª¤

### 1ï¸âƒ£ å®‰è£…ä¾èµ–

```powershell
cd admin-portal && npm install
cd staff-portal && npm install
cd customer-app && npm install
```

### 2ï¸âƒ£ å¯åŠ¨åº”ç”¨

```powershell
# ç»ˆç«¯1 - åç«¯
cd backend && npm start

# ç»ˆç«¯2 - ç®¡ç†å‘˜ç«¯
cd admin-portal && npm run dev

# ç»ˆç«¯3 - ç¾å®¹å¸ˆç«¯
cd staff-portal && npm run dev

# ç»ˆç«¯4 - å®¢æˆ·ç«¯
cd customer-app && npm run dev
```

### 3ï¸âƒ£ è®¿é—®å’Œæµ‹è¯•

- ç®¡ç†å‘˜: http://localhost:5173 (admin / password123)
- ç¾å®¹å¸ˆ: http://localhost:5174 (beautician / password123)
- å®¢æˆ·: http://localhost:5175 (customer / password123)

---

## ğŸ æ‹†åˆ†çš„ä¼˜åŠ¿

âœ… **ä»£ç å¤ç”¨**: æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ã€APIã€ç»„ä»¶éƒ½è¢«ä¸‰ç«¯å…±äº«  
âœ… **ç‹¬ç«‹å¼€å‘**: å›¢é˜Ÿå¯ä»¥å¹¶è¡Œå¼€å‘ä¸åŒç«¯çš„ç‰¹å®šåŠŸèƒ½  
âœ… **ç‹¬ç«‹éƒ¨ç½²**: ä¸‰ä¸ªåº”ç”¨å¯ä»¥éƒ¨ç½²åˆ°ä¸åŒçš„æœåŠ¡å™¨/CDN  
âœ… **æ€§èƒ½ä¼˜åŒ–**: æ¯ä¸ªåº”ç”¨åªåŠ è½½è‡ªå·±éœ€è¦çš„èœå•å’ŒåŠŸèƒ½  
âœ… **æµè§ˆå™¨ç¼“å­˜**: å‡å°‘é‡å¤åŠ è½½ç›¸åŒèµ„æº  
âœ… **æ˜“äºç»´æŠ¤**: ä¿®æ”¹ API åï¼Œä¸‰ç«¯è‡ªåŠ¨åŒæ­¥  
âœ… **APPè½¬æ¢**: å®¢æˆ·ç«¯å¯è½»æ¾è½¬æ¢ä¸ºåŸç”ŸAPP

---

## ğŸŒ ç”Ÿäº§éƒ¨ç½²

### åŸŸåé…ç½®ç¤ºä¾‹

```
admin.beauty-salon.com       â†’ admin-portal (5173)
staff.beauty-salon.com       â†’ staff-portal (5174)
app.beauty-salon.com         â†’ customer-app (5175)
api.beauty-salon.com         â†’ backend      (3001)
```

### Nginx é…ç½®ç¤ºä¾‹

```nginx
# ç®¡ç†å‘˜ç«¯
server {
    listen 80;
    server_name admin.beauty-salon.com;
    location / {
        proxy_pass http://localhost:5173;
    }
}

# ç¾å®¹å¸ˆç«¯
server {
    listen 80;
    server_name staff.beauty-salon.com;
    location / {
        proxy_pass http://localhost:5174;
    }
}

# å®¢æˆ·ç«¯
server {
    listen 80;
    server_name app.beauty-salon.com;
    location / {
        proxy_pass http://localhost:5175;
    }
}
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| `QUICK_START_THREE_PORTALS.md` | â­ å¿«é€Ÿå¯åŠ¨æŒ‡å—ï¼ˆæ¨èå…ˆè¯»ï¼‰ |
| `SPLIT_THREE_PORTALS_GUIDE.md` | è¯¦ç»†çš„æ‹†åˆ†æ¶æ„å’Œé…ç½®è¯´æ˜ |
| å„åº”ç”¨ç›®å½•ä¸‹çš„ `README.md` | å„åº”ç”¨çš„ç‰¹å®šè¯´æ˜ï¼ˆå¦‚æœ‰ï¼‰ |

---

## ğŸ› é—®é¢˜æ’æŸ¥

### å¦‚æœæŸä¸ªåº”ç”¨æ— æ³•å¯åŠ¨

1. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
2. ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ
3. æ£€æŸ¥ `src/` ç›®å½•æ˜¯å¦åŒ…å«æ‰€æœ‰æ–‡ä»¶
4. æ£€æŸ¥ `npm install` æ˜¯å¦å®Œæˆ

### å¦‚æœç™»å½•å¤±è´¥

1. ç¡®ä¿åç«¯æ•°æ®åº“å·²è¿æ¥
2. æ£€æŸ¥ `backend/.env` æ–‡ä»¶é…ç½®
3. åœ¨æµè§ˆå™¨ F12 æ§åˆ¶å°æ£€æŸ¥ API é”™è¯¯ä¿¡æ¯

### å¦‚æœ API è°ƒç”¨å‡ºé”™

1. ç¡®ä¿åç«¯è¿è¡Œåœ¨ `http://localhost:3001`
2. æ£€æŸ¥å„åº”ç”¨çš„ `vite.config.ts` ä»£ç†é…ç½®
3. åœ¨æµè§ˆå™¨ Network æ ‡ç­¾é¡µæŸ¥çœ‹ API è¯·æ±‚çŠ¶æ€

---

## ğŸ¯ å»ºè®®çš„ä½¿ç”¨æ–¹å¼

### å¼€å‘é˜¶æ®µ
1. **ä¿æŒä¸‰ä¸ªåº”ç”¨åŒæ—¶è¿è¡Œ** - ä¾¿äºæµ‹è¯•åŠŸèƒ½
2. **ä¿®æ”¹å…±äº«ä»£ç å** - åˆ·æ–°æ‰€æœ‰åº”ç”¨æŸ¥çœ‹æ•ˆæœ
3. **ä¿®æ”¹å„ç«¯ç‰¹å®šæ–‡ä»¶å** - ä»…éœ€åˆ·æ–°å¯¹åº”åº”ç”¨

### æµ‹è¯•é˜¶æ®µ
1. åˆ†åˆ«ä»¥ä¸‰ä¸ªè§’è‰²ç™»å½•æµ‹è¯•
2. éªŒè¯æ¯ä¸ªè§’è‰²åªèƒ½è®¿é—®å¯¹åº”çš„èœå•
3. æµ‹è¯•è·¨ç«¯å£çš„ API è°ƒç”¨

### éƒ¨ç½²é˜¶æ®µ
1. åˆ†åˆ«æ„å»ºä¸‰ä¸ªåº”ç”¨: `npm run build`
2. å°† `dist/` éƒ¨ç½²åˆ°å„è‡ªçš„æœåŠ¡å™¨
3. é…ç½® API åœ°å€æŒ‡å‘ç”Ÿäº§æœåŠ¡å™¨

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. **ç«‹å³æµ‹è¯•**: æŒ‰ç…§ `QUICK_START_THREE_PORTALS.md` å¯åŠ¨åº”ç”¨
2. **éªŒè¯åŠŸèƒ½**: åœ¨ä¸‰ä¸ªåº”ç”¨ä¸­åˆ†åˆ«ç™»å½•å’Œæµè§ˆ
3. **æ¢ç´¢ä»£ç **: æŸ¥çœ‹å„åº”ç”¨çš„ `src/App.tsx` äº†è§£å·®å¼‚
4. **è‡ªå®šä¹‰å¼€å‘**: åœ¨å„ç«¯æ·»åŠ ç‰¹å®šåŠŸèƒ½

---

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹å¯¹åº”æ–‡æ¡£çš„"å¸¸è§é—®é¢˜"éƒ¨åˆ†
2. æ£€æŸ¥ç»ˆç«¯/æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
3. ç¡®ä¿åç«¯å’Œæ•°æ®åº“æ­£å¸¸è¿è¡Œ

---

**ç¥è´ºæ‚¨å®Œæˆäº†åº”ç”¨æ‹†åˆ†ï¼ç°åœ¨å¯ä»¥å¼€å§‹ä¼˜åŒ–å’Œè‡ªå®šä¹‰æ‚¨çš„ä¸‰ç«¯åº”ç”¨äº†ã€‚** ğŸ‰


