# 动态主题标题功能快速测试指南

## 30 秒快速测试

### 第一步：启动应用
```bash
npm run dev
```
访问 http://localhost:5173

### 第二步：进入海报制作
1. 登录应用
2. 点击左侧菜单 → "营销助手" 或 "AI助手"
3. 找到 "智能海报制作" 模块

### 第三步：观察动态标题效果
1. **初始状态**：页面顶部无特殊标题区域
2. **点击任何模板**：
   - 标题区域立即出现
   - 显示该模板的背景图片、颜色和文案
   - 有平滑的过渡动画（500ms）

### 第四步：尝试切换模板
1. 点击 "季节促销" → 标题显示红黄渐变背景 + "选择季节，开启优惠之旅"
2. 点击 "新品上市" → 标题显示紫色渐变背景 + "展示新品，吸引眼球"
3. 点击 "护肤方案" → 标题显示粉色渐变背景 + "护肤方案，定制美丽"
4. ... 依次测试其他模板

## 验收标准

### 视觉效果检查清单

- [ ] 标题区域默认不显示（未选中模板时）
- [ ] 点击模板后立即出现标题区域
- [ ] 每个模板都有不同的背景颜色/渐变
- [ ] 文字清晰可读（有半透明遮罩）
- [ ] 切换模板时有平滑的过渡效果
- [ ] 模板名称正确显示
- [ ] 装饰文案正确匹配模板

### 功能检查清单

- [ ] 点击"搜索图片"后标题仍然显示
- [ ] 点击"一键生成"后标题仍然显示
- [ ] 点击"生成海报"后标题仍然显示
- [ ] 切换不同分类标签时标题正确更新
- [ ] 每个模板都有对应的主题颜色

### 模板测试矩阵

| 模板名称 | 预期背景色 | 预期文案 | 是否通过 |
|---------|----------|--------|--------|
| 季节促销 | 红黄渐变 | 选择季节，开启优惠之旅 | ☐ |
| 新品上市 | 紫色渐变 | 展示新品，吸引眼球 | ☐ |
| 护肤方案 | 粉色渐变 | 护肤方案，定制美丽 | ☐ |
| 会员卡权益 | 橙色渐变 | 会员专享，权益多多 | ☐ |
| 活动邀请 | 蓝紫渐变 | 邀请参加，共享盛事 | ☐ |
| 课程推广 | 绿青渐变 | 学习成长，专业引领 | ☐ |
| 限时秒杀 | 红黄渐变 | 限时秒杀，抢购盛宴 | ☐ |
| 推荐返利 | 粉色渐变 | 推荐返利，分享收益 | ☐ |

## 测试场景

### 场景 1：基本交互
```
1. 打开海报制作页面
2. 观察初始状态（无标题区域）
3. 点击第一个模板
   → 验证：标题区域出现
4. 点击第二个模板
   → 验证：标题区域更新为新模板的主题
```

### 场景 2：分类过滤
```
1. 打开海报制作页面
2. 点击"促销"分类
3. 点击任何模板
   → 验证：标题区域显示该模板的主题
4. 点击"产品"分类
5. 点击任何模板
   → 验证：标题区域平滑过渡到新主题
```

### 场景 3：生成流程
```
1. 打开海报制作页面
2. 点击任何模板
3. 点击"一键生成"按钮
   → 验证：标题区域保持显示
   → 验证：后台开始生成海报
4. 等待生成完成
   → 验证：标题区域仍然显示
```

### 场景 4：图片搜索
```
1. 打开海报制作页面
2. 点击任何模板
3. 点击"搜索图片"按钮
   → 验证：标题区域保持显示
   → 验证：打开图片搜索面板
4. 关闭搜索面板
   → 验证：标题区域仍然显示
```

## 预期的界面变化

### 点击前
```
┌─────────────────────────────────────────┐
│  智能海报制作                              │
│  选择模板，一键生成专业海报                  │
└─────────────────────────────────────────┘

┌─────────────┬─────────────┬──────────────┐
│ 分类过滤    │             │              │
├─────────────┴─────────────┴──────────────┤
│ 全部 促销 产品 护肤 活动 季节              │
└───────────────────────────────────────────┘

┌────────────────────────────────────────────┐
│ 模板卡片 1  │ 模板卡片 2  │ 模板卡片 3    │
└────────────────────────────────────────────┘
```

### 点击后
```
┌────────────────────────────────────────────┐
│                                             │
│  ╭─────────────────────────────────────╮  │
│  │      新品上市                         │  │
│  │   展示新品，吸引眼球                   │  │
│  ╰─────────────────────────────────────╯  │
│  (紫色渐变背景)                           │
│                                             │
└────────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│  智能海报制作                              │
│  选择模板，一键生成专业海报                  │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 分类过滤                                   │
├─────────────────────────────────────────┤
│ 全部 促销 产品 护肤 活动 季节              │
└─────────────────────────────────────────┘

┌────────────────────────────────────────┐
│ 模板卡片 1  │ 模板卡片 2  │ 模板卡片 3 │
└────────────────────────────────────────┘
```

## 调试技巧

### 查看模板配置
在浏览器控制台运行：
```javascript
// 获取所有模板配置
import posterTemplateImageService from './src/services/posterTemplateImageService';
posterTemplateImageService.getAllTemplateImages();

// 获取特定模板
posterTemplateImageService.getTemplateImage('promo-seasonal');

// 获取渐变样式
posterTemplateImageService.getGradientStyle('new-product');

// 获取装饰文案
posterTemplateImageService.getThemeDecorationText('skincare-routine');
```

### 查看当前选中模板
在 React DevTools 中：
1. 打开 React DevTools
2. 找到 SmartPosterMaker 组件
3. 查看 `currentSelectedTemplate` 状态

### 强制刷新样式
```javascript
// 清除缓存并重新加载
localStorage.clear();
location.reload();
```

## 常见问题排查

### 问题 1：标题区域不显示
**原因**：可能未选中任何模板或模板配置错误

**解决**：
1. 检查是否点击了模板卡片
2. 在控制台检查 `currentSelectedTemplate` 是否有值
3. 验证 `posterTemplateImageService` 是否正确导入

### 问题 2：背景图片不加载
**原因**：图片 URL 无效或 CORS 问题

**解决**：
1. 检查网络请求（F12 → Network）
2. 检查 CORS 错误
3. 替换为有效的图片 URL

### 问题 3：文字不清晰
**原因**：遮罩层透明度不够

**解决**：
1. 修改 `bg-black/40` 为 `bg-black/50` 或更高
2. 在 `SmartPosterMaker.tsx` 中调整

### 问题 4：过渡效果不顺畅
**原因**：CSS 过渡时间太短或浏览器性能问题

**解决**：
1. 增加 `duration-500` 到 `duration-700`
2. 关闭浏览器其他标签页
3. 清理浏览器缓存

## 性能测试

### 响应时间测试
```
预期响应时间：< 100ms
├─ 点击模板 → 标题更新
├─ 切换分类 → 标题平滑过渡
└─ 切换模板 → 渐变背景更新
```

### 内存占用测试
```
DevTools → Performance
1. 记录基线内存占用
2. 重复点击 10 个模板
3. 记录最终内存占用
4. 验证无内存泄漏（< 10% 增长）
```

## 提交测试结果

测试完成后，请提交以下信息：

- 测试环境：Windows / Mac / Linux
- 浏览器：Chrome / Firefox / Safari / Edge
- 所有检查清单项是否都通过
- 任何发现的问题或建议
- 截图/视频（可选）

## 技术支持

如果遇到问题，请查看：
- `THEME_DYNAMIC_HEADER_GUIDE.md` - 完整功能文档
- `src/components/SmartPosterMaker.tsx` - 主组件代码
- `src/services/posterTemplateImageService.ts` - 服务代码
