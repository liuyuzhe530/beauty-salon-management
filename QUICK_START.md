# 🚀 快速开始 - 测试第一阶段功能

## 📱 访问应用

```
开发模式: http://localhost:3000 (或 3001 如果 3000 被占用)
```

---

## 🧪 5 分钟快速测试

### 1️⃣ **测试 Toast 通知** (30秒)

1. 进入"客户管理"页面
2. 点击"添加客户"按钮
3. **预期**: 看到 Modal 弹出
4. 关闭 Modal (点击 X 或背景)
5. **预期**: 显示提示信息 (如果有操作)

---

### 2️⃣ **测试 Modal 和表单** (1分钟)

1. 点击"添加客户"按钮
2. Modal 弹出显示表单
3. 尝试直接点击"添加"（不填写数据）
4. **预期**: 表单字段变红，显示"客户名称不能为空"错误
5. 输入以下数据:
   - 名称: `测试客户`
   - 电话: `13912345678`
   - 其他字段随意填写
6. 点击"添加"按钮
7. **预期**: 
   - Modal 关闭
   - 右上角显示绿色 Toast: "已添加新客户 测试客户"
   - 表格中出现新客户

---

### 3️⃣ **测试搜索功能** (1分钟)

1. 在搜索框输入: `李美` 或 `13812345678`
2. **预期**: 表格实时更新，只显示匹配的客户
3. 清空搜索框
4. **预期**: 显示全部客户

---

### 4️⃣ **测试筛选功能** (1分钟)

1. 点击"活跃"按钮
2. **预期**: 表格只显示活跃客户，其他变灰显示
3. 依次点击"风险"、"不活跃"、"全部"
4. **预期**: 表格内容相应变化

---

### 5️⃣ **测试编辑功能** (1分钟)

1. 在任意客户行上，点击"编辑"按钮
2. Modal 弹出，表单显示该客户的数据（**预填充**）
3. 修改名称或其他信息
4. 点击"保存"按钮
5. **预期**:
   - Modal 关闭
   - 右上角显示绿色 Toast: "已更新客户 ..."
   - 表格中的数据更新

---

### 6️⃣ **测试删除功能** (30秒)

1. 在任意客户行上，点击"删除"按钮
2. 浏览器弹出确认对话框: "确定要删除客户 ... 吗？"
3. 点击确定
4. **预期**:
   - 右上角显示绿色 Toast: "已删除客户 ..."
   - 该客户从表格消失

---

### 7️⃣ **测试数据持久化** (30秒)

1. 添加一个新客户
2. 页面刷新 (F5 或 Ctrl+R)
3. **预期**: 你添加的客户依然存在！
   - 数据存储在浏览器 localStorage 中
   - 关闭浏览器后重新打开也会保留

---

## 🔍 在浏览器中查看 localStorage

### Chrome / Firefox / Edge

1. 按 `F12` 打开开发者工具
2. 切换到 "Application" 或 "存储" 标签
3. 左侧找到 "Local Storage"
4. 选择你当前访问的网站
5. 搜索 `beauty_salon_customers` 的键
6. **预期**: 看到 JSON 格式的所有客户数据

### 查看 JSON 数据

```json
[
  {
    "id": "1701587642351",
    "name": "李美娟",
    "phone": "13812345678",
    "totalSpending": 4500,
    "appointmentCount": 12,
    "preferredStaff": "王美艺",
    "status": "active",
    "lastVisit": "2025-10-21",
    "photo": "https://images.unsplash.com/..."
  }
]
```

---

## 📋 完整测试清单

### 核心功能

- [ ] **查看** - 打开客户页面，看到客户列表
- [ ] **搜索** - 按名称/手机号搜索
- [ ] **筛选** - 按状态筛选 (活跃/风险/不活跃)
- [ ] **添加** - 添加新客户，表单验证工作
- [ ] **编辑** - 编辑客户，表单预填充
- [ ] **删除** - 删除客户，带确认

### 通知反馈

- [ ] **成功提示** - 操作成功时显示绿色 Toast
- [ ] **错误提示** - 验证失败时显示红色 Toast
- [ ] **自动消失** - Toast 3 秒后自动消失
- [ ] **手动关闭** - 点击 Toast 上的 X 可关闭

### Modal 交互

- [ ] **弹出动画** - 弹出时有平滑动画
- [ ] **后退关闭** - 点击背景可关闭 Modal
- [ ] **按钮关闭** - 点击 X 图标可关闭 Modal
- [ ] **加载状态** - 提交时按钮显示加载状态

### 数据持久化

- [ ] **刷新保存** - 刷新页面后数据仍然存在
- [ ] **重新打开** - 关闭浏览器后重新打开数据仍然存在
- [ ] **localStorage** - 在开发者工具中看到数据

### 表单验证

- [ ] **必填字段** - 不填名称或电话无法提交
- [ ] **电话格式** - 输入无效电话号显示错误
- [ ] **正数限制** - 消费额/预约次数必须 ≥ 0
- [ ] **错误提示** - 错误字段变红，显示提示文本

### UI/UX

- [ ] **响应式** - 桌面和移动端都正常显示
- [ ] **按钮悬停** - 按钮悬停时有颜色变化
- [ ] **行悬停** - 表格行悬停时背景变绿
- [ ] **图标正确** - 所有图标显示正确

---

## 🐛 常见问题排查

### 问题 1: 页面加载后一片空白

**解决方案**:
1. 打开浏览器开发者工具 (F12)
2. 查看 Console 标签是否有错误
3. 尝试强制刷新: Ctrl+Shift+R (Windows) 或 Cmd+Shift+R (Mac)
4. 如果仍有问题，检查开发服务器是否正在运行

### 问题 2: 添加客户后表格没有更新

**解决方案**:
1. 确保点击了"添加"按钮（不是"取消"）
2. 检查 Toast 是否显示成功提示
3. 尝试页面刷新 (F5)
4. 查看开发者工具 Console 是否有红色错误

### 问题 3: 搜索不工作

**解决方案**:
1. 确保搜索框有焦点（光标可见）
2. 尝试搜索已知存在的客户名称
3. 手机号搜索时输入完整号码

### 问题 4: 数据在刷新后丢失

**解决方案**:
1. 检查浏览器是否禁用了 localStorage
   - 打开开发者工具 → Application → Local Storage
   - 查看是否能找到 `beauty_salon_customers` 键
2. 尝试在无痕/隐私模式下测试
3. 检查浏览器隐私设置是否禁用了网站存储

### 问题 5: Modal 无法关闭

**解决方案**:
1. 点击 Modal 上的 X 按钮 (右上角)
2. 或点击 Modal 外的黑色背景
3. 如果按钮被禁用（显示加载状态），等待操作完成

---

## 🎨 UI 快速参考

### 颜色主题

```css
绿色主题:
  - 主色: #22c55e (bg-green-600)
  - 浅色: #dcfce7 (bg-green-50)
  - 边框: #bbf7d0 (border-green-200)
  - 文本: #15803d (text-green-900)
```

### 按钮样式

| 按钮 | 样式 | 用途 |
|------|------|------|
| 添加/保存 | bg-green-600 text-white | 主操作 |
| 取消 | bg-gray-200 text-gray-700 | 次操作 |
| 编辑 | bg-blue-100 text-blue-700 | 信息操作 |
| 删除 | bg-red-100 text-red-700 | 危险操作 |

### 状态标签

| 状态 | 样式 | 含义 |
|------|------|------|
| 活跃 | bg-green-100 text-green-800 | ✓ 正常客户 |
| 风险 | bg-red-100 text-red-800 | ⚠ 需要关注 |
| 不活跃 | bg-gray-100 text-gray-800 | ✗ 已流失 |

---

## 📊 测试数据

### 预加载的客户

系统预装了 5 名测试客户:

1. **李美娟** - 13812345678 - 活跃 - ¥4,500
2. **王美艺** - 13912345679 - 活跃 - ¥6,200
3. **陈思语** - 13812345680 - 风险 - ¥2,100
4. **张琳琳** - 15912345681 - 不活跃 - ¥800
5. **刘心怡** - 13712345682 - 活跃 - ¥5,600

### 添加测试

添加新客户时可以使用这些数据:

```
姓名: 测试用户
电话: 13900000000
消费: 1000
预约: 5
美容师: 李美娟
状态: 活跃
日期: 2025-10-21
```

---

## 🔧 开发者工具

### 重置数据

如果想回到初始状态，可以在浏览器 Console 执行:

```javascript
localStorage.removeItem('beauty_salon_customers');
location.reload();
```

### 查看所有数据

在 Console 执行:

```javascript
console.log(JSON.parse(localStorage.getItem('beauty_salon_customers')));
```

### 手动添加数据

```javascript
const data = JSON.parse(localStorage.getItem('beauty_salon_customers') || '[]');
data.push({
  id: Date.now().toString(),
  name: "手动测试",
  phone: "13900000001",
  totalSpending: 999,
  appointmentCount: 1,
  preferredStaff: "李美娟",
  status: "active",
  lastVisit: "2025-10-21",
  photo: "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400"
});
localStorage.setItem('beauty_salon_customers', JSON.stringify(data));
location.reload();
```

---

## 🎯 验收标准

✅ 系统符合以下标准即为成功:

1. **功能完整**: 所有 CRUD 操作都能正常工作
2. **数据持久**: 刷新页面后数据保留
3. **用户反馈**: 所有操作都有 Toast 提示
4. **表单验证**: 无效数据无法提交
5. **UI 美观**: 界面整洁，使用绿色主题
6. **无错误**: 控制台无 JavaScript 错误
7. **响应式**: 在手机和桌面都能使用

---

## 📞 获取帮助

如有问题，请检查:

1. **开发者工具** (F12) → Console 标签，查看错误信息
2. **Network 标签** → 检查是否有失败的请求
3. **Application 标签** → 检查 localStorage 数据
4. **Sources 标签** → 在代码中设置断点调试

---

## ✨ 下一步

测试通过后，可以考虑:

1. **复制模式** - 将相同的 CRUD 逻辑应用到预约、美容师等模块
2. **导出功能** - 添加"导出 Excel"功能
3. **高级搜索** - 按日期范围、金额范围等搜索
4. **统计图表** - 在仪表盘显示客户统计
5. **后端集成** - 连接真实 API

---

**祝你测试愉快！** 🎉

有任何问题或建议，欢迎反馈！💬




