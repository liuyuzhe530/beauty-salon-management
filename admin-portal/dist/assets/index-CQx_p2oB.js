var l0=Object.defineProperty;var a0=(e,t,r)=>t in e?l0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ce=(e,t,r)=>a0(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function o0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cu={exports:{}},Al={},du={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sn=Symbol.for("react.element"),i0=Symbol.for("react.portal"),c0=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),p0=Symbol.for("react.context"),h0=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),g0=Symbol.for("react.memo"),f0=Symbol.for("react.lazy"),Fi=Symbol.iterator;function y0(e){return e===null||typeof e!="object"?null:(e=Fi&&e[Fi]||e["@@iterator"],typeof e=="function"?e:null)}var uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mu=Object.assign,pu={};function ir(e,t,r){this.props=e,this.context=t,this.refs=pu,this.updater=r||uu}ir.prototype.isReactComponent={};ir.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hu(){}hu.prototype=ir.prototype;function Fo(e,t,r){this.props=e,this.context=t,this.refs=pu,this.updater=r||uu}var zo=Fo.prototype=new hu;zo.constructor=Fo;mu(zo,ir.prototype);zo.isPureReactComponent=!0;var zi=Array.isArray,xu=Object.prototype.hasOwnProperty,Uo={current:null},gu={key:!0,ref:!0,__self:!0,__source:!0};function fu(e,t,r){var n,l={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)xu.call(t,n)&&!gu.hasOwnProperty(n)&&(l[n]=t[n]);var i=arguments.length-2;if(i===1)l.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)l[n]===void 0&&(l[n]=i[n]);return{$$typeof:sn,type:e,key:a,ref:o,props:l,_owner:Uo.current}}function b0(e,t){return{$$typeof:sn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bo(e){return typeof e=="object"&&e!==null&&e.$$typeof===sn}function v0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ui=/\/+/g;function Zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?v0(""+e.key):t.toString(36)}function _n(e,t,r,n,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sn:case i0:o=!0}}if(o)return o=e,l=l(o),e=n===""?"."+Zl(o,0):n,zi(l)?(r="",e!=null&&(r=e.replace(Ui,"$&/")+"/"),_n(l,t,r,"",function(d){return d})):l!=null&&(Bo(l)&&(l=b0(l,r+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Ui,"$&/")+"/")+e)),t.push(l)),1;if(o=0,n=n===""?".":n+":",zi(e))for(var i=0;i<e.length;i++){a=e[i];var c=n+Zl(a,i);o+=_n(a,t,r,c,l)}else if(c=y0(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=n+Zl(a,i++),o+=_n(a,t,r,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xn(e,t,r){if(e==null)return e;var n=[],l=0;return _n(e,n,"","",function(a){return t.call(r,a,l++)}),n}function j0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Dn={transition:null},N0={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Dn,ReactCurrentOwner:Uo};function yu(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:xn,forEach:function(e,t,r){xn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xn(e,function(){t++}),t},toArray:function(e){return xn(e,function(t){return t})||[]},only:function(e){if(!Bo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=ir;V.Fragment=c0;V.Profiler=u0;V.PureComponent=Fo;V.StrictMode=d0;V.Suspense=x0;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;V.act=yu;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mu({},e.props),l=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Uo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)xu.call(t,c)&&!gu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];n.children=i}return{$$typeof:sn,type:e.type,key:l,ref:a,props:n,_owner:o}};V.createContext=function(e){return e={$$typeof:p0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m0,_context:e},e.Consumer=e};V.createElement=fu;V.createFactory=function(e){var t=fu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:h0,render:e}};V.isValidElement=Bo;V.lazy=function(e){return{$$typeof:f0,_payload:{_status:-1,_result:e},_init:j0}};V.memo=function(e,t){return{$$typeof:g0,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=Dn.transition;Dn.transition={};try{e()}finally{Dn.transition=t}};V.unstable_act=yu;V.useCallback=function(e,t){return Ae.current.useCallback(e,t)};V.useContext=function(e){return Ae.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};V.useEffect=function(e,t){return Ae.current.useEffect(e,t)};V.useId=function(){return Ae.current.useId()};V.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Ae.current.useMemo(e,t)};V.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};V.useRef=function(e){return Ae.current.useRef(e)};V.useState=function(e){return Ae.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return Ae.current.useTransition()};V.version="18.3.1";du.exports=V;var k=du.exports;const bu=o0(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=k,k0=Symbol.for("react.element"),S0=Symbol.for("react.fragment"),C0=Object.prototype.hasOwnProperty,E0=w0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P0={key:!0,ref:!0,__self:!0,__source:!0};function vu(e,t,r){var n,l={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)C0.call(t,n)&&!P0.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)l[n]===void 0&&(l[n]=t[n]);return{$$typeof:k0,type:e,key:a,ref:o,props:l,_owner:E0.current}}Al.Fragment=S0;Al.jsx=vu;Al.jsxs=vu;cu.exports=Al;var s=cu.exports,Oa={},ju={exports:{}},Ve={},Nu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,z){var B=M.length;M.push(z);e:for(;0<B;){var W=B-1>>>1,G=M[W];if(0<l(G,z))M[W]=z,M[B]=G,B=W;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var z=M[0],B=M.pop();if(B!==z){M[0]=B;e:for(var W=0,G=M.length,Ke=G>>>1;W<Ke;){var je=2*(W+1)-1,dt=M[je],tt=je+1,Rt=M[tt];if(0>l(dt,B))tt<G&&0>l(Rt,dt)?(M[W]=Rt,M[tt]=B,W=tt):(M[W]=dt,M[je]=B,W=je);else if(tt<G&&0>l(Rt,B))M[W]=Rt,M[tt]=B,W=tt;else break e}}return z}function l(M,z){var B=M.sortIndex-z.sortIndex;return B!==0?B:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],d=[],p=1,h=null,x=3,g=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var z=r(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=M)n(d),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(d)}}function S(M){if(v=!1,b(M),!m)if(r(c)!==null)m=!0,q(C);else{var z=r(d);z!==null&&le(S,z.startTime-M)}}function C(M,z){m=!1,v&&(v=!1,u(I),I=-1),g=!0;var B=x;try{for(b(z),h=r(c);h!==null&&(!(h.expirationTime>z)||M&&!j());){var W=h.callback;if(typeof W=="function"){h.callback=null,x=h.priorityLevel;var G=W(h.expirationTime<=z);z=e.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),b(z)}else n(c);h=r(c)}if(h!==null)var Ke=!0;else{var je=r(d);je!==null&&le(S,je.startTime-z),Ke=!1}return Ke}finally{h=null,x=B,g=!1}}var T=!1,w=null,I=-1,F=5,N=-1;function j(){return!(e.unstable_now()-N<F)}function P(){if(w!==null){var M=e.unstable_now();N=M;var z=!0;try{z=w(!0,M)}finally{z?O():(T=!1,w=null)}}else T=!1}var O;if(typeof f=="function")O=function(){f(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=P,O=function(){U.postMessage(null)}}else O=function(){y(P,0)};function q(M){w=M,T||(T=!0,O())}function le(M,z){I=y(function(){M(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,q(C))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var B=x;x=z;try{return M()}finally{x=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=x;x=M;try{return z()}finally{x=B}},e.unstable_scheduleCallback=function(M,z,B){var W=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,M={id:p++,callback:z,priorityLevel:M,startTime:B,expirationTime:G,sortIndex:-1},B>W?(M.sortIndex=B,t(d,M),r(c)===null&&M===r(d)&&(v?(u(I),I=-1):v=!0,le(S,B-W))):(M.sortIndex=G,t(c,M),m||g||(m=!0,q(C))),M},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(M){var z=x;return function(){var B=x;x=z;try{return M.apply(this,arguments)}finally{x=B}}}})(wu);Nu.exports=wu;var A0=Nu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=k,He=A0;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ku=new Set,_r={};function Es(e,t){Qs(e,t),Qs(e+"Capture",t)}function Qs(e,t){for(_r[e]=t,e=0;e<t.length;e++)ku.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=Object.prototype.hasOwnProperty,R0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bi={},Hi={};function I0(e){return La.call(Hi,e)?!0:La.call(Bi,e)?!1:R0.test(e)?Hi[e]=!0:(Bi[e]=!0,!1)}function M0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $0(e,t,r,n){if(t===null||typeof t>"u"||M0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,r,n,l,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ho=/[\-:]([a-z])/g;function qo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ho,qo);ve[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ho,qo);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ho,qo);ve[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vo(e,t,r,n){var l=ve.hasOwnProperty(t)?ve[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($0(t,r,l,n)&&(r=null),n||l===null?I0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,n=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var At=T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gn=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Wo=Symbol.for("react.strict_mode"),_a=Symbol.for("react.profiler"),Su=Symbol.for("react.provider"),Cu=Symbol.for("react.context"),Ko=Symbol.for("react.forward_ref"),Da=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Jo=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Eu=Symbol.for("react.offscreen"),qi=Symbol.iterator;function pr(e){return e===null||typeof e!="object"?null:(e=qi&&e[qi]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ea;function wr(e){if(ea===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ea=t&&t[1]||""}return`
`+ea+e}var ta=!1;function sa(e,t){if(!e||ta)return"";ta=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),a=n.stack.split(`
`),o=l.length-1,i=a.length-1;1<=o&&0<=i&&l[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||l[o]!==a[i]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{ta=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wr(e):""}function O0(e){switch(e.tag){case 5:return wr(e.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return e=sa(e.type,!1),e;case 11:return e=sa(e.type.render,!1),e;case 1:return e=sa(e.type,!0),e;default:return""}}function za(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ms:return"Fragment";case Is:return"Portal";case _a:return"Profiler";case Wo:return"StrictMode";case Da:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cu:return(e.displayName||"Context")+".Consumer";case Su:return(e._context.displayName||"Context")+".Provider";case Ko:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jo:return t=e.displayName||null,t!==null?t:za(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return za(e(t))}catch{}}return null}function L0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return za(t);case 8:return t===Wo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _0(e){var t=Pu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fn(e){e._valueTracker||(e._valueTracker=_0(e))}function Au(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Pu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ua(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vi(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tu(e,t){t=t.checked,t!=null&&Vo(e,"checked",t,!1)}function Ba(e,t){Tu(e,t);var r=Yt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ha(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ha(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wi(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ha(e,t,r){(t!=="number"||Zn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kr=Array.isArray;function qs(e,t,r,n){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yt(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ki(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(kr(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yt(r)}}function Ru(e,t){var r=Yt(t.value),n=Yt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ji(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Iu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Va(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Iu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yn,Mu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yn=yn||document.createElement("div"),yn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D0=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){D0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function $u(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function Ou(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,l=$u(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,l):e[r]=l}}var F0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(e,t){if(t){if(F0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Ka(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function Go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,Vs=null,Ws=null;function Gi(e){if(e=ln(e)){if(typeof Ga!="function")throw Error($(280));var t=e.stateNode;t&&(t=$l(t),Ga(e.stateNode,e.type,t))}}function Lu(e){Vs?Ws?Ws.push(e):Ws=[e]:Vs=e}function _u(){if(Vs){var e=Vs,t=Ws;if(Ws=Vs=null,Gi(e),t)for(e=0;e<t.length;e++)Gi(t[e])}}function Du(e,t){return e(t)}function Fu(){}var ra=!1;function zu(e,t,r){if(ra)return e(t,r);ra=!0;try{return Du(e,t,r)}finally{ra=!1,(Vs!==null||Ws!==null)&&(Fu(),_u())}}function Fr(e,t){var r=e.stateNode;if(r===null)return null;var n=$l(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var Qa=!1;if(kt)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Qa=!1}function z0(e,t,r,n,l,a,o,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(p){this.onError(p)}}var Pr=!1,el=null,tl=!1,Ya=null,U0={onError:function(e){Pr=!0,el=e}};function B0(e,t,r,n,l,a,o,i,c){Pr=!1,el=null,z0.apply(U0,arguments)}function H0(e,t,r,n,l,a,o,i,c){if(B0.apply(this,arguments),Pr){if(Pr){var d=el;Pr=!1,el=null}else throw Error($(198));tl||(tl=!0,Ya=d)}}function Ps(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Uu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qi(e){if(Ps(e)!==e)throw Error($(188))}function q0(e){var t=e.alternate;if(!t){if(t=Ps(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var l=r.return;if(l===null)break;var a=l.alternate;if(a===null){if(n=l.return,n!==null){r=n;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===r)return Qi(l),e;if(a===n)return Qi(l),t;a=a.sibling}throw Error($(188))}if(r.return!==n.return)r=l,n=a;else{for(var o=!1,i=l.child;i;){if(i===r){o=!0,r=l,n=a;break}if(i===n){o=!0,n=l,r=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===r){o=!0,r=a,n=l;break}if(i===n){o=!0,n=a,r=l;break}i=i.sibling}if(!o)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function Bu(e){return e=q0(e),e!==null?Hu(e):null}function Hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hu(e);if(t!==null)return t;e=e.sibling}return null}var qu=He.unstable_scheduleCallback,Yi=He.unstable_cancelCallback,V0=He.unstable_shouldYield,W0=He.unstable_requestPaint,ue=He.unstable_now,K0=He.unstable_getCurrentPriorityLevel,Qo=He.unstable_ImmediatePriority,Vu=He.unstable_UserBlockingPriority,sl=He.unstable_NormalPriority,J0=He.unstable_LowPriority,Wu=He.unstable_IdlePriority,Tl=null,gt=null;function G0(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:X0,Q0=Math.log,Y0=Math.LN2;function X0(e){return e>>>=0,e===0?32:31-(Q0(e)/Y0|0)|0}var bn=64,vn=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,l=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var i=o&~l;i!==0?n=Sr(i):(a&=o,a!==0&&(n=Sr(a)))}else o=r&~l,o!==0?n=Sr(o):a!==0&&(n=Sr(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&l)&&(l=n&-n,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-at(t),l=1<<r,n|=e[r],t&=~l;return n}function Z0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eh(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-at(a),i=1<<o,c=l[o];c===-1?(!(i&r)||i&n)&&(l[o]=Z0(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function Xa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ku(){var e=bn;return bn<<=1,!(bn&4194240)&&(bn=64),e}function na(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=r}function th(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-at(r),a=1<<l;t[l]=0,n[l]=-1,e[l]=-1,r&=~a}}function Yo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),l=1<<n;l&t|e[n]&t&&(e[n]|=t),r&=~l}}var Q=0;function Ju(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gu,Xo,Qu,Yu,Xu,Za=!1,jn=[],Bt=null,Ht=null,qt=null,zr=new Map,Ur=new Map,_t=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xi(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function xr(e,t,r,n,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[l]},t!==null&&(t=ln(t),t!==null&&Xo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function rh(e,t,r,n,l){switch(t){case"focusin":return Bt=xr(Bt,e,t,r,n,l),!0;case"dragenter":return Ht=xr(Ht,e,t,r,n,l),!0;case"mouseover":return qt=xr(qt,e,t,r,n,l),!0;case"pointerover":var a=l.pointerId;return zr.set(a,xr(zr.get(a)||null,e,t,r,n,l)),!0;case"gotpointercapture":return a=l.pointerId,Ur.set(a,xr(Ur.get(a)||null,e,t,r,n,l)),!0}return!1}function Zu(e){var t=ds(e.target);if(t!==null){var r=Ps(t);if(r!==null){if(t=r.tag,t===13){if(t=Uu(r),t!==null){e.blockedOn=t,Xu(e.priority,function(){Qu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ja=n,r.target.dispatchEvent(n),Ja=null}else return t=ln(r),t!==null&&Xo(t),e.blockedOn=r,!1;t.shift()}return!0}function Zi(e,t,r){Fn(e)&&r.delete(t)}function nh(){Za=!1,Bt!==null&&Fn(Bt)&&(Bt=null),Ht!==null&&Fn(Ht)&&(Ht=null),qt!==null&&Fn(qt)&&(qt=null),zr.forEach(Zi),Ur.forEach(Zi)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,Za||(Za=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,nh)))}function Br(e){function t(l){return gr(l,e)}if(0<jn.length){gr(jn[0],e);for(var r=1;r<jn.length;r++){var n=jn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bt!==null&&gr(Bt,e),Ht!==null&&gr(Ht,e),qt!==null&&gr(qt,e),zr.forEach(t),Ur.forEach(t),r=0;r<_t.length;r++)n=_t[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_t.length&&(r=_t[0],r.blockedOn===null);)Zu(r),r.blockedOn===null&&_t.shift()}var Ks=At.ReactCurrentBatchConfig,nl=!0;function lh(e,t,r,n){var l=Q,a=Ks.transition;Ks.transition=null;try{Q=1,Zo(e,t,r,n)}finally{Q=l,Ks.transition=a}}function ah(e,t,r,n){var l=Q,a=Ks.transition;Ks.transition=null;try{Q=4,Zo(e,t,r,n)}finally{Q=l,Ks.transition=a}}function Zo(e,t,r,n){if(nl){var l=eo(e,t,r,n);if(l===null)ha(e,t,n,ll,r),Xi(e,n);else if(rh(l,e,t,r,n))n.stopPropagation();else if(Xi(e,n),t&4&&-1<sh.indexOf(e)){for(;l!==null;){var a=ln(l);if(a!==null&&Gu(a),a=eo(e,t,r,n),a===null&&ha(e,t,n,ll,r),a===l)break;l=a}l!==null&&n.stopPropagation()}else ha(e,t,n,null,r)}}var ll=null;function eo(e,t,r,n){if(ll=null,e=Go(n),e=ds(e),e!==null)if(t=Ps(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Uu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ll=e,null}function em(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K0()){case Qo:return 1;case Vu:return 4;case sl:case J0:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var Ft=null,ei=null,zn=null;function tm(){if(zn)return zn;var e,t=ei,r=t.length,n,l="value"in Ft?Ft.value:Ft.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===l[a-n];n++);return zn=l.slice(e,1<n?1-n:void 0)}function Un(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nn(){return!0}function ec(){return!1}function We(e){function t(r,n,l,a,o){this._reactName=r,this._targetInst=l,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nn:ec,this.isPropagationStopped=ec,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=We(cr),nn=ie({},cr,{view:0,detail:0}),oh=We(nn),la,aa,fr,Rl=ie({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:si,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&e.type==="mousemove"?(la=e.screenX-fr.screenX,aa=e.screenY-fr.screenY):aa=la=0,fr=e),la)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),tc=We(Rl),ih=ie({},Rl,{dataTransfer:0}),ch=We(ih),dh=ie({},nn,{relatedTarget:0}),oa=We(dh),uh=ie({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=We(uh),ph=ie({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hh=We(ph),xh=ie({},cr,{data:0}),sc=We(xh),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yh[e])?!!t[e]:!1}function si(){return bh}var vh=ie({},nn,{key:function(e){if(e.key){var t=gh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Un(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:si,charCode:function(e){return e.type==="keypress"?Un(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Un(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jh=We(vh),Nh=ie({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rc=We(Nh),wh=ie({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:si}),kh=We(wh),Sh=ie({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ch=We(Sh),Eh=ie({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ph=We(Eh),Ah=[9,13,27,32],ri=kt&&"CompositionEvent"in window,Ar=null;kt&&"documentMode"in document&&(Ar=document.documentMode);var Th=kt&&"TextEvent"in window&&!Ar,sm=kt&&(!ri||Ar&&8<Ar&&11>=Ar),nc=" ",lc=!1;function rm(e,t){switch(e){case"keyup":return Ah.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $s=!1;function Rh(e,t){switch(e){case"compositionend":return nm(t);case"keypress":return t.which!==32?null:(lc=!0,nc);case"textInput":return e=t.data,e===nc&&lc?null:e;default:return null}}function Ih(e,t){if($s)return e==="compositionend"||!ri&&rm(e,t)?(e=tm(),zn=ei=Ft=null,$s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sm&&t.locale!=="ko"?null:t.data;default:return null}}var Mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mh[e.type]:t==="textarea"}function lm(e,t,r,n){Lu(n),t=al(t,"onChange"),0<t.length&&(r=new ti("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tr=null,Hr=null;function $h(e){gm(e,0)}function Il(e){var t=_s(e);if(Au(t))return e}function Oh(e,t){if(e==="change")return t}var am=!1;if(kt){var ia;if(kt){var ca="oninput"in document;if(!ca){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),ca=typeof oc.oninput=="function"}ia=ca}else ia=!1;am=ia&&(!document.documentMode||9<document.documentMode)}function ic(){Tr&&(Tr.detachEvent("onpropertychange",om),Hr=Tr=null)}function om(e){if(e.propertyName==="value"&&Il(Hr)){var t=[];lm(t,Hr,e,Go(e)),zu($h,t)}}function Lh(e,t,r){e==="focusin"?(ic(),Tr=t,Hr=r,Tr.attachEvent("onpropertychange",om)):e==="focusout"&&ic()}function _h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Hr)}function Dh(e,t){if(e==="click")return Il(t)}function Fh(e,t){if(e==="input"||e==="change")return Il(t)}function zh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:zh;function qr(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var l=r[n];if(!La.call(t,l)||!it(e[l],t[l]))return!1}return!0}function cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dc(e,t){var r=cc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cc(r)}}function im(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?im(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cm(){for(var e=window,t=Zn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zn(e.document)}return t}function ni(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uh(e){var t=cm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&im(r.ownerDocument.documentElement,r)){if(n!==null&&ni(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,a=Math.min(n.start,l);n=n.end===void 0?a:Math.min(n.end,l),!e.extend&&a>n&&(l=n,n=a,a=l),l=dc(r,a);var o=dc(r,n);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bh=kt&&"documentMode"in document&&11>=document.documentMode,Os=null,to=null,Rr=null,so=!1;function uc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;so||Os==null||Os!==Zn(n)||(n=Os,"selectionStart"in n&&ni(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rr&&qr(Rr,n)||(Rr=n,n=al(to,"onSelect"),0<n.length&&(t=new ti("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Os)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ls={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},da={},dm={};kt&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Ml(e){if(da[e])return da[e];if(!Ls[e])return e;var t=Ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dm)return da[e]=t[r];return e}var um=Ml("animationend"),mm=Ml("animationiteration"),pm=Ml("animationstart"),hm=Ml("transitionend"),xm=new Map,mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(e,t){xm.set(e,t),Es(t,[e])}for(var ua=0;ua<mc.length;ua++){var ma=mc[ua],Hh=ma.toLowerCase(),qh=ma[0].toUpperCase()+ma.slice(1);es(Hh,"on"+qh)}es(um,"onAnimationEnd");es(mm,"onAnimationIteration");es(pm,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(hm,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function pc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,H0(n,t,void 0,e),e.currentTarget=null}function gm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],l=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==a&&l.isPropagationStopped())break e;pc(l,i,d),a=c}else for(o=0;o<n.length;o++){if(i=n[o],c=i.instance,d=i.currentTarget,i=i.listener,c!==a&&l.isPropagationStopped())break e;pc(l,i,d),a=c}}}if(tl)throw e=Ya,tl=!1,Ya=null,e}function Z(e,t){var r=t[oo];r===void 0&&(r=t[oo]=new Set);var n=e+"__bubble";r.has(n)||(fm(t,e,2,!1),r.add(n))}function pa(e,t,r){var n=0;t&&(n|=4),fm(r,e,n,t)}var kn="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[kn]){e[kn]=!0,ku.forEach(function(r){r!=="selectionchange"&&(Vh.has(r)||pa(r,!1,e),pa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kn]||(t[kn]=!0,pa("selectionchange",!1,t))}}function fm(e,t,r,n){switch(em(t)){case 1:var l=lh;break;case 4:l=ah;break;default:l=Zo}r=l.bind(null,t,r,e),l=void 0,!Qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function ha(e,t,r,n,l){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var i=n.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;i!==null;){if(o=ds(i),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}i=i.parentNode}}n=n.return}zu(function(){var d=a,p=Go(r),h=[];e:{var x=xm.get(e);if(x!==void 0){var g=ti,m=e;switch(e){case"keypress":if(Un(r)===0)break e;case"keydown":case"keyup":g=jh;break;case"focusin":m="focus",g=oa;break;case"focusout":m="blur",g=oa;break;case"beforeblur":case"afterblur":g=oa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=kh;break;case um:case mm:case pm:g=mh;break;case hm:g=Ch;break;case"scroll":g=oh;break;case"wheel":g=Ph;break;case"copy":case"cut":case"paste":g=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rc}var v=(t&4)!==0,y=!v&&e==="scroll",u=v?x!==null?x+"Capture":null:x;v=[];for(var f=d,b;f!==null;){b=f;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,u!==null&&(S=Fr(f,u),S!=null&&v.push(Wr(f,S,b)))),y)break;f=f.return}0<v.length&&(x=new g(x,m,null,r,p),h.push({event:x,listeners:v}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",x&&r!==Ja&&(m=r.relatedTarget||r.fromElement)&&(ds(m)||m[St]))break e;if((g||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=d,m=m?ds(m):null,m!==null&&(y=Ps(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=d),g!==m)){if(v=tc,S="onMouseLeave",u="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=rc,S="onPointerLeave",u="onPointerEnter",f="pointer"),y=g==null?x:_s(g),b=m==null?x:_s(m),x=new v(S,f+"leave",g,r,p),x.target=y,x.relatedTarget=b,S=null,ds(p)===d&&(v=new v(u,f+"enter",m,r,p),v.target=b,v.relatedTarget=y,S=v),y=S,g&&m)t:{for(v=g,u=m,f=0,b=v;b;b=Ts(b))f++;for(b=0,S=u;S;S=Ts(S))b++;for(;0<f-b;)v=Ts(v),f--;for(;0<b-f;)u=Ts(u),b--;for(;f--;){if(v===u||u!==null&&v===u.alternate)break t;v=Ts(v),u=Ts(u)}v=null}else v=null;g!==null&&hc(h,x,g,v,!1),m!==null&&y!==null&&hc(h,y,m,v,!0)}}e:{if(x=d?_s(d):window,g=x.nodeName&&x.nodeName.toLowerCase(),g==="select"||g==="input"&&x.type==="file")var C=Oh;else if(ac(x))if(am)C=Fh;else{C=_h;var T=Lh}else(g=x.nodeName)&&g.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(C=Dh);if(C&&(C=C(e,d))){lm(h,C,r,p);break e}T&&T(e,x,d),e==="focusout"&&(T=x._wrapperState)&&T.controlled&&x.type==="number"&&Ha(x,"number",x.value)}switch(T=d?_s(d):window,e){case"focusin":(ac(T)||T.contentEditable==="true")&&(Os=T,to=d,Rr=null);break;case"focusout":Rr=to=Os=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,uc(h,r,p);break;case"selectionchange":if(Bh)break;case"keydown":case"keyup":uc(h,r,p)}var w;if(ri)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else $s?rm(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(sm&&r.locale!=="ko"&&($s||I!=="onCompositionStart"?I==="onCompositionEnd"&&$s&&(w=tm()):(Ft=p,ei="value"in Ft?Ft.value:Ft.textContent,$s=!0)),T=al(d,I),0<T.length&&(I=new sc(I,e,null,r,p),h.push({event:I,listeners:T}),w?I.data=w:(w=nm(r),w!==null&&(I.data=w)))),(w=Th?Rh(e,r):Ih(e,r))&&(d=al(d,"onBeforeInput"),0<d.length&&(p=new sc("onBeforeInput","beforeinput",null,r,p),h.push({event:p,listeners:d}),p.data=w))}gm(h,t)})}function Wr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function al(e,t){for(var r=t+"Capture",n=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Fr(e,r),a!=null&&n.unshift(Wr(e,a,l)),a=Fr(e,t),a!=null&&n.push(Wr(e,a,l))),e=e.return}return n}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hc(e,t,r,n,l){for(var a=t._reactName,o=[];r!==null&&r!==n;){var i=r,c=i.alternate,d=i.stateNode;if(c!==null&&c===n)break;i.tag===5&&d!==null&&(i=d,l?(c=Fr(r,a),c!=null&&o.unshift(Wr(r,c,i))):l||(c=Fr(r,a),c!=null&&o.push(Wr(r,c,i)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Wh=/\r\n?/g,Kh=/\u0000|\uFFFD/g;function xc(e){return(typeof e=="string"?e:""+e).replace(Wh,`
`).replace(Kh,"")}function Sn(e,t,r){if(t=xc(t),xc(e)!==t&&r)throw Error($(425))}function ol(){}var ro=null,no=null;function lo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ao=typeof setTimeout=="function"?setTimeout:void 0,Jh=typeof clearTimeout=="function"?clearTimeout:void 0,gc=typeof Promise=="function"?Promise:void 0,Gh=typeof queueMicrotask=="function"?queueMicrotask:typeof gc<"u"?function(e){return gc.resolve(null).then(e).catch(Qh)}:ao;function Qh(e){setTimeout(function(){throw e})}function xa(e,t){var r=t,n=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0){e.removeChild(l),Br(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=l}while(r);Br(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),xt="__reactFiber$"+dr,Kr="__reactProps$"+dr,St="__reactContainer$"+dr,oo="__reactEvents$"+dr,Yh="__reactListeners$"+dr,Xh="__reactHandles$"+dr;function ds(e){var t=e[xt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[St]||r[xt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fc(e);e!==null;){if(r=e[xt])return r;e=fc(e)}return t}e=r,r=e.parentNode}return null}function ln(e){return e=e[xt]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function $l(e){return e[Kr]||null}var io=[],Ds=-1;function ts(e){return{current:e}}function ee(e){0>Ds||(e.current=io[Ds],io[Ds]=null,Ds--)}function X(e,t){Ds++,io[Ds]=e.current,e.current=t}var Xt={},Ce=ts(Xt),$e=ts(!1),ys=Xt;function Ys(e,t){var r=e.type.contextTypes;if(!r)return Xt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in r)l[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Oe(e){return e=e.childContextTypes,e!=null}function il(){ee($e),ee(Ce)}function yc(e,t,r){if(Ce.current!==Xt)throw Error($(168));X(Ce,t),X($e,r)}function ym(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error($(108,L0(e)||"Unknown",l));return ie({},r,n)}function cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,ys=Ce.current,X(Ce,e),X($e,$e.current),!0}function bc(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=ym(e,t,ys),n.__reactInternalMemoizedMergedChildContext=e,ee($e),ee(Ce),X(Ce,e)):ee($e),X($e,r)}var vt=null,Ol=!1,ga=!1;function bm(e){vt===null?vt=[e]:vt.push(e)}function Zh(e){Ol=!0,bm(e)}function ss(){if(!ga&&vt!==null){ga=!0;var e=0,t=Q;try{var r=vt;for(Q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vt=null,Ol=!1}catch(l){throw vt!==null&&(vt=vt.slice(e+1)),qu(Qo,ss),l}finally{Q=t,ga=!1}}return null}var Fs=[],zs=0,dl=null,ul=0,Je=[],Ge=0,bs=null,jt=1,Nt="";function os(e,t){Fs[zs++]=ul,Fs[zs++]=dl,dl=e,ul=t}function vm(e,t,r){Je[Ge++]=jt,Je[Ge++]=Nt,Je[Ge++]=bs,bs=e;var n=jt;e=Nt;var l=32-at(n)-1;n&=~(1<<l),r+=1;var a=32-at(t)+l;if(30<a){var o=l-l%5;a=(n&(1<<o)-1).toString(32),n>>=o,l-=o,jt=1<<32-at(t)+l|r<<l|n,Nt=a+e}else jt=1<<a|r<<l|n,Nt=e}function li(e){e.return!==null&&(os(e,1),vm(e,1,0))}function ai(e){for(;e===dl;)dl=Fs[--zs],Fs[zs]=null,ul=Fs[--zs],Fs[zs]=null;for(;e===bs;)bs=Je[--Ge],Je[Ge]=null,Nt=Je[--Ge],Je[Ge]=null,jt=Je[--Ge],Je[Ge]=null}var Be=null,Ue=null,ne=!1,lt=null;function jm(e,t){var r=Qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,Ue=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bs!==null?{id:jt,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Be=e,Ue=null,!0):!1;default:return!1}}function co(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uo(e){if(ne){var t=Ue;if(t){var r=t;if(!vc(e,t)){if(co(e))throw Error($(418));t=Vt(r.nextSibling);var n=Be;t&&vc(e,t)?jm(n,r):(e.flags=e.flags&-4097|2,ne=!1,Be=e)}}else{if(co(e))throw Error($(418));e.flags=e.flags&-4097|2,ne=!1,Be=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Cn(e){if(e!==Be)return!1;if(!ne)return jc(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lo(e.type,e.memoizedProps)),t&&(t=Ue)){if(co(e))throw Nm(),Error($(418));for(;t;)jm(e,t),t=Vt(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ue=Vt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=Be?Vt(e.stateNode.nextSibling):null;return!0}function Nm(){for(var e=Ue;e;)e=Vt(e.nextSibling)}function Xs(){Ue=Be=null,ne=!1}function oi(e){lt===null?lt=[e]:lt.push(e)}var ex=At.ReactCurrentBatchConfig;function yr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var l=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=l.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function En(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nc(e){var t=e._init;return t(e._payload)}function wm(e){function t(u,f){if(e){var b=u.deletions;b===null?(u.deletions=[f],u.flags|=16):b.push(f)}}function r(u,f){if(!e)return null;for(;f!==null;)t(u,f),f=f.sibling;return null}function n(u,f){for(u=new Map;f!==null;)f.key!==null?u.set(f.key,f):u.set(f.index,f),f=f.sibling;return u}function l(u,f){return u=Gt(u,f),u.index=0,u.sibling=null,u}function a(u,f,b){return u.index=b,e?(b=u.alternate,b!==null?(b=b.index,b<f?(u.flags|=2,f):b):(u.flags|=2,f)):(u.flags|=1048576,f)}function o(u){return e&&u.alternate===null&&(u.flags|=2),u}function i(u,f,b,S){return f===null||f.tag!==6?(f=wa(b,u.mode,S),f.return=u,f):(f=l(f,b),f.return=u,f)}function c(u,f,b,S){var C=b.type;return C===Ms?p(u,f,b.props.children,S,b.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ot&&Nc(C)===f.type)?(S=l(f,b.props),S.ref=yr(u,f,b),S.return=u,S):(S=Jn(b.type,b.key,b.props,null,u.mode,S),S.ref=yr(u,f,b),S.return=u,S)}function d(u,f,b,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==b.containerInfo||f.stateNode.implementation!==b.implementation?(f=ka(b,u.mode,S),f.return=u,f):(f=l(f,b.children||[]),f.return=u,f)}function p(u,f,b,S,C){return f===null||f.tag!==7?(f=xs(b,u.mode,S,C),f.return=u,f):(f=l(f,b),f.return=u,f)}function h(u,f,b){if(typeof f=="string"&&f!==""||typeof f=="number")return f=wa(""+f,u.mode,b),f.return=u,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case gn:return b=Jn(f.type,f.key,f.props,null,u.mode,b),b.ref=yr(u,null,f),b.return=u,b;case Is:return f=ka(f,u.mode,b),f.return=u,f;case Ot:var S=f._init;return h(u,S(f._payload),b)}if(kr(f)||pr(f))return f=xs(f,u.mode,b,null),f.return=u,f;En(u,f)}return null}function x(u,f,b,S){var C=f!==null?f.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:i(u,f,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gn:return b.key===C?c(u,f,b,S):null;case Is:return b.key===C?d(u,f,b,S):null;case Ot:return C=b._init,x(u,f,C(b._payload),S)}if(kr(b)||pr(b))return C!==null?null:p(u,f,b,S,null);En(u,b)}return null}function g(u,f,b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return u=u.get(b)||null,i(f,u,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gn:return u=u.get(S.key===null?b:S.key)||null,c(f,u,S,C);case Is:return u=u.get(S.key===null?b:S.key)||null,d(f,u,S,C);case Ot:var T=S._init;return g(u,f,b,T(S._payload),C)}if(kr(S)||pr(S))return u=u.get(b)||null,p(f,u,S,C,null);En(f,S)}return null}function m(u,f,b,S){for(var C=null,T=null,w=f,I=f=0,F=null;w!==null&&I<b.length;I++){w.index>I?(F=w,w=null):F=w.sibling;var N=x(u,w,b[I],S);if(N===null){w===null&&(w=F);break}e&&w&&N.alternate===null&&t(u,w),f=a(N,f,I),T===null?C=N:T.sibling=N,T=N,w=F}if(I===b.length)return r(u,w),ne&&os(u,I),C;if(w===null){for(;I<b.length;I++)w=h(u,b[I],S),w!==null&&(f=a(w,f,I),T===null?C=w:T.sibling=w,T=w);return ne&&os(u,I),C}for(w=n(u,w);I<b.length;I++)F=g(w,u,I,b[I],S),F!==null&&(e&&F.alternate!==null&&w.delete(F.key===null?I:F.key),f=a(F,f,I),T===null?C=F:T.sibling=F,T=F);return e&&w.forEach(function(j){return t(u,j)}),ne&&os(u,I),C}function v(u,f,b,S){var C=pr(b);if(typeof C!="function")throw Error($(150));if(b=C.call(b),b==null)throw Error($(151));for(var T=C=null,w=f,I=f=0,F=null,N=b.next();w!==null&&!N.done;I++,N=b.next()){w.index>I?(F=w,w=null):F=w.sibling;var j=x(u,w,N.value,S);if(j===null){w===null&&(w=F);break}e&&w&&j.alternate===null&&t(u,w),f=a(j,f,I),T===null?C=j:T.sibling=j,T=j,w=F}if(N.done)return r(u,w),ne&&os(u,I),C;if(w===null){for(;!N.done;I++,N=b.next())N=h(u,N.value,S),N!==null&&(f=a(N,f,I),T===null?C=N:T.sibling=N,T=N);return ne&&os(u,I),C}for(w=n(u,w);!N.done;I++,N=b.next())N=g(w,u,I,N.value,S),N!==null&&(e&&N.alternate!==null&&w.delete(N.key===null?I:N.key),f=a(N,f,I),T===null?C=N:T.sibling=N,T=N);return e&&w.forEach(function(P){return t(u,P)}),ne&&os(u,I),C}function y(u,f,b,S){if(typeof b=="object"&&b!==null&&b.type===Ms&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gn:e:{for(var C=b.key,T=f;T!==null;){if(T.key===C){if(C=b.type,C===Ms){if(T.tag===7){r(u,T.sibling),f=l(T,b.props.children),f.return=u,u=f;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ot&&Nc(C)===T.type){r(u,T.sibling),f=l(T,b.props),f.ref=yr(u,T,b),f.return=u,u=f;break e}r(u,T);break}else t(u,T);T=T.sibling}b.type===Ms?(f=xs(b.props.children,u.mode,S,b.key),f.return=u,u=f):(S=Jn(b.type,b.key,b.props,null,u.mode,S),S.ref=yr(u,f,b),S.return=u,u=S)}return o(u);case Is:e:{for(T=b.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===b.containerInfo&&f.stateNode.implementation===b.implementation){r(u,f.sibling),f=l(f,b.children||[]),f.return=u,u=f;break e}else{r(u,f);break}else t(u,f);f=f.sibling}f=ka(b,u.mode,S),f.return=u,u=f}return o(u);case Ot:return T=b._init,y(u,f,T(b._payload),S)}if(kr(b))return m(u,f,b,S);if(pr(b))return v(u,f,b,S);En(u,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,f!==null&&f.tag===6?(r(u,f.sibling),f=l(f,b),f.return=u,u=f):(r(u,f),f=wa(b,u.mode,S),f.return=u,u=f),o(u)):r(u,f)}return y}var Zs=wm(!0),km=wm(!1),ml=ts(null),pl=null,Us=null,ii=null;function ci(){ii=Us=pl=null}function di(e){var t=ml.current;ee(ml),e._currentValue=t}function mo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Js(e,t){pl=e,ii=Us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(ii!==e)if(e={context:e,memoizedValue:t,next:null},Us===null){if(pl===null)throw Error($(308));Us=e,pl.dependencies={lanes:0,firstContext:e}}else Us=Us.next=e;return t}var us=null;function ui(e){us===null?us=[e]:us.push(e)}function Sm(e,t,r,n){var l=t.interleaved;return l===null?(r.next=r,ui(t)):(r.next=l.next,l.next=r),t.interleaved=r,Ct(e,n)}function Ct(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lt=!1;function mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,Ct(e,r)}return l=n.interleaved,l===null?(t.next=t,ui(n)):(t.next=l.next,l.next=t),n.interleaved=t,Ct(e,r)}function Bn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Yo(e,r)}}function wc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var l=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?l=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?l=a=t:a=a.next=t}else l=a=t;r={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hl(e,t,r,n){var l=e.updateQueue;Lt=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==o&&(i===null?p.firstBaseUpdate=d:i.next=d,p.lastBaseUpdate=c))}if(a!==null){var h=l.baseState;o=0,p=d=c=null,i=a;do{var x=i.lane,g=i.eventTime;if((n&x)===x){p!==null&&(p=p.next={eventTime:g,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,v=i;switch(x=t,g=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(g,h,x);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,x=typeof m=="function"?m.call(g,h,x):m,x==null)break e;h=ie({},h,x);break e;case 2:Lt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,x=l.effects,x===null?l.effects=[i]:x.push(i))}else g={eventTime:g,lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(d=p=g,c=h):p=p.next=g,o|=x;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;x=i,i=x.next,x.next=null,l.lastBaseUpdate=x,l.shared.pending=null}}while(!0);if(p===null&&(c=h),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=h}}function kc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],l=n.callback;if(l!==null){if(n.callback=null,n=r,typeof l!="function")throw Error($(191,l));l.call(n)}}}var an={},ft=ts(an),Jr=ts(an),Gr=ts(an);function ms(e){if(e===an)throw Error($(174));return e}function pi(e,t){switch(X(Gr,t),X(Jr,e),X(ft,an),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Va(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Va(t,e)}ee(ft),X(ft,t)}function er(){ee(ft),ee(Jr),ee(Gr)}function Em(e){ms(Gr.current);var t=ms(ft.current),r=Va(t,e.type);t!==r&&(X(Jr,e),X(ft,r))}function hi(e){Jr.current===e&&(ee(ft),ee(Jr))}var ae=ts(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=[];function xi(){for(var e=0;e<fa.length;e++)fa[e]._workInProgressVersionPrimary=null;fa.length=0}var Hn=At.ReactCurrentDispatcher,ya=At.ReactCurrentBatchConfig,vs=0,oe=null,he=null,ge=null,gl=!1,Ir=!1,Qr=0,tx=0;function Ne(){throw Error($(321))}function gi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!it(e[r],t[r]))return!1;return!0}function fi(e,t,r,n,l,a){if(vs=a,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hn.current=e===null||e.memoizedState===null?lx:ax,e=r(n,l),Ir){a=0;do{if(Ir=!1,Qr=0,25<=a)throw Error($(301));a+=1,ge=he=null,t.updateQueue=null,Hn.current=ox,e=r(n,l)}while(Ir)}if(Hn.current=fl,t=he!==null&&he.next!==null,vs=0,ge=he=oe=null,gl=!1,t)throw Error($(300));return e}function yi(){var e=Qr!==0;return Qr=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?oe.memoizedState=ge=e:ge=ge.next=e,ge}function et(){if(he===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=ge===null?oe.memoizedState:ge.next;if(t!==null)ge=t,he=e;else{if(e===null)throw Error($(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ge===null?oe.memoizedState=ge=e:ge=ge.next=e}return ge}function Yr(e,t){return typeof t=="function"?t(e):t}function ba(e){var t=et(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=he,l=n.baseQueue,a=r.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}n.baseQueue=l=a,r.pending=null}if(l!==null){a=l.next,n=n.baseState;var i=o=null,c=null,d=a;do{var p=d.lane;if((vs&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=h,o=n):c=c.next=h,oe.lanes|=p,js|=p}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=i,it(n,t.memoizedState)||(Ie=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){l=e;do a=l.lane,oe.lanes|=a,js|=a,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function va(e){var t=et(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,l=r.pending,a=t.memoizedState;if(l!==null){r.pending=null;var o=l=l.next;do a=e(a,o.action),o=o.next;while(o!==l);it(a,t.memoizedState)||(Ie=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Pm(){}function Am(e,t){var r=oe,n=et(),l=t(),a=!it(n.memoizedState,l);if(a&&(n.memoizedState=l,Ie=!0),n=n.queue,bi(Im.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,Xr(9,Rm.bind(null,r,n,l,t),void 0,null),fe===null)throw Error($(349));vs&30||Tm(r,t,l)}return l}function Tm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rm(e,t,r,n){t.value=r,t.getSnapshot=n,Mm(t)&&$m(e)}function Im(e,t,r){return r(function(){Mm(t)&&$m(e)})}function Mm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!it(e,r)}catch{return!0}}function $m(e){var t=Ct(e,1);t!==null&&ot(t,e,1,-1)}function Sc(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=nx.bind(null,oe,e),[t.memoizedState,e]}function Xr(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Om(){return et().memoizedState}function qn(e,t,r,n){var l=ht();oe.flags|=e,l.memoizedState=Xr(1|t,r,void 0,n===void 0?null:n)}function Ll(e,t,r,n){var l=et();n=n===void 0?null:n;var a=void 0;if(he!==null){var o=he.memoizedState;if(a=o.destroy,n!==null&&gi(n,o.deps)){l.memoizedState=Xr(t,r,a,n);return}}oe.flags|=e,l.memoizedState=Xr(1|t,r,a,n)}function Cc(e,t){return qn(8390656,8,e,t)}function bi(e,t){return Ll(2048,8,e,t)}function Lm(e,t){return Ll(4,2,e,t)}function _m(e,t){return Ll(4,4,e,t)}function Dm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fm(e,t,r){return r=r!=null?r.concat([e]):null,Ll(4,4,Dm.bind(null,t,e),r)}function vi(){}function zm(e,t){var r=et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Um(e,t){var r=et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Bm(e,t,r){return vs&21?(it(r,t)||(r=Ku(),oe.lanes|=r,js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=r)}function sx(e,t){var r=Q;Q=r!==0&&4>r?r:4,e(!0);var n=ya.transition;ya.transition={};try{e(!1),t()}finally{Q=r,ya.transition=n}}function Hm(){return et().memoizedState}function rx(e,t,r){var n=Jt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qm(e))Vm(t,r);else if(r=Sm(e,t,r,n),r!==null){var l=Pe();ot(r,e,n,l),Wm(r,t,n)}}function nx(e,t,r){var n=Jt(e),l={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qm(e))Vm(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,r);if(l.hasEagerState=!0,l.eagerState=i,it(i,o)){var c=t.interleaved;c===null?(l.next=l,ui(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}r=Sm(e,t,l,n),r!==null&&(l=Pe(),ot(r,e,n,l),Wm(r,t,n))}}function qm(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Vm(e,t){Ir=gl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Yo(e,r)}}var fl={readContext:Ze,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},lx={readContext:Ze,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:Cc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qn(4194308,4,Dm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qn(4194308,4,e,t)},useInsertionEffect:function(e,t){return qn(4,2,e,t)},useMemo:function(e,t){var r=ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ht();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rx.bind(null,oe,e),[n.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Sc,useDebugValue:vi,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Sc(!1),t=e[0];return e=sx.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oe,l=ht();if(ne){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),fe===null)throw Error($(349));vs&30||Tm(n,t,r)}l.memoizedState=r;var a={value:r,getSnapshot:t};return l.queue=a,Cc(Im.bind(null,n,a,e),[e]),n.flags|=2048,Xr(9,Rm.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ht(),t=fe.identifierPrefix;if(ne){var r=Nt,n=jt;r=(n&~(1<<32-at(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ax={readContext:Ze,useCallback:zm,useContext:Ze,useEffect:bi,useImperativeHandle:Fm,useInsertionEffect:Lm,useLayoutEffect:_m,useMemo:Um,useReducer:ba,useRef:Om,useState:function(){return ba(Yr)},useDebugValue:vi,useDeferredValue:function(e){var t=et();return Bm(t,he.memoizedState,e)},useTransition:function(){var e=ba(Yr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Pm,useSyncExternalStore:Am,useId:Hm,unstable_isNewReconciler:!1},ox={readContext:Ze,useCallback:zm,useContext:Ze,useEffect:bi,useImperativeHandle:Fm,useInsertionEffect:Lm,useLayoutEffect:_m,useMemo:Um,useReducer:va,useRef:Om,useState:function(){return va(Yr)},useDebugValue:vi,useDeferredValue:function(e){var t=et();return he===null?t.memoizedState=e:Bm(t,he.memoizedState,e)},useTransition:function(){var e=va(Yr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Pm,useSyncExternalStore:Am,useId:Hm,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function po(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _l={isMounted:function(e){return(e=e._reactInternals)?Ps(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pe(),l=Jt(e),a=wt(n,l);a.payload=t,r!=null&&(a.callback=r),t=Wt(e,a,l),t!==null&&(ot(t,e,l,n),Bn(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pe(),l=Jt(e),a=wt(n,l);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Wt(e,a,l),t!==null&&(ot(t,e,l,n),Bn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),n=Jt(e),l=wt(r,n);l.tag=2,t!=null&&(l.callback=t),t=Wt(e,l,n),t!==null&&(ot(t,e,n,r),Bn(t,e,n))}};function Ec(e,t,r,n,l,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!qr(r,n)||!qr(l,a):!0}function Km(e,t,r){var n=!1,l=Xt,a=t.contextType;return typeof a=="object"&&a!==null?a=Ze(a):(l=Oe(t)?ys:Ce.current,n=t.contextTypes,a=(n=n!=null)?Ys(e,l):Xt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_l,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Pc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_l.enqueueReplaceState(t,t.state,null)}function ho(e,t,r,n){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},mi(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Ze(a):(a=Oe(t)?ys:Ce.current,l.context=Ys(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(po(e,t,a,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&_l.enqueueReplaceState(l,l.state,null),hl(e,r,l,n),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function tr(e,t){try{var r="",n=t;do r+=O0(n),n=n.return;while(n);var l=r}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ja(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ix=typeof WeakMap=="function"?WeakMap:Map;function Jm(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){bl||(bl=!0,So=n),xo(e,t)},r}function Gm(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;r.payload=function(){return n(l)},r.callback=function(){xo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){xo(e,t),typeof n!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ac(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ix;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(r)||(l.add(r),e=Nx.bind(null,e,t,r),t.then(e,e))}function Tc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,r,n,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Wt(r,t,1))),r.lanes|=1),e)}var cx=At.ReactCurrentOwner,Ie=!1;function Ee(e,t,r,n){t.child=e===null?km(t,null,r,n):Zs(t,e.child,r,n)}function Ic(e,t,r,n,l){r=r.render;var a=t.ref;return Js(t,l),n=fi(e,t,r,n,a,l),r=yi(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Et(e,t,l)):(ne&&r&&li(t),t.flags|=1,Ee(e,t,n,l),t.child)}function Mc(e,t,r,n,l){if(e===null){var a=r.type;return typeof a=="function"&&!Pi(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Qm(e,t,a,n,l)):(e=Jn(r.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:qr,r(o,n)&&e.ref===t.ref)return Et(e,t,l)}return t.flags|=1,e=Gt(a,n),e.ref=t.ref,e.return=t,t.child=e}function Qm(e,t,r,n,l){if(e!==null){var a=e.memoizedProps;if(qr(a,n)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=n=a,(e.lanes&l)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Et(e,t,l)}return go(e,t,r,n,l)}function Ym(e,t,r){var n=t.pendingProps,l=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Hs,ze),ze|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Hs,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,X(Hs,ze),ze|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,X(Hs,ze),ze|=n;return Ee(e,t,l,r),t.child}function Xm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function go(e,t,r,n,l){var a=Oe(r)?ys:Ce.current;return a=Ys(t,a),Js(t,l),r=fi(e,t,r,n,a,l),n=yi(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Et(e,t,l)):(ne&&n&&li(t),t.flags|=1,Ee(e,t,r,l),t.child)}function $c(e,t,r,n,l){if(Oe(r)){var a=!0;cl(t)}else a=!1;if(Js(t,l),t.stateNode===null)Vn(e,t),Km(t,r,n),ho(t,r,n,l),n=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ze(d):(d=Oe(r)?ys:Ce.current,d=Ys(t,d));var p=r.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==n||c!==d)&&Pc(t,o,n,d),Lt=!1;var x=t.memoizedState;o.state=x,hl(t,n,o,l),c=t.memoizedState,i!==n||x!==c||$e.current||Lt?(typeof p=="function"&&(po(t,r,p,n),c=t.memoizedState),(i=Lt||Ec(t,r,i,n,x,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Cm(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:rt(t.type,i),o.props=d,h=t.pendingProps,x=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ze(c):(c=Oe(r)?ys:Ce.current,c=Ys(t,c));var g=r.getDerivedStateFromProps;(p=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==h||x!==c)&&Pc(t,o,n,c),Lt=!1,x=t.memoizedState,o.state=x,hl(t,n,o,l);var m=t.memoizedState;i!==h||x!==m||$e.current||Lt?(typeof g=="function"&&(po(t,r,g,n),m=t.memoizedState),(d=Lt||Ec(t,r,d,n,x,m,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return fo(e,t,r,n,a,l)}function fo(e,t,r,n,l,a){Xm(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return l&&bc(t,r,!1),Et(e,t,a);n=t.stateNode,cx.current=t;var i=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zs(t,e.child,null,a),t.child=Zs(t,null,i,a)):Ee(e,t,i,a),t.memoizedState=n.state,l&&bc(t,r,!0),t.child}function Zm(e){var t=e.stateNode;t.pendingContext?yc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yc(e,t.context,!1),pi(e,t.containerInfo)}function Oc(e,t,r,n,l){return Xs(),oi(l),t.flags|=256,Ee(e,t,r,n),t.child}var yo={dehydrated:null,treeContext:null,retryLane:0};function bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function ep(e,t,r){var n=t.pendingProps,l=ae.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),X(ae,l&1),e===null)return uo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=zl(o,n,0,null),e=xs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bo(r),t.memoizedState=yo,e):ji(t,o));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return dx(e,t,o,n,i,l,r);if(a){a=n.fallback,o=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Gt(l,c),n.subtreeFlags=l.subtreeFlags&14680064),i!==null?a=Gt(i,a):(a=xs(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?bo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=yo,n}return a=e.child,e=a.sibling,n=Gt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ji(e,t){return t=zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pn(e,t,r,n){return n!==null&&oi(n),Zs(t,e.child,null,r),e=ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dx(e,t,r,n,l,a,o){if(r)return t.flags&256?(t.flags&=-257,n=ja(Error($(422))),Pn(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,l=t.mode,n=zl({mode:"visible",children:n.children},l,0,null),a=xs(a,l,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Zs(t,e.child,null,o),t.child.memoizedState=bo(o),t.memoizedState=yo,a);if(!(t.mode&1))return Pn(e,t,o,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var i=n.dgst;return n=i,a=Error($(419)),n=ja(a,n,void 0),Pn(e,t,o,n)}if(i=(o&e.childLanes)!==0,Ie||i){if(n=fe,n!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|o)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Ct(e,l),ot(n,e,l,-1))}return Ei(),n=ja(Error($(421))),Pn(e,t,o,n)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=wx.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Ue=Vt(l.nextSibling),Be=t,ne=!0,lt=null,e!==null&&(Je[Ge++]=jt,Je[Ge++]=Nt,Je[Ge++]=bs,jt=e.id,Nt=e.overflow,bs=t),t=ji(t,n.children),t.flags|=4096,t)}function Lc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mo(e.return,t,r)}function Na(e,t,r,n,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=l)}function tp(e,t,r){var n=t.pendingProps,l=n.revealOrder,a=n.tail;if(Ee(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,r,t);else if(e.tag===19)Lc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(X(ae,n),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&xl(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Na(t,!1,l,r,a);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&xl(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Na(t,!0,r,null,a);break;case"together":Na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=Gt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ux(e,t,r){switch(t.tag){case 3:Zm(t),Xs();break;case 5:Em(t);break;case 1:Oe(t.type)&&cl(t);break;case 4:pi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;X(ml,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(X(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?ep(e,t,r):(X(ae,ae.current&1),e=Et(e,t,r),e!==null?e.sibling:null);X(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return tp(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),X(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,Ym(e,t,r)}return Et(e,t,r)}var sp,vo,rp,np;sp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vo=function(){};rp=function(e,t,r,n){var l=e.memoizedProps;if(l!==n){e=t.stateNode,ms(ft.current);var a=null;switch(r){case"input":l=Ua(e,l),n=Ua(e,n),a=[];break;case"select":l=ie({},l,{value:void 0}),n=ie({},n,{value:void 0}),a=[];break;case"textarea":l=qa(e,l),n=qa(e,n),a=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ol)}Wa(r,n);var o;r=null;for(d in l)if(!n.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var i=l[d];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_r.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(i=l!=null?l[d]:void 0,n.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_r.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Z("scroll",e),a||i===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};np=function(e,t,r,n){r!==n&&(t.flags|=4)};function br(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mx(e,t,r){var n=t.pendingProps;switch(ai(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Oe(t.type)&&il(),we(t),null;case 3:return n=t.stateNode,er(),ee($e),ee(Ce),xi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lt!==null&&(Po(lt),lt=null))),vo(e,t),we(t),null;case 5:hi(t);var l=ms(Gr.current);if(r=t.type,e!==null&&t.stateNode!=null)rp(e,t,r,n,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return we(t),null}if(e=ms(ft.current),Cn(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[xt]=t,n[Kr]=a,e=(t.mode&1)!==0,r){case"dialog":Z("cancel",n),Z("close",n);break;case"iframe":case"object":case"embed":Z("load",n);break;case"video":case"audio":for(l=0;l<Cr.length;l++)Z(Cr[l],n);break;case"source":Z("error",n);break;case"img":case"image":case"link":Z("error",n),Z("load",n);break;case"details":Z("toggle",n);break;case"input":Vi(n,a),Z("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Z("invalid",n);break;case"textarea":Ki(n,a),Z("invalid",n)}Wa(r,a),l=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?n.textContent!==i&&(a.suppressHydrationWarning!==!0&&Sn(n.textContent,i,e),l=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&Sn(n.textContent,i,e),l=["children",""+i]):_r.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Z("scroll",n)}switch(r){case"input":fn(n),Wi(n,a,!0);break;case"textarea":fn(n),Ji(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ol)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Iu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[xt]=t,e[Kr]=n,sp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ka(r,n),r){case"dialog":Z("cancel",e),Z("close",e),l=n;break;case"iframe":case"object":case"embed":Z("load",e),l=n;break;case"video":case"audio":for(l=0;l<Cr.length;l++)Z(Cr[l],e);l=n;break;case"source":Z("error",e),l=n;break;case"img":case"image":case"link":Z("error",e),Z("load",e),l=n;break;case"details":Z("toggle",e),l=n;break;case"input":Vi(e,n),l=Ua(e,n),Z("invalid",e);break;case"option":l=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},l=ie({},n,{value:void 0}),Z("invalid",e);break;case"textarea":Ki(e,n),l=qa(e,n),Z("invalid",e);break;default:l=n}Wa(r,l),i=l;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?Ou(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mu(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Dr(e,c):typeof c=="number"&&Dr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_r.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Z("scroll",e):c!=null&&Vo(e,a,c,o))}switch(r){case"input":fn(e),Wi(e,n,!1);break;case"textarea":fn(e),Ji(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?qs(e,!!n.multiple,a,!1):n.defaultValue!=null&&qs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ol)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)np(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=ms(Gr.current),ms(ft.current),Cn(t)){if(n=t.stateNode,r=t.memoizedProps,n[xt]=t,(a=n.nodeValue!==r)&&(e=Be,e!==null))switch(e.tag){case 3:Sn(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sn(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xt]=t,t.stateNode=n}return we(t),null;case 13:if(ee(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Ue!==null&&t.mode&1&&!(t.flags&128))Nm(),Xs(),t.flags|=98560,a=!1;else if(a=Cn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error($(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error($(317));a[xt]=t}else Xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),a=!1}else lt!==null&&(Po(lt),lt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?xe===0&&(xe=3):Ei())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return er(),vo(e,t),e===null&&Vr(t.stateNode.containerInfo),we(t),null;case 10:return di(t.type._context),we(t),null;case 17:return Oe(t.type)&&il(),we(t),null;case 19:if(ee(ae),a=t.memoizedState,a===null)return we(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)br(a,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xl(e),o!==null){for(t.flags|=128,br(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(ae,ae.current&1|2),t.child}e=e.sibling}a.tail!==null&&ue()>sr&&(t.flags|=128,n=!0,br(a,!1),t.lanes=4194304)}else{if(!n)if(e=xl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),br(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ne)return we(t),null}else 2*ue()-a.renderingStartTime>sr&&r!==1073741824&&(t.flags|=128,n=!0,br(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ue(),t.sibling=null,r=ae.current,X(ae,n?r&1|2:r&1),t):(we(t),null);case 22:case 23:return Ci(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ze&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function px(e,t){switch(ai(t),t.tag){case 1:return Oe(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return er(),ee($e),ee(Ce),xi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hi(t),null;case 13:if(ee(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ae),null;case 4:return er(),null;case 10:return di(t.type._context),null;case 22:case 23:return Ci(),null;case 24:return null;default:return null}}var An=!1,ke=!1,hx=typeof WeakSet=="function"?WeakSet:Set,_=null;function Bs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(e,t,n)}else r.current=null}function jo(e,t,r){try{r()}catch(n){de(e,t,n)}}var _c=!1;function xx(e,t){if(ro=nl,e=cm(),ni(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var l=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,i=-1,c=-1,d=0,p=0,h=e,x=null;t:for(;;){for(var g;h!==r||l!==0&&h.nodeType!==3||(i=o+l),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)x=h,h=g;for(;;){if(h===e)break t;if(x===r&&++d===l&&(i=o),x===a&&++p===n&&(c=o),(g=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=g}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(no={focusedElem:e,selectionRange:r},nl=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,y=m.memoizedState,u=t.stateNode,f=u.getSnapshotBeforeUpdate(t.elementType===t.type?v:rt(t.type,v),y);u.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){de(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return m=_c,_c=!1,m}function Mr(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&jo(t,r,a)}l=l.next}while(l!==n)}}function Dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function No(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lp(e){var t=e.alternate;t!==null&&(e.alternate=null,lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[Kr],delete t[oo],delete t[Yh],delete t[Xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ap(e){return e.tag===5||e.tag===3||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ol));else if(n!==4&&(e=e.child,e!==null))for(wo(e,t,r),e=e.sibling;e!==null;)wo(e,t,r),e=e.sibling}function ko(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ko(e,t,r),e=e.sibling;e!==null;)ko(e,t,r),e=e.sibling}var ye=null,nt=!1;function It(e,t,r){for(r=r.child;r!==null;)op(e,t,r),r=r.sibling}function op(e,t,r){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Tl,r)}catch{}switch(r.tag){case 5:ke||Bs(r,t);case 6:var n=ye,l=nt;ye=null,It(e,t,r),ye=n,nt=l,ye!==null&&(nt?(e=ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(nt?(e=ye,r=r.stateNode,e.nodeType===8?xa(e.parentNode,r):e.nodeType===1&&xa(e,r),Br(e)):xa(ye,r.stateNode));break;case 4:n=ye,l=nt,ye=r.stateNode.containerInfo,nt=!0,It(e,t,r),ye=n,nt=l;break;case 0:case 11:case 14:case 15:if(!ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var a=l,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&jo(r,t,o),l=l.next}while(l!==n)}It(e,t,r);break;case 1:if(!ke&&(Bs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){de(r,t,i)}It(e,t,r);break;case 21:It(e,t,r);break;case 22:r.mode&1?(ke=(n=ke)||r.memoizedState!==null,It(e,t,r),ke=n):It(e,t,r);break;default:It(e,t,r)}}function Fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hx),t.forEach(function(n){var l=kx.bind(null,e,n);r.has(n)||(r.add(n),n.then(l,l))})}}function st(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var l=r[n];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:ye=i.stateNode,nt=!1;break e;case 3:ye=i.stateNode.containerInfo,nt=!0;break e;case 4:ye=i.stateNode.containerInfo,nt=!0;break e}i=i.return}if(ye===null)throw Error($(160));op(a,o,l),ye=null,nt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){de(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ip(t,e),t=t.sibling}function ip(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),ut(e),n&4){try{Mr(3,e,e.return),Dl(3,e)}catch(v){de(e,e.return,v)}try{Mr(5,e,e.return)}catch(v){de(e,e.return,v)}}break;case 1:st(t,e),ut(e),n&512&&r!==null&&Bs(r,r.return);break;case 5:if(st(t,e),ut(e),n&512&&r!==null&&Bs(r,r.return),e.flags&32){var l=e.stateNode;try{Dr(l,"")}catch(v){de(e,e.return,v)}}if(n&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Tu(l,a),Ka(i,o);var d=Ka(i,a);for(o=0;o<c.length;o+=2){var p=c[o],h=c[o+1];p==="style"?Ou(l,h):p==="dangerouslySetInnerHTML"?Mu(l,h):p==="children"?Dr(l,h):Vo(l,p,h,d)}switch(i){case"input":Ba(l,a);break;case"textarea":Ru(l,a);break;case"select":var x=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?qs(l,!!a.multiple,g,!1):x!==!!a.multiple&&(a.defaultValue!=null?qs(l,!!a.multiple,a.defaultValue,!0):qs(l,!!a.multiple,a.multiple?[]:"",!1))}l[Kr]=a}catch(v){de(e,e.return,v)}}break;case 6:if(st(t,e),ut(e),n&4){if(e.stateNode===null)throw Error($(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(v){de(e,e.return,v)}}break;case 3:if(st(t,e),ut(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Br(t.containerInfo)}catch(v){de(e,e.return,v)}break;case 4:st(t,e),ut(e);break;case 13:st(t,e),ut(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(ki=ue())),n&4&&Fc(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(ke=(d=ke)||p,st(t,e),ke=d):st(t,e),ut(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(_=e,p=e.child;p!==null;){for(h=_=p;_!==null;){switch(x=_,g=x.child,x.tag){case 0:case 11:case 14:case 15:Mr(4,x,x.return);break;case 1:Bs(x,x.return);var m=x.stateNode;if(typeof m.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){de(n,r,v)}}break;case 5:Bs(x,x.return);break;case 22:if(x.memoizedState!==null){Uc(h);continue}}g!==null?(g.return=x,_=g):Uc(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{l=h.stateNode,d?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=$u("display",o))}catch(v){de(e,e.return,v)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){de(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:st(t,e),ut(e),n&4&&Fc(e);break;case 21:break;default:st(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ap(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(Dr(l,""),n.flags&=-33);var a=Dc(e);ko(e,a,l);break;case 3:case 4:var o=n.stateNode.containerInfo,i=Dc(e);wo(e,i,o);break;default:throw Error($(161))}}catch(c){de(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gx(e,t,r){_=e,cp(e)}function cp(e,t,r){for(var n=(e.mode&1)!==0;_!==null;){var l=_,a=l.child;if(l.tag===22&&n){var o=l.memoizedState!==null||An;if(!o){var i=l.alternate,c=i!==null&&i.memoizedState!==null||ke;i=An;var d=ke;if(An=o,(ke=c)&&!d)for(_=l;_!==null;)o=_,c=o.child,o.tag===22&&o.memoizedState!==null?Bc(l):c!==null?(c.return=o,_=c):Bc(l);for(;a!==null;)_=a,cp(a),a=a.sibling;_=l,An=i,ke=d}zc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,_=a):zc(e)}}function zc(e){for(;_!==null;){var t=_;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||Dl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ke)if(r===null)n.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:rt(t.type,r.memoizedProps);n.componentDidUpdate(l,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kc(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kc(t,o,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Br(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ke||t.flags&512&&No(t)}catch(x){de(t,t.return,x)}}if(t===e){_=null;break}if(r=t.sibling,r!==null){r.return=t.return,_=r;break}_=t.return}}function Uc(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var r=t.sibling;if(r!==null){r.return=t.return,_=r;break}_=t.return}}function Bc(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Dl(4,t)}catch(c){de(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(c){de(t,l,c)}}var a=t.return;try{No(t)}catch(c){de(t,a,c)}break;case 5:var o=t.return;try{No(t)}catch(c){de(t,o,c)}}}catch(c){de(t,t.return,c)}if(t===e){_=null;break}var i=t.sibling;if(i!==null){i.return=t.return,_=i;break}_=t.return}}var fx=Math.ceil,yl=At.ReactCurrentDispatcher,Ni=At.ReactCurrentOwner,Ye=At.ReactCurrentBatchConfig,K=0,fe=null,me=null,be=0,ze=0,Hs=ts(0),xe=0,Zr=null,js=0,Fl=0,wi=0,$r=null,Re=null,ki=0,sr=1/0,bt=null,bl=!1,So=null,Kt=null,Tn=!1,zt=null,vl=0,Or=0,Co=null,Wn=-1,Kn=0;function Pe(){return K&6?ue():Wn!==-1?Wn:Wn=ue()}function Jt(e){return e.mode&1?K&2&&be!==0?be&-be:ex.transition!==null?(Kn===0&&(Kn=Ku()),Kn):(e=Q,e!==0||(e=window.event,e=e===void 0?16:em(e.type)),e):1}function ot(e,t,r,n){if(50<Or)throw Or=0,Co=null,Error($(185));rn(e,r,n),(!(K&2)||e!==fe)&&(e===fe&&(!(K&2)&&(Fl|=r),xe===4&&Dt(e,be)),Le(e,n),r===1&&K===0&&!(t.mode&1)&&(sr=ue()+500,Ol&&ss()))}function Le(e,t){var r=e.callbackNode;eh(e,t);var n=rl(e,e===fe?be:0);if(n===0)r!==null&&Yi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yi(r),t===1)e.tag===0?Zh(Hc.bind(null,e)):bm(Hc.bind(null,e)),Gh(function(){!(K&6)&&ss()}),r=null;else{switch(Ju(n)){case 1:r=Qo;break;case 4:r=Vu;break;case 16:r=sl;break;case 536870912:r=Wu;break;default:r=sl}r=fp(r,dp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dp(e,t){if(Wn=-1,Kn=0,K&6)throw Error($(327));var r=e.callbackNode;if(Gs()&&e.callbackNode!==r)return null;var n=rl(e,e===fe?be:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jl(e,n);else{t=n;var l=K;K|=2;var a=mp();(fe!==e||be!==t)&&(bt=null,sr=ue()+500,hs(e,t));do try{vx();break}catch(i){up(e,i)}while(!0);ci(),yl.current=a,K=l,me!==null?t=0:(fe=null,be=0,t=xe)}if(t!==0){if(t===2&&(l=Xa(e),l!==0&&(n=l,t=Eo(e,l))),t===1)throw r=Zr,hs(e,0),Dt(e,n),Le(e,ue()),r;if(t===6)Dt(e,n);else{if(l=e.current.alternate,!(n&30)&&!yx(l)&&(t=jl(e,n),t===2&&(a=Xa(e),a!==0&&(n=a,t=Eo(e,a))),t===1))throw r=Zr,hs(e,0),Dt(e,n),Le(e,ue()),r;switch(e.finishedWork=l,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:is(e,Re,bt);break;case 3:if(Dt(e,n),(n&130023424)===n&&(t=ki+500-ue(),10<t)){if(rl(e,0)!==0)break;if(l=e.suspendedLanes,(l&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ao(is.bind(null,e,Re,bt),t);break}is(e,Re,bt);break;case 4:if(Dt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,l=-1;0<n;){var o=31-at(n);a=1<<o,o=t[o],o>l&&(l=o),n&=~a}if(n=l,n=ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fx(n/1960))-n,10<n){e.timeoutHandle=ao(is.bind(null,e,Re,bt),n);break}is(e,Re,bt);break;case 5:is(e,Re,bt);break;default:throw Error($(329))}}}return Le(e,ue()),e.callbackNode===r?dp.bind(null,e):null}function Eo(e,t){var r=$r;return e.current.memoizedState.isDehydrated&&(hs(e,t).flags|=256),e=jl(e,t),e!==2&&(t=Re,Re=r,t!==null&&Po(t)),e}function Po(e){Re===null?Re=e:Re.push.apply(Re,e)}function yx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var l=r[n],a=l.getSnapshot;l=l.value;try{if(!it(a(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dt(e,t){for(t&=~wi,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function Hc(e){if(K&6)throw Error($(327));Gs();var t=rl(e,0);if(!(t&1))return Le(e,ue()),null;var r=jl(e,t);if(e.tag!==0&&r===2){var n=Xa(e);n!==0&&(t=n,r=Eo(e,n))}if(r===1)throw r=Zr,hs(e,0),Dt(e,t),Le(e,ue()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,is(e,Re,bt),Le(e,ue()),null}function Si(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(sr=ue()+500,Ol&&ss())}}function Ns(e){zt!==null&&zt.tag===0&&!(K&6)&&Gs();var t=K;K|=1;var r=Ye.transition,n=Q;try{if(Ye.transition=null,Q=1,e)return e()}finally{Q=n,Ye.transition=r,K=t,!(K&6)&&ss()}}function Ci(){ze=Hs.current,ee(Hs)}function hs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jh(r)),me!==null)for(r=me.return;r!==null;){var n=r;switch(ai(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&il();break;case 3:er(),ee($e),ee(Ce),xi();break;case 5:hi(n);break;case 4:er();break;case 13:ee(ae);break;case 19:ee(ae);break;case 10:di(n.type._context);break;case 22:case 23:Ci()}r=r.return}if(fe=e,me=e=Gt(e.current,null),be=ze=t,xe=0,Zr=null,wi=Fl=js=0,Re=$r=null,us!==null){for(t=0;t<us.length;t++)if(r=us[t],n=r.interleaved,n!==null){r.interleaved=null;var l=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=l,n.next=o}r.pending=n}us=null}return e}function up(e,t){do{var r=me;try{if(ci(),Hn.current=fl,gl){for(var n=oe.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}gl=!1}if(vs=0,ge=he=oe=null,Ir=!1,Qr=0,Ni.current=null,r===null||r.return===null){xe=1,Zr=t,me=null;break}e:{var a=e,o=r.return,i=r,c=t;if(t=be,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=i,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Tc(o);if(g!==null){g.flags&=-257,Rc(g,o,i,a,t),g.mode&1&&Ac(a,d,t),t=g,c=d;var m=t.updateQueue;if(m===null){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}else{if(!(t&1)){Ac(a,d,t),Ei();break e}c=Error($(426))}}else if(ne&&i.mode&1){var y=Tc(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Rc(y,o,i,a,t),oi(tr(c,i));break e}}a=c=tr(c,i),xe!==4&&(xe=2),$r===null?$r=[a]:$r.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var u=Jm(a,c,t);wc(a,u);break e;case 1:i=c;var f=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Kt===null||!Kt.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=Gm(a,i,t);wc(a,S);break e}}a=a.return}while(a!==null)}hp(r)}catch(C){t=C,me===r&&r!==null&&(me=r=r.return);continue}break}while(!0)}function mp(){var e=yl.current;return yl.current=fl,e===null?fl:e}function Ei(){(xe===0||xe===3||xe===2)&&(xe=4),fe===null||!(js&268435455)&&!(Fl&268435455)||Dt(fe,be)}function jl(e,t){var r=K;K|=2;var n=mp();(fe!==e||be!==t)&&(bt=null,hs(e,t));do try{bx();break}catch(l){up(e,l)}while(!0);if(ci(),K=r,yl.current=n,me!==null)throw Error($(261));return fe=null,be=0,xe}function bx(){for(;me!==null;)pp(me)}function vx(){for(;me!==null&&!V0();)pp(me)}function pp(e){var t=gp(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?hp(e):me=t,Ni.current=null}function hp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=px(r,t),r!==null){r.flags&=32767,me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,me=null;return}}else if(r=mx(r,t,ze),r!==null){me=r;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);xe===0&&(xe=5)}function is(e,t,r){var n=Q,l=Ye.transition;try{Ye.transition=null,Q=1,jx(e,t,r,n)}finally{Ye.transition=l,Q=n}return null}function jx(e,t,r,n){do Gs();while(zt!==null);if(K&6)throw Error($(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(th(e,a),e===fe&&(me=fe=null,be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tn||(Tn=!0,fp(sl,function(){return Gs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ye.transition,Ye.transition=null;var o=Q;Q=1;var i=K;K|=4,Ni.current=null,xx(e,r),ip(r,e),Uh(no),nl=!!ro,no=ro=null,e.current=r,gx(r),W0(),K=i,Q=o,Ye.transition=a}else e.current=r;if(Tn&&(Tn=!1,zt=e,vl=l),a=e.pendingLanes,a===0&&(Kt=null),G0(r.stateNode),Le(e,ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],n(l.value,{componentStack:l.stack,digest:l.digest});if(bl)throw bl=!1,e=So,So=null,e;return vl&1&&e.tag!==0&&Gs(),a=e.pendingLanes,a&1?e===Co?Or++:(Or=0,Co=e):Or=0,ss(),null}function Gs(){if(zt!==null){var e=Ju(vl),t=Ye.transition,r=Q;try{if(Ye.transition=null,Q=16>e?16:e,zt===null)var n=!1;else{if(e=zt,zt=null,vl=0,K&6)throw Error($(331));var l=K;for(K|=4,_=e.current;_!==null;){var a=_,o=a.child;if(_.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(_=d;_!==null;){var p=_;switch(p.tag){case 0:case 11:case 15:Mr(8,p,a)}var h=p.child;if(h!==null)h.return=p,_=h;else for(;_!==null;){p=_;var x=p.sibling,g=p.return;if(lp(p),p===d){_=null;break}if(x!==null){x.return=g,_=x;break}_=g}}}var m=a.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}_=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,_=o;else e:for(;_!==null;){if(a=_,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mr(9,a,a.return)}var u=a.sibling;if(u!==null){u.return=a.return,_=u;break e}_=a.return}}var f=e.current;for(_=f;_!==null;){o=_;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,_=b;else e:for(o=f;_!==null;){if(i=_,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Dl(9,i)}}catch(C){de(i,i.return,C)}if(i===o){_=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,_=S;break e}_=i.return}}if(K=l,ss(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Tl,e)}catch{}n=!0}return n}finally{Q=r,Ye.transition=t}}return!1}function qc(e,t,r){t=tr(r,t),t=Jm(e,t,1),e=Wt(e,t,1),t=Pe(),e!==null&&(rn(e,1,t),Le(e,t))}function de(e,t,r){if(e.tag===3)qc(e,e,r);else for(;t!==null;){if(t.tag===3){qc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kt===null||!Kt.has(n))){e=tr(r,e),e=Gm(t,e,1),t=Wt(t,e,1),e=Pe(),t!==null&&(rn(t,1,e),Le(t,e));break}}t=t.return}}function Nx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(be&r)===r&&(xe===4||xe===3&&(be&130023424)===be&&500>ue()-ki?hs(e,0):wi|=r),Le(e,t)}function xp(e,t){t===0&&(e.mode&1?(t=vn,vn<<=1,!(vn&130023424)&&(vn=4194304)):t=1);var r=Pe();e=Ct(e,t),e!==null&&(rn(e,t,r),Le(e,r))}function wx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xp(e,r)}function kx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),xp(e,r)}var gp;gp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Ie=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ie=!1,ux(e,t,r);Ie=!!(e.flags&131072)}else Ie=!1,ne&&t.flags&1048576&&vm(t,ul,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vn(e,t),e=t.pendingProps;var l=Ys(t,Ce.current);Js(t,r),l=fi(null,t,n,e,l,r);var a=yi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(n)?(a=!0,cl(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,mi(t),l.updater=_l,t.stateNode=l,l._reactInternals=t,ho(t,n,e,r),t=fo(null,t,n,!0,a,r)):(t.tag=0,ne&&a&&li(t),Ee(null,t,l,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vn(e,t),e=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=Cx(n),e=rt(n,e),l){case 0:t=go(null,t,n,e,r);break e;case 1:t=$c(null,t,n,e,r);break e;case 11:t=Ic(null,t,n,e,r);break e;case 14:t=Mc(null,t,n,rt(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:rt(n,l),go(e,t,n,l,r);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:rt(n,l),$c(e,t,n,l,r);case 3:e:{if(Zm(t),e===null)throw Error($(387));n=t.pendingProps,a=t.memoizedState,l=a.element,Cm(e,t),hl(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=tr(Error($(423)),t),t=Oc(e,t,n,r,l);break e}else if(n!==l){l=tr(Error($(424)),t),t=Oc(e,t,n,r,l);break e}else for(Ue=Vt(t.stateNode.containerInfo.firstChild),Be=t,ne=!0,lt=null,r=km(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xs(),n===l){t=Et(e,t,r);break e}Ee(e,t,n,r)}t=t.child}return t;case 5:return Em(t),e===null&&uo(t),n=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,o=l.children,lo(n,l)?o=null:a!==null&&lo(n,a)&&(t.flags|=32),Xm(e,t),Ee(e,t,o,r),t.child;case 6:return e===null&&uo(t),null;case 13:return ep(e,t,r);case 4:return pi(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zs(t,null,n,r):Ee(e,t,n,r),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:rt(n,l),Ic(e,t,n,l,r);case 7:return Ee(e,t,t.pendingProps,r),t.child;case 8:return Ee(e,t,t.pendingProps.children,r),t.child;case 12:return Ee(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,a=t.memoizedProps,o=l.value,X(ml,n._currentValue),n._currentValue=o,a!==null)if(it(a.value,o)){if(a.children===l.children&&!$e.current){t=Et(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var c=i.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=wt(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),mo(a.return,r,t),i.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error($(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),mo(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ee(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,Js(t,r),l=Ze(l),n=n(l),t.flags|=1,Ee(e,t,n,r),t.child;case 14:return n=t.type,l=rt(n,t.pendingProps),l=rt(n.type,l),Mc(e,t,n,l,r);case 15:return Qm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:rt(n,l),Vn(e,t),t.tag=1,Oe(n)?(e=!0,cl(t)):e=!1,Js(t,r),Km(t,n,l),ho(t,n,l,r),fo(null,t,n,!0,e,r);case 19:return tp(e,t,r);case 22:return Ym(e,t,r)}throw Error($(156,t.tag))};function fp(e,t){return qu(e,t)}function Sx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,r,n){return new Sx(e,t,r,n)}function Pi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cx(e){if(typeof e=="function")return Pi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ko)return 11;if(e===Jo)return 14}return 2}function Gt(e,t){var r=e.alternate;return r===null?(r=Qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jn(e,t,r,n,l,a){var o=2;if(n=e,typeof e=="function")Pi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ms:return xs(r.children,l,a,t);case Wo:o=8,l|=8;break;case _a:return e=Qe(12,r,t,l|2),e.elementType=_a,e.lanes=a,e;case Da:return e=Qe(13,r,t,l),e.elementType=Da,e.lanes=a,e;case Fa:return e=Qe(19,r,t,l),e.elementType=Fa,e.lanes=a,e;case Eu:return zl(r,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Su:o=10;break e;case Cu:o=9;break e;case Ko:o=11;break e;case Jo:o=14;break e;case Ot:o=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Qe(o,r,t,l),t.elementType=e,t.type=n,t.lanes=a,t}function xs(e,t,r,n){return e=Qe(7,e,n,t),e.lanes=r,e}function zl(e,t,r,n){return e=Qe(22,e,n,t),e.elementType=Eu,e.lanes=r,e.stateNode={isHidden:!1},e}function wa(e,t,r){return e=Qe(6,e,null,t),e.lanes=r,e}function ka(e,t,r){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ex(e,t,r,n,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ai(e,t,r,n,l,a,o,i,c){return e=new Ex(e,t,r,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mi(a),e}function Px(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function yp(e){if(!e)return Xt;e=e._reactInternals;e:{if(Ps(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(Oe(r))return ym(e,r,t)}return t}function bp(e,t,r,n,l,a,o,i,c){return e=Ai(r,n,!0,e,l,a,o,i,c),e.context=yp(null),r=e.current,n=Pe(),l=Jt(r),a=wt(n,l),a.callback=t??null,Wt(r,a,l),e.current.lanes=l,rn(e,l,n),Le(e,n),e}function Ul(e,t,r,n){var l=t.current,a=Pe(),o=Jt(l);return r=yp(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wt(l,t,o),e!==null&&(ot(e,l,o,a),Bn(e,l,o)),o}function Nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ti(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function Ax(){return null}var vp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ri(e){this._internalRoot=e}Bl.prototype.render=Ri.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Ul(e,t,null,null)};Bl.prototype.unmount=Ri.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ns(function(){Ul(null,e,null,null)}),t[St]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_t.length&&t!==0&&t<_t[r].priority;r++);_t.splice(r,0,e),r===0&&Zu(e)}};function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wc(){}function Tx(e,t,r,n,l){if(l){if(typeof n=="function"){var a=n;n=function(){var d=Nl(o);a.call(d)}}var o=bp(t,n,e,0,null,!1,!1,"",Wc);return e._reactRootContainer=o,e[St]=o.current,Vr(e.nodeType===8?e.parentNode:e),Ns(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof n=="function"){var i=n;n=function(){var d=Nl(c);i.call(d)}}var c=Ai(e,0,!1,null,null,!1,!1,"",Wc);return e._reactRootContainer=c,e[St]=c.current,Vr(e.nodeType===8?e.parentNode:e),Ns(function(){Ul(t,c,r,n)}),c}function ql(e,t,r,n,l){var a=r._reactRootContainer;if(a){var o=a;if(typeof l=="function"){var i=l;l=function(){var c=Nl(o);i.call(c)}}Ul(t,o,e,l)}else o=Tx(r,t,e,l,n);return Nl(o)}Gu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sr(t.pendingLanes);r!==0&&(Yo(t,r|1),Le(t,ue()),!(K&6)&&(sr=ue()+500,ss()))}break;case 13:Ns(function(){var n=Ct(e,1);if(n!==null){var l=Pe();ot(n,e,1,l)}}),Ti(e,1)}};Xo=function(e){if(e.tag===13){var t=Ct(e,134217728);if(t!==null){var r=Pe();ot(t,e,134217728,r)}Ti(e,134217728)}};Qu=function(e){if(e.tag===13){var t=Jt(e),r=Ct(e,t);if(r!==null){var n=Pe();ot(r,e,t,n)}Ti(e,t)}};Yu=function(){return Q};Xu=function(e,t){var r=Q;try{return Q=e,t()}finally{Q=r}};Ga=function(e,t,r){switch(t){case"input":if(Ba(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var l=$l(n);if(!l)throw Error($(90));Au(n),Ba(n,l)}}}break;case"textarea":Ru(e,r);break;case"select":t=r.value,t!=null&&qs(e,!!r.multiple,t,!1)}};Du=Si;Fu=Ns;var Rx={usingClientEntryPoint:!1,Events:[ln,_s,$l,Lu,_u,Si]},vr={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ix={bundleType:vr.bundleType,version:vr.version,rendererPackageName:vr.rendererPackageName,rendererConfig:vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bu(e),e===null?null:e.stateNode},findFiberByHostInstance:vr.findFiberByHostInstance||Ax,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rn.isDisabled&&Rn.supportsFiber)try{Tl=Rn.inject(Ix),gt=Rn}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rx;Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ii(t))throw Error($(200));return Px(e,t,null,r)};Ve.createRoot=function(e,t){if(!Ii(e))throw Error($(299));var r=!1,n="",l=vp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ai(e,1,!1,null,null,r,!1,n,l),e[St]=t.current,Vr(e.nodeType===8?e.parentNode:e),new Ri(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Bu(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return Ns(e)};Ve.hydrate=function(e,t,r){if(!Hl(t))throw Error($(200));return ql(null,e,t,!0,r)};Ve.hydrateRoot=function(e,t,r){if(!Ii(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,l=!1,a="",o=vp;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=bp(t,null,e,1,r??null,l,!1,a,o),e[St]=t.current,Vr(e),n)for(e=0;e<n.length;e++)r=n[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Bl(t)};Ve.render=function(e,t,r){if(!Hl(t))throw Error($(200));return ql(null,e,t,!1,r)};Ve.unmountComponentAtNode=function(e){if(!Hl(e))throw Error($(40));return e._reactRootContainer?(Ns(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};Ve.unstable_batchedUpdates=Si;Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hl(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return ql(e,t,r,!1,n)};Ve.version="18.3.1-next-f1338f8080-20240426";function jp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jp)}catch(e){console.error(e)}}jp(),ju.exports=Ve;var Mx=ju.exports,Kc=Mx;Oa.createRoot=Kc.createRoot,Oa.hydrateRoot=Kc.hydrateRoot;const $x="http://localhost:3001/api",Sa="authToken",Ca="currentUser";class Ox{constructor(){ce(this,"baseURL");ce(this,"token");ce(this,"user");this.baseURL=$x,this.token=this.getStoredToken(),this.user=this.getStoredUser()}getStoredToken(){return typeof window>"u"?null:localStorage.getItem(Sa)}getStoredUser(){if(typeof window>"u")return null;const t=localStorage.getItem(Ca);return t?JSON.parse(t):null}saveToken(t){this.token=t,localStorage.setItem(Sa,t)}saveUser(t){this.user=t,localStorage.setItem(Ca,JSON.stringify(t))}clearAuth(){this.token=null,this.user=null,localStorage.removeItem(Sa),localStorage.removeItem(Ca)}async request(t,r,n){const l=`${this.baseURL}${r}`,a={"Content-Type":"application/json"};this.token&&(a.Authorization=`Bearer ${this.token}`);try{const o=await fetch(l,{method:t,headers:a,body:n?JSON.stringify(n):void 0});if(o.status===401)throw this.clearAuth(),window.location.href="/login",new Error("Authentication failed. Please login again.");if(!o.ok){const i=await o.json().catch(()=>({}));throw new Error(i.message||`HTTP Error: ${o.status}`)}return await o.json()}catch(o){throw console.error(`API Error [${t} ${r}]:`,o),o}}async register(t){const r=await this.request("POST","/auth/register",t);if(r.success&&r.data)return this.saveToken(r.data.token),this.saveUser(r.data.user),r.data;throw new Error(r.message||"注册失败")}async login(t,r){const n=await this.request("POST","/auth/login",{username:t,password:r});if(n.success&&n.data)return this.saveToken(n.data.token),this.saveUser(n.data.user),n.data;throw new Error(n.message||"登陆失败")}async verify(){return this.request("GET","/auth/verify")}async getCurrentUser(){return this.request("GET","/auth/me")}async changePassword(t,r){return this.request("POST","/auth/change-password",{oldPassword:t,newPassword:r})}async logout(){this.clearAuth()}async createCustomer(t){return this.request("POST","/customers",t)}async getCustomers(t=1,r=10){return this.request("GET",`/customers?page=${t}&limit=${r}`)}async getCustomer(t){return this.request("GET",`/customers/${t}`)}async updateCustomer(t,r){return this.request("PUT",`/customers/${t}`,r)}async deleteCustomer(t){return this.request("DELETE",`/customers/${t}`)}async deleteCustomersBatch(t){return this.request("POST","/customers/batch/delete",{ids:t})}async getActiveCustomers(){return this.request("GET","/customers/status/active")}async getAtRiskCustomers(){return this.request("GET","/customers/status/atrisk")}async searchCustomers(t){return this.request("GET",`/customers/search?q=${encodeURIComponent(t)}`)}async updateCustomerSpending(t,r){return this.request("PUT",`/customers/${t}/spending`,{amount:r})}async getCustomerStatistics(){return this.request("GET","/customers/statistics")}async createAppointment(t){return this.request("POST","/appointments",t)}async getAppointments(t=1,r=10){return this.request("GET",`/appointments?page=${t}&limit=${r}`)}async getAppointment(t){return this.request("GET",`/appointments/${t}`)}async updateAppointment(t,r){return this.request("PUT",`/appointments/${t}`,r)}async deleteAppointment(t){return this.request("DELETE",`/appointments/${t}`)}async deleteAppointmentsBatch(t){return this.request("POST","/appointments/batch/delete",{ids:t})}async getTodayAppointments(){return this.request("GET","/appointments/today")}async getPendingAppointments(){return this.request("GET","/appointments/pending")}async getCustomerAppointments(t){return this.request("GET",`/appointments/customer/${t}`)}async getStaffAppointments(t){return this.request("GET",`/appointments/staff/${t}`)}async confirmAppointment(t){return this.request("PUT",`/appointments/${t}/confirm`)}async completeAppointment(t){return this.request("PUT",`/appointments/${t}/complete`)}async cancelAppointment(t){return this.request("PUT",`/appointments/${t}/cancel`)}async getAppointmentStatistics(){return this.request("GET","/appointments/statistics")}async createStaff(t){return this.request("POST","/staff",t)}async getStaff(t=1,r=10){return this.request("GET",`/staff?page=${t}&limit=${r}`)}async getStaffMember(t){return this.request("GET",`/staff/${t}`)}async updateStaff(t,r){return this.request("PUT",`/staff/${t}`,r)}async deleteStaff(t){return this.request("DELETE",`/staff/${t}`)}async deleteStaffBatch(t){return this.request("POST","/staff/batch/delete",{ids:t})}async getActiveStaff(){return this.request("GET","/staff/active")}async getTopRatedStaff(){return this.request("GET","/staff/top-rated")}async searchStaff(t){return this.request("GET",`/staff/search?q=${encodeURIComponent(t)}`)}async updateStaffRating(t,r){return this.request("PUT",`/staff/${t}/rating`,{rating:r})}async getStaffStatistics(){return this.request("GET","/staff/statistics")}async createProduct(t){return this.request("POST","/products",t)}async getProducts(t=1,r=10){return this.request("GET",`/products?page=${t}&limit=${r}`)}async getProduct(t){return this.request("GET",`/products/${t}`)}async updateProduct(t,r){return this.request("PUT",`/products/${t}`,r)}async deleteProduct(t){return this.request("DELETE",`/products/${t}`)}async deleteProductsBatch(t){return this.request("POST","/products/batch/delete",{ids:t})}async getProductsByCategory(t){return this.request("GET",`/products/category/${encodeURIComponent(t)}`)}async searchProducts(t){return this.request("GET",`/products/search?q=${encodeURIComponent(t)}`)}async getLowStockProducts(){return this.request("GET","/products/low-stock")}async getTopSellingProducts(){return this.request("GET","/products/top-selling")}async decreaseProductStock(t,r){return this.request("PUT",`/products/${t}/decrease-stock`,{quantity:r})}async increaseProductStock(t,r){return this.request("PUT",`/products/${t}/increase-stock`,{quantity:r})}async getProductStatistics(){return this.request("GET","/products/statistics")}async getProductCategories(){return this.request("GET","/products/categories")}async getLiveClasses(){return this.request("GET","/live-classes")}async getLiveClass(t){return this.request("GET",`/live-classes/${t}`)}isAuthenticated(){return!!this.token}getCurrentUserInfo(){return this.user}getToken(){return this.token}setToken(t){this.saveToken(t)}}const Rs=new Ox,Np=k.createContext(void 0),Lx=({children:e})=>{const[t,r]=k.useState(null),[n,l]=k.useState(null),[a,o]=k.useState(!0),[i,c]=k.useState(null);k.useEffect(()=>{const m=localStorage.getItem("authToken"),v=localStorage.getItem("currentUser");if(m&&v)try{l(m),r(JSON.parse(v)),Rs.setToken(m)}catch(y){console.error("Failed to restore auth state:",y),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser")}o(!1)},[]);const g={user:t,token:n,isAuthenticated:!!n&&!!t,loading:a,error:i,login:async(m,v)=>{o(!0),c(null);try{const y=await Rs.login(m,v);l(y.token),r(y.user),localStorage.setItem("authToken",y.token),localStorage.setItem("currentUser",JSON.stringify(y.user)),Rs.setToken(y.token)}catch(y){const u=y instanceof Error?y.message:"Login failed";throw c(u),new Error(u)}finally{o(!1)}},register:async m=>{o(!0),c(null);try{const v=await Rs.register(m);l(v.token),r(v.user),localStorage.setItem("authToken",v.token),localStorage.setItem("currentUser",JSON.stringify(v.user)),Rs.setToken(v.token)}catch(v){const y=v instanceof Error?v.message:"Registration failed";throw c(y),new Error(y)}finally{o(!1)}},logout:()=>{r(null),l(null),c(null),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),Rs.logout()},clearError:()=>{c(null)}};return s.jsx(Np.Provider,{value:g,children:e})},wp=()=>{const e=k.useContext(Np);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:i="",children:c,...d},p)=>k.createElement("svg",{ref:p,..._x,width:l,height:l,stroke:n,strokeWidth:o?Number(a)*24/Number(l):a,className:["lucide",`lucide-${Dx(e)}`,i].join(" "),...d},[...t.map(([h,x])=>k.createElement(h,x)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=D("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=D("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=D("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=D("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=D("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=D("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=D("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=D("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=D("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=D("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=D("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=D("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=D("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=D("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=D("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=D("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=D("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=D("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=D("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=D("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=D("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=D("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=D("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=D("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=D("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=D("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=D("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=D("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=D("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=D("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=D("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=D("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=D("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=D("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=D("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=D("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=D("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=D("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=D("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),sg=({onLogin:e})=>{const{login:t,register:r,error:n,clearError:l}=wp(),[a,o]=k.useState(!0),[i,c]=k.useState(""),[d,p]=k.useState(""),[h,x]=k.useState(""),[g,m]=k.useState(""),[v,y]=k.useState("admin"),[u,f]=k.useState(!1),[b,S]=k.useState(""),[C,T]=k.useState(!1),w=async N=>{N.preventDefault(),T(!0),S(""),l();try{if(!d||!h){S("请输入用户名和密码"),T(!1);return}await t(d,h),console.log("登录成功"),e("admin")}catch(j){console.error("登录错误:",j);const P=j.message||"登录失败，请检查用户名和密码";S(P)}finally{T(!1)}},I=async N=>{N.preventDefault(),T(!0),S(""),l();try{if(!d||!i||!h){S("请填写所有必要字段"),T(!1);return}if(h!==g){S("密码不匹配"),T(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){S("请输入有效的邮箱地址"),T(!1);return}await r({username:d,email:i,password:h,confirmPassword:g,role:"admin"}),console.log("注册成功"),e("admin")}catch(j){console.error("注册错误:",j);const P=j.message||"注册失败，请重试";S(P)}finally{T(!1)}},F=()=>{console.log("进入演示模式"),e("admin")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(_e,{className:"w-8 h-8 text-green-600"}),s.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"美容院管理系统"})]}),s.jsx("p",{className:"text-gray-600",children:"管理员端 - 一台手机掌控整个美容院"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"flex gap-4 mb-8",children:[s.jsx("button",{onClick:()=>{o(!0),S(""),l()},className:`flex-1 py-2 font-semibold transition-colors ${a?"text-green-600 border-b-2 border-green-600":"text-gray-600 border-b-2 border-transparent hover:text-gray-900"}`,children:"登 录"}),s.jsx("button",{onClick:()=>{o(!1),S(""),l()},className:`flex-1 py-2 font-semibold transition-colors ${a?"text-gray-600 border-b-2 border-transparent hover:text-gray-900":"text-green-600 border-b-2 border-green-600"}`,children:"注 册"})]}),(b||n)&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:b||n}),a?s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"用户名"}),s.jsx("input",{type:"text",value:d,onChange:N=>p(N.target.value),placeholder:"输入用户名",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"密码"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",value:h,onChange:N=>x(N.target.value),placeholder:"输入密码",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C}),s.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:C,children:u?s.jsx(Jc,{size:20}):s.jsx(To,{size:20})})]})]}),s.jsx("button",{type:"submit",disabled:C,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-2 rounded-lg transition-colors",children:C?"登录中...":"登 录"}),s.jsxs("p",{className:"text-center text-sm text-gray-600",children:["没有账户？",s.jsx("button",{type:"button",onClick:()=>{o(!1),S(""),l()},className:"text-green-600 hover:text-green-700 font-medium",children:"立即注册"})]})]}):s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"用户名"}),s.jsx("input",{type:"text",value:d,onChange:N=>p(N.target.value),placeholder:"输入用户名",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"邮箱"}),s.jsx("input",{type:"email",value:i,onChange:N=>c(N.target.value),placeholder:"输入邮箱地址",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"密码"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",value:h,onChange:N=>x(N.target.value),placeholder:"输入密码",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C}),s.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:C,children:u?s.jsx(Jc,{size:20}):s.jsx(To,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"确认密码"}),s.jsx("input",{type:"password",value:g,onChange:N=>m(N.target.value),placeholder:"再次输入密码",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:C})]}),s.jsx("button",{type:"submit",disabled:C,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-2 rounded-lg transition-colors",children:C?"注册中...":"注 册"}),s.jsxs("p",{className:"text-center text-sm text-gray-600",children:["已有账户？",s.jsx("button",{type:"button",onClick:()=>{o(!0),S(""),l()},className:"text-green-600 hover:text-green-700 font-medium",children:"立即登录"})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("p",{className:"text-center text-xs text-gray-500 mb-3",children:"✨ 演示模式"}),s.jsx("button",{onClick:F,disabled:C,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 disabled:from-gray-400 disabled:to-gray-400 text-white font-semibold py-3 rounded-lg transition-all duration-300 text-base",children:"🚀 立即体验管理员系统"}),s.jsx("p",{className:"text-center text-xs text-gray-600 mt-2",children:"测试阶段：点击即可进入，无需账号密码"})]})]})]})})},rg=({currentPage:e,userRole:t,onPageChange:r,onLogout:n})=>{const a={admin:[{id:"dashboard",label:"仪表盘",icon:nr},{id:"customermanagement",label:"客户管理",icon:re},{id:"staff",label:"美容师",icon:re},{id:"shop",label:"商城装修",icon:Me},{id:"mall-admin",label:"商城管理",icon:Wx},{id:"training",label:"培训教育",icon:lr},{id:"ai",label:"AI",icon:_e},{id:"health-assistant",label:"健康助手",icon:Lr}],staff:[{id:"dashboard",label:"我的日程",icon:re},{id:"customermanagement",label:"我的客户",icon:re},{id:"training",label:"培训学习",icon:lr},{id:"health-assistant",label:"健康助手",icon:Lr}],customer:[{id:"onsite-booking",label:"上门服务",icon:tn},{id:"customermanagement",label:"我的预约",icon:re},{id:"shop",label:"美容商城",icon:Me},{id:"health-assistant",label:"健康助手",icon:Lr}]}[t];return s.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yx,{className:"w-6 h-6 text-gray-900"}),s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"美容院"})]}),s.jsx("div",{className:"hidden md:flex items-center gap-1",children:a.map(o=>{const i=o.icon,c=e===o.id;return s.jsxs("button",{onClick:()=>r(o.id),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${c?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx(i,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:o.label})]},o.id)})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[t==="admin"&&"管理员",t==="staff"&&"美容师",t==="customer"&&"客户"]}),s.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Cp,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"md:hidden flex overflow-x-auto gap-2 pb-2",children:a.map(o=>{const i=e===o.id;return s.jsx("button",{onClick:()=>r(o.id),className:`px-3 py-1 rounded-lg text-xs font-medium whitespace-nowrap transition-colors ${i?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:o.label},o.id)})})]})})},ng=({currentPage:e,userRole:t,onPageChange:r,onLogout:n})=>{const[l,a]=k.useState(!1),i={admin:[{id:"dashboard",label:"仪表盘",icon:nr},{id:"customermanagement",label:"客户",icon:re},{id:"staff",label:"美容师",icon:re},{id:"shop",label:"商城",icon:Me},{id:"ai",label:"AI",icon:_e},{id:"procurement",label:"采购",icon:Me},{id:"health-assistant",label:"健康助手",icon:re}],staff:[{id:"dashboard",label:"日程",icon:re},{id:"customermanagement",label:"客户",icon:re},{id:"ai",label:"AI建议",icon:_e},{id:"shop",label:"产品",icon:Me},{id:"health-assistant",label:"健康助手",icon:re}],customer:[{id:"onsite-booking",label:"上门服务",icon:tn},{id:"customermanagement",label:"预约",icon:re},{id:"shop",label:"商城",icon:Me},{id:"ai",label:"推荐",icon:_e},{id:"health-assistant",label:"健康助手",icon:re}]}[t],c=i.slice(0,5),d=i.length>5,p=d?4:-1,h=x=>{r(x),a(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-green-200 shadow-lg md:hidden z-40 safe-bottom",children:s.jsx("div",{className:"flex items-center justify-around h-16 relative",children:c.map((x,g)=>{const m=x.icon,v=e===x.id;return g===p&&d?s.jsxs("div",{className:"relative flex-1 flex items-center justify-center",children:[s.jsxs("button",{onClick:()=>a(!l),className:`flex flex-col items-center justify-center py-2 px-3 w-full transition-colors ${v||l?"text-green-600 bg-green-50":"text-gray-600 hover:text-green-500"}`,children:[s.jsx(m,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs mt-0.5 font-medium",children:"更多"})]}),l&&s.jsx("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-lg border border-green-200 mb-2 z-50 w-40",children:i.slice(5).map(y=>{const u=y.icon,f=e===y.id;return s.jsxs("button",{onClick:()=>h(y.id),className:`w-full px-4 py-3 text-left text-sm transition-colors flex items-center gap-2 border-b border-green-100 last:border-0 ${f?"bg-green-50 text-green-600 font-medium":"text-gray-700 hover:bg-green-50 hover:text-green-600"}`,children:[s.jsx(u,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"flex-1",children:y.label})]},y.id)})})]},"more"):s.jsxs("button",{onClick:()=>{h(x.id),a(!1)},className:`flex flex-col items-center justify-center py-2 px-3 flex-1 transition-colors ${v?"text-green-600 bg-green-50":"text-gray-600 hover:text-green-500"}`,children:[s.jsx(m,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs mt-0.5 font-medium truncate",children:x.label})]},x.id)})})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-0 md:hidden z-30",onClick:()=>a(!1)}),s.jsx("div",{className:"fixed bottom-20 right-4 md:hidden z-30",children:s.jsx("button",{onClick:n,className:"p-2 bg-green-500 text-white rounded-full shadow-lg hover:bg-green-600 transition-colors",title:"登出",children:s.jsx(Cp,{className:"w-5 h-5"})})})]})};function Pp(e,t){return function(){return e.apply(t,arguments)}}const{toString:lg}=Object.prototype,{getPrototypeOf:$i}=Object,{iterator:Wl,toStringTag:Ap}=Symbol,Kl=(e=>t=>{const r=lg.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ct=e=>(e=e.toLowerCase(),t=>Kl(t)===e),Jl=e=>t=>typeof t===e,{isArray:ur}=Array,or=Jl("undefined");function on(e){return e!==null&&!or(e)&&e.constructor!==null&&!or(e.constructor)&&De(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Tp=ct("ArrayBuffer");function ag(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Tp(e.buffer),t}const og=Jl("string"),De=Jl("function"),Rp=Jl("number"),cn=e=>e!==null&&typeof e=="object",ig=e=>e===!0||e===!1,Qn=e=>{if(Kl(e)!=="object")return!1;const t=$i(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ap in e)&&!(Wl in e)},cg=e=>{if(!cn(e)||on(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dg=ct("Date"),ug=ct("File"),mg=ct("Blob"),pg=ct("FileList"),hg=e=>cn(e)&&De(e.pipe),xg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||De(e.append)&&((t=Kl(e))==="formdata"||t==="object"&&De(e.toString)&&e.toString()==="[object FormData]"))},gg=ct("URLSearchParams"),[fg,yg,bg,vg]=["ReadableStream","Request","Response","Headers"].map(ct),jg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dn(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,l;if(typeof e!="object"&&(e=[e]),ur(e))for(n=0,l=e.length;n<l;n++)t.call(null,e[n],n,e);else{if(on(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let i;for(n=0;n<o;n++)i=a[n],t.call(null,e[i],i,e)}}function Ip(e,t){if(on(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,l;for(;n-- >0;)if(l=r[n],t===l.toLowerCase())return l;return null}const ps=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mp=e=>!or(e)&&e!==ps;function Mo(){const{caseless:e,skipUndefined:t}=Mp(this)&&this||{},r={},n=(l,a)=>{const o=e&&Ip(r,a)||a;Qn(r[o])&&Qn(l)?r[o]=Mo(r[o],l):Qn(l)?r[o]=Mo({},l):ur(l)?r[o]=l.slice():(!t||!or(l))&&(r[o]=l)};for(let l=0,a=arguments.length;l<a;l++)arguments[l]&&dn(arguments[l],n);return r}const Ng=(e,t,r,{allOwnKeys:n}={})=>(dn(t,(l,a)=>{r&&De(l)?e[a]=Pp(l,r):e[a]=l},{allOwnKeys:n}),e),wg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kg=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Sg=(e,t,r,n)=>{let l,a,o;const i={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),a=l.length;a-- >0;)o=l[a],(!n||n(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=r!==!1&&$i(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Cg=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Eg=e=>{if(!e)return null;if(ur(e))return e;let t=e.length;if(!Rp(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Pg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$i(Uint8Array)),Ag=(e,t)=>{const n=(e&&e[Wl]).call(e);let l;for(;(l=n.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},Tg=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Rg=ct("HTMLFormElement"),Ig=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,l){return n.toUpperCase()+l}),Xc=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Mg=ct("RegExp"),$p=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};dn(r,(l,a)=>{let o;(o=t(l,a,e))!==!1&&(n[a]=o||l)}),Object.defineProperties(e,n)},$g=e=>{$p(e,(t,r)=>{if(De(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(De(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Og=(e,t)=>{const r={},n=l=>{l.forEach(a=>{r[a]=!0})};return ur(e)?n(e):n(String(e).split(t)),r},Lg=()=>{},_g=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dg(e){return!!(e&&De(e.append)&&e[Ap]==="FormData"&&e[Wl])}const Fg=e=>{const t=new Array(10),r=(n,l)=>{if(cn(n)){if(t.indexOf(n)>=0)return;if(on(n))return n;if(!("toJSON"in n)){t[l]=n;const a=ur(n)?[]:{};return dn(n,(o,i)=>{const c=r(o,l+1);!or(c)&&(a[i]=c)}),t[l]=void 0,a}}return n};return r(e,0)},zg=ct("AsyncFunction"),Ug=e=>e&&(cn(e)||De(e))&&De(e.then)&&De(e.catch),Op=((e,t)=>e?setImmediate:t?((r,n)=>(ps.addEventListener("message",({source:l,data:a})=>{l===ps&&a===r&&n.length&&n.shift()()},!1),l=>{n.push(l),ps.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",De(ps.postMessage)),Bg=typeof queueMicrotask<"u"?queueMicrotask.bind(ps):typeof process<"u"&&process.nextTick||Op,Hg=e=>e!=null&&De(e[Wl]),A={isArray:ur,isArrayBuffer:Tp,isBuffer:on,isFormData:xg,isArrayBufferView:ag,isString:og,isNumber:Rp,isBoolean:ig,isObject:cn,isPlainObject:Qn,isEmptyObject:cg,isReadableStream:fg,isRequest:yg,isResponse:bg,isHeaders:vg,isUndefined:or,isDate:dg,isFile:ug,isBlob:mg,isRegExp:Mg,isFunction:De,isStream:hg,isURLSearchParams:gg,isTypedArray:Pg,isFileList:pg,forEach:dn,merge:Mo,extend:Ng,trim:jg,stripBOM:wg,inherits:kg,toFlatObject:Sg,kindOf:Kl,kindOfTest:ct,endsWith:Cg,toArray:Eg,forEachEntry:Ag,matchAll:Tg,isHTMLForm:Rg,hasOwnProperty:Xc,hasOwnProp:Xc,reduceDescriptors:$p,freezeMethods:$g,toObjectSet:Og,toCamelCase:Ig,noop:Lg,toFiniteNumber:_g,findKey:Ip,global:ps,isContextDefined:Mp,isSpecCompliantForm:Dg,toJSONObject:Fg,isAsyncFn:zg,isThenable:Ug,setImmediate:Op,asap:Bg,isIterable:Hg};function H(e,t,r,n,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),l&&(this.response=l,this.status=l.status?l.status:null)}A.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const Lp=H.prototype,_p={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_p[e]={value:e}});Object.defineProperties(H,_p);Object.defineProperty(Lp,"isAxiosError",{value:!0});H.from=(e,t,r,n,l,a)=>{const o=Object.create(Lp);A.toFlatObject(e,o,function(p){return p!==Error.prototype},d=>d!=="isAxiosError");const i=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return H.call(o,i,c,r,n,l),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const qg=null;function $o(e){return A.isPlainObject(e)||A.isArray(e)}function Dp(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function Zc(e,t,r){return e?e.concat(t).map(function(l,a){return l=Dp(l),!r&&a?"["+l+"]":l}).join(r?".":""):t}function Vg(e){return A.isArray(e)&&!e.some($o)}const Wg=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function Gl(e,t,r){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=A.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!A.isUndefined(y[v])});const n=r.metaTokens,l=r.visitor||p,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(t);if(!A.isFunction(l))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(A.isDate(m))return m.toISOString();if(A.isBoolean(m))return m.toString();if(!c&&A.isBlob(m))throw new H("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(m)||A.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function p(m,v,y){let u=m;if(m&&!y&&typeof m=="object"){if(A.endsWith(v,"{}"))v=n?v:v.slice(0,-2),m=JSON.stringify(m);else if(A.isArray(m)&&Vg(m)||(A.isFileList(m)||A.endsWith(v,"[]"))&&(u=A.toArray(m)))return v=Dp(v),u.forEach(function(b,S){!(A.isUndefined(b)||b===null)&&t.append(o===!0?Zc([v],S,a):o===null?v:v+"[]",d(b))}),!1}return $o(m)?!0:(t.append(Zc(y,v,a),d(m)),!1)}const h=[],x=Object.assign(Wg,{defaultVisitor:p,convertValue:d,isVisitable:$o});function g(m,v){if(!A.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(m),A.forEach(m,function(u,f){(!(A.isUndefined(u)||u===null)&&l.call(t,u,A.isString(f)?f.trim():f,v,x))===!0&&g(u,v?v.concat(f):[f])}),h.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return g(e),t}function ed(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Oi(e,t){this._pairs=[],e&&Gl(e,this,t)}const Fp=Oi.prototype;Fp.append=function(t,r){this._pairs.push([t,r])};Fp.toString=function(t){const r=t?function(n){return t.call(this,n,ed)}:ed;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function Kg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zp(e,t,r){if(!t)return e;const n=r&&r.encode||Kg;A.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let a;if(l?a=l(t,r):a=A.isURLSearchParams(t)?t.toString():new Oi(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class td{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Up={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jg=typeof URLSearchParams<"u"?URLSearchParams:Oi,Gg=typeof FormData<"u"?FormData:null,Qg=typeof Blob<"u"?Blob:null,Yg={isBrowser:!0,classes:{URLSearchParams:Jg,FormData:Gg,Blob:Qg},protocols:["http","https","file","blob","url","data"]},Li=typeof window<"u"&&typeof document<"u",Oo=typeof navigator=="object"&&navigator||void 0,Xg=Li&&(!Oo||["ReactNative","NativeScript","NS"].indexOf(Oo.product)<0),Zg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ef=Li&&window.location.href||"http://localhost",tf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Li,hasStandardBrowserEnv:Xg,hasStandardBrowserWebWorkerEnv:Zg,navigator:Oo,origin:ef},Symbol.toStringTag,{value:"Module"})),Se={...tf,...Yg};function sf(e,t){return Gl(e,new Se.classes.URLSearchParams,{visitor:function(r,n,l,a){return Se.isNode&&A.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function rf(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nf(e){const t={},r=Object.keys(e);let n;const l=r.length;let a;for(n=0;n<l;n++)a=r[n],t[a]=e[a];return t}function Bp(e){function t(r,n,l,a){let o=r[a++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),c=a>=r.length;return o=!o&&A.isArray(l)?l.length:o,c?(A.hasOwnProp(l,o)?l[o]=[l[o],n]:l[o]=n,!i):((!l[o]||!A.isObject(l[o]))&&(l[o]=[]),t(r,n,l[o],a)&&A.isArray(l[o])&&(l[o]=nf(l[o])),!i)}if(A.isFormData(e)&&A.isFunction(e.entries)){const r={};return A.forEachEntry(e,(n,l)=>{t(rf(n),l,r,0)}),r}return null}function lf(e,t,r){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const un={transitional:Up,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",l=n.indexOf("application/json")>-1,a=A.isObject(t);if(a&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return l?JSON.stringify(Bp(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t)||A.isReadableStream(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sf(t,this.formSerializer).toString();if((i=A.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gl(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||l?(r.setContentType("application/json",!1),lf(t)):t}],transformResponse:[function(t){const r=this.transitional||un.transitional,n=r&&r.forcedJSONParsing,l=this.responseType==="json";if(A.isResponse(t)||A.isReadableStream(t))return t;if(t&&A.isString(t)&&(n&&!this.responseType||l)){const o=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(i){if(o)throw i.name==="SyntaxError"?H.from(i,H.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Se.classes.FormData,Blob:Se.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{un.headers[e]={}});const af=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),of=e=>{const t={};let r,n,l;return e&&e.split(`
`).forEach(function(o){l=o.indexOf(":"),r=o.substring(0,l).trim().toLowerCase(),n=o.substring(l+1).trim(),!(!r||t[r]&&af[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},sd=Symbol("internals");function jr(e){return e&&String(e).trim().toLowerCase()}function Yn(e){return e===!1||e==null?e:A.isArray(e)?e.map(Yn):String(e)}function cf(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const df=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ea(e,t,r,n,l){if(A.isFunction(n))return n.call(this,t,r);if(l&&(t=r),!!A.isString(t)){if(A.isString(n))return t.indexOf(n)!==-1;if(A.isRegExp(n))return n.test(t)}}function uf(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function mf(e,t){const r=A.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(l,a,o){return this[n].call(this,t,l,a,o)},configurable:!0})})}let Fe=class{constructor(t){t&&this.set(t)}set(t,r,n){const l=this;function a(i,c,d){const p=jr(c);if(!p)throw new Error("header name must be a non-empty string");const h=A.findKey(l,p);(!h||l[h]===void 0||d===!0||d===void 0&&l[h]!==!1)&&(l[h||c]=Yn(i))}const o=(i,c)=>A.forEach(i,(d,p)=>a(d,p,c));if(A.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(A.isString(t)&&(t=t.trim())&&!df(t))o(of(t),r);else if(A.isObject(t)&&A.isIterable(t)){let i={},c,d;for(const p of t){if(!A.isArray(p))throw TypeError("Object iterator must return a key-value pair");i[d=p[0]]=(c=i[d])?A.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}o(i,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=jr(t),t){const n=A.findKey(this,t);if(n){const l=this[n];if(!r)return l;if(r===!0)return cf(l);if(A.isFunction(r))return r.call(this,l,n);if(A.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=jr(t),t){const n=A.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ea(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let l=!1;function a(o){if(o=jr(o),o){const i=A.findKey(n,o);i&&(!r||Ea(n,n[i],i,r))&&(delete n[i],l=!0)}}return A.isArray(t)?t.forEach(a):a(t),l}clear(t){const r=Object.keys(this);let n=r.length,l=!1;for(;n--;){const a=r[n];(!t||Ea(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){const r=this,n={};return A.forEach(this,(l,a)=>{const o=A.findKey(n,a);if(o){r[o]=Yn(l),delete r[a];return}const i=t?uf(a):String(a).trim();i!==a&&delete r[a],r[i]=Yn(l),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return A.forEach(this,(n,l)=>{n!=null&&n!==!1&&(r[l]=t&&A.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(l=>n.set(l)),n}static accessor(t){const n=(this[sd]=this[sd]={accessors:{}}).accessors,l=this.prototype;function a(o){const i=jr(o);n[i]||(mf(l,o),n[i]=!0)}return A.isArray(t)?t.forEach(a):a(t),this}};Fe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(Fe.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});A.freezeMethods(Fe);function Pa(e,t){const r=this||un,n=t||r,l=Fe.from(n.headers);let a=n.data;return A.forEach(e,function(i){a=i.call(r,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function Hp(e){return!!(e&&e.__CANCEL__)}function mr(e,t,r){H.call(this,e??"canceled",H.ERR_CANCELED,t,r),this.name="CanceledError"}A.inherits(mr,H,{__CANCEL__:!0});function qp(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new H("Request failed with status code "+r.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function pf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hf(e,t){e=e||10;const r=new Array(e),n=new Array(e);let l=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),p=n[a];o||(o=d),r[l]=c,n[l]=d;let h=a,x=0;for(;h!==l;)x+=r[h++],h=h%e;if(l=(l+1)%e,l===a&&(a=(a+1)%e),d-o<t)return;const g=p&&d-p;return g?Math.round(x*1e3/g):void 0}}function xf(e,t){let r=0,n=1e3/t,l,a;const o=(d,p=Date.now())=>{r=p,l=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const p=Date.now(),h=p-r;h>=n?o(d,p):(l=d,a||(a=setTimeout(()=>{a=null,o(l)},n-h)))},()=>l&&o(l)]}const Pl=(e,t,r=3)=>{let n=0;const l=hf(50,250);return xf(a=>{const o=a.loaded,i=a.lengthComputable?a.total:void 0,c=o-n,d=l(c),p=o<=i;n=o;const h={loaded:o,total:i,progress:i?o/i:void 0,bytes:c,rate:d||void 0,estimated:d&&i&&p?(i-o)/d:void 0,event:a,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(h)},r)},rd=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},nd=e=>(...t)=>A.asap(()=>e(...t)),gf=Se.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Se.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Se.origin),Se.navigator&&/(msie|trident)/i.test(Se.navigator.userAgent)):()=>!0,ff=Se.hasStandardBrowserEnv?{write(e,t,r,n,l,a){const o=[e+"="+encodeURIComponent(t)];A.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),A.isString(n)&&o.push("path="+n),A.isString(l)&&o.push("domain="+l),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yf(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bf(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vp(e,t,r){let n=!yf(t);return e&&(n||r==!1)?bf(e,t):t}const ld=e=>e instanceof Fe?{...e}:e;function Cs(e,t){t=t||{};const r={};function n(d,p,h,x){return A.isPlainObject(d)&&A.isPlainObject(p)?A.merge.call({caseless:x},d,p):A.isPlainObject(p)?A.merge({},p):A.isArray(p)?p.slice():p}function l(d,p,h,x){if(A.isUndefined(p)){if(!A.isUndefined(d))return n(void 0,d,h,x)}else return n(d,p,h,x)}function a(d,p){if(!A.isUndefined(p))return n(void 0,p)}function o(d,p){if(A.isUndefined(p)){if(!A.isUndefined(d))return n(void 0,d)}else return n(void 0,p)}function i(d,p,h){if(h in t)return n(d,p);if(h in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(d,p,h)=>l(ld(d),ld(p),h,!0)};return A.forEach(Object.keys({...e,...t}),function(p){const h=c[p]||l,x=h(e[p],t[p],p);A.isUndefined(x)&&h!==i||(r[p]=x)}),r}const Wp=e=>{const t=Cs({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:l,xsrfCookieName:a,headers:o,auth:i}=t;if(t.headers=o=Fe.from(o),t.url=zp(Vp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),A.isFormData(r)){if(Se.hasStandardBrowserEnv||Se.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(A.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([p,h])=>{d.includes(p.toLowerCase())&&o.set(p,h)})}}if(Se.hasStandardBrowserEnv&&(n&&A.isFunction(n)&&(n=n(t)),n||n!==!1&&gf(t.url))){const c=l&&a&&ff.read(a);c&&o.set(l,c)}return t},vf=typeof XMLHttpRequest<"u",jf=vf&&function(e){return new Promise(function(r,n){const l=Wp(e);let a=l.data;const o=Fe.from(l.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:d}=l,p,h,x,g,m;function v(){g&&g(),m&&m(),l.cancelToken&&l.cancelToken.unsubscribe(p),l.signal&&l.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(l.method.toUpperCase(),l.url,!0),y.timeout=l.timeout;function u(){if(!y)return;const b=Fe.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!i||i==="text"||i==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:e,request:y};qp(function(w){r(w),v()},function(w){n(w),v()},C),y=null}"onloadend"in y?y.onloadend=u:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(u)},y.onabort=function(){y&&(n(new H("Request aborted",H.ECONNABORTED,e,y)),y=null)},y.onerror=function(S){const C=S&&S.message?S.message:"Network Error",T=new H(C,H.ERR_NETWORK,e,y);T.event=S||null,n(T),y=null},y.ontimeout=function(){let S=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const C=l.transitional||Up;l.timeoutErrorMessage&&(S=l.timeoutErrorMessage),n(new H(S,C.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&A.forEach(o.toJSON(),function(S,C){y.setRequestHeader(C,S)}),A.isUndefined(l.withCredentials)||(y.withCredentials=!!l.withCredentials),i&&i!=="json"&&(y.responseType=l.responseType),d&&([x,m]=Pl(d,!0),y.addEventListener("progress",x)),c&&y.upload&&([h,g]=Pl(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",g)),(l.cancelToken||l.signal)&&(p=b=>{y&&(n(!b||b.type?new mr(null,e,y):b),y.abort(),y=null)},l.cancelToken&&l.cancelToken.subscribe(p),l.signal&&(l.signal.aborted?p():l.signal.addEventListener("abort",p)));const f=pf(l.url);if(f&&Se.protocols.indexOf(f)===-1){n(new H("Unsupported protocol "+f+":",H.ERR_BAD_REQUEST,e));return}y.send(a||null)})},Nf=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,l;const a=function(d){if(!l){l=!0,i();const p=d instanceof Error?d:this.reason;n.abort(p instanceof H?p:new mr(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,a(new H(`timeout ${t} of ms exceeded`,H.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>A.asap(i),c}},wf=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,l;for(;n<r;)l=n+t,yield e.slice(n,l),n=l},kf=async function*(e,t){for await(const r of Sf(e))yield*wf(r,t)},Sf=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},ad=(e,t,r,n)=>{const l=kf(e,t);let a=0,o,i=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:p}=await l.next();if(d){i(),c.close();return}let h=p.byteLength;if(r){let x=a+=h;r(x)}c.enqueue(new Uint8Array(p))}catch(d){throw i(d),d}},cancel(c){return i(c),l.return()}},{highWaterMark:2})},od=64*1024,{isFunction:In}=A,Cf=(({Request:e,Response:t})=>({Request:e,Response:t}))(A.global),{ReadableStream:id,TextEncoder:cd}=A.global,dd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ef=e=>{e=A.merge.call({skipUndefined:!0},Cf,e);const{fetch:t,Request:r,Response:n}=e,l=t?In(t):typeof fetch=="function",a=In(r),o=In(n);if(!l)return!1;const i=l&&In(id),c=l&&(typeof cd=="function"?(m=>v=>m.encode(v))(new cd):async m=>new Uint8Array(await new r(m).arrayBuffer())),d=a&&i&&dd(()=>{let m=!1;const v=new r(Se.origin,{body:new id,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),p=o&&i&&dd(()=>A.isReadableStream(new n("").body)),h={stream:p&&(m=>m.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(v,y)=>{let u=v&&v[m];if(u)return u.call(v);throw new H(`Response type '${m}' is not supported`,H.ERR_NOT_SUPPORT,y)})});const x=async m=>{if(m==null)return 0;if(A.isBlob(m))return m.size;if(A.isSpecCompliantForm(m))return(await new r(Se.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(A.isArrayBufferView(m)||A.isArrayBuffer(m))return m.byteLength;if(A.isURLSearchParams(m)&&(m=m+""),A.isString(m))return(await c(m)).byteLength},g=async(m,v)=>{const y=A.toFiniteNumber(m.getContentLength());return y??x(v)};return async m=>{let{url:v,method:y,data:u,signal:f,cancelToken:b,timeout:S,onDownloadProgress:C,onUploadProgress:T,responseType:w,headers:I,withCredentials:F="same-origin",fetchOptions:N}=Wp(m),j=t||fetch;w=w?(w+"").toLowerCase():"text";let P=Nf([f,b&&b.toAbortSignal()],S),O=null;const L=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let U;try{if(T&&d&&y!=="get"&&y!=="head"&&(U=await g(I,u))!==0){let W=new r(v,{method:"POST",body:u,duplex:"half"}),G;if(A.isFormData(u)&&(G=W.headers.get("content-type"))&&I.setContentType(G),W.body){const[Ke,je]=rd(U,Pl(nd(T)));u=ad(W.body,od,Ke,je)}}A.isString(F)||(F=F?"include":"omit");const q=a&&"credentials"in r.prototype,le={...N,signal:P,method:y.toUpperCase(),headers:I.normalize().toJSON(),body:u,duplex:"half",credentials:q?F:void 0};O=a&&new r(v,le);let M=await(a?j(O,N):j(v,le));const z=p&&(w==="stream"||w==="response");if(p&&(C||z&&L)){const W={};["status","statusText","headers"].forEach(dt=>{W[dt]=M[dt]});const G=A.toFiniteNumber(M.headers.get("content-length")),[Ke,je]=C&&rd(G,Pl(nd(C),!0))||[];M=new n(ad(M.body,od,Ke,()=>{je&&je(),L&&L()}),W)}w=w||"text";let B=await h[A.findKey(h,w)||"text"](M,m);return!z&&L&&L(),await new Promise((W,G)=>{qp(W,G,{data:B,headers:Fe.from(M.headers),status:M.status,statusText:M.statusText,config:m,request:O})})}catch(q){throw L&&L(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,m,O),{cause:q.cause||q}):H.from(q,q&&q.code,m,O)}}},Pf=new Map,Kp=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:l}=t,a=[n,l,r];let o=a.length,i=o,c,d,p=Pf;for(;i--;)c=a[i],d=p.get(c),d===void 0&&p.set(c,d=i?new Map:Ef(t)),p=d;return d};Kp();const Lo={http:qg,xhr:jf,fetch:{get:Kp}};A.forEach(Lo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ud=e=>`- ${e}`,Af=e=>A.isFunction(e)||e===null||e===!1,Jp={getAdapter:(e,t)=>{e=A.isArray(e)?e:[e];const{length:r}=e;let n,l;const a={};for(let o=0;o<r;o++){n=e[o];let i;if(l=n,!Af(n)&&(l=Lo[(i=String(n)).toLowerCase()],l===void 0))throw new H(`Unknown adapter '${i}'`);if(l&&(A.isFunction(l)||(l=l.get(t))))break;a[i||"#"+o]=l}if(!l){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=r?o.length>1?`since :
`+o.map(ud).join(`
`):" "+ud(o[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return l},adapters:Lo};function Aa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mr(null,e)}function md(e){return Aa(e),e.headers=Fe.from(e.headers),e.data=Pa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jp.getAdapter(e.adapter||un.adapter,e)(e).then(function(n){return Aa(e),n.data=Pa.call(e,e.transformResponse,n),n.headers=Fe.from(n.headers),n},function(n){return Hp(n)||(Aa(e),n&&n.response&&(n.response.data=Pa.call(e,e.transformResponse,n.response),n.response.headers=Fe.from(n.response.headers))),Promise.reject(n)})}const Gp="1.12.2",Ql={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ql[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const pd={};Ql.transitional=function(t,r,n){function l(a,o){return"[Axios v"+Gp+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,i)=>{if(t===!1)throw new H(l(o," has been removed"+(r?" in "+r:"")),H.ERR_DEPRECATED);return r&&!pd[o]&&(pd[o]=!0,console.warn(l(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,i):!0}};Ql.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Tf(e,t,r){if(typeof e!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let l=n.length;for(;l-- >0;){const a=n[l],o=t[a];if(o){const i=e[a],c=i===void 0||o(i,a,e);if(c!==!0)throw new H("option "+a+" must be "+c,H.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new H("Unknown option "+a,H.ERR_BAD_OPTION)}}const Xn={assertOptions:Tf,validators:Ql},mt=Xn.validators;let fs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new td,response:new td}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Cs(this.defaults,r);const{transitional:n,paramsSerializer:l,headers:a}=r;n!==void 0&&Xn.assertOptions(n,{silentJSONParsing:mt.transitional(mt.boolean),forcedJSONParsing:mt.transitional(mt.boolean),clarifyTimeoutError:mt.transitional(mt.boolean)},!1),l!=null&&(A.isFunction(l)?r.paramsSerializer={serialize:l}:Xn.assertOptions(l,{encode:mt.function,serialize:mt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Xn.assertOptions(r,{baseUrl:mt.spelling("baseURL"),withXsrfToken:mt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&A.merge(a.common,a[r.method]);a&&A.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),r.headers=Fe.concat(o,a);const i=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,i.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let p,h=0,x;if(!c){const m=[md.bind(this),void 0];for(m.unshift(...i),m.push(...d),x=m.length,p=Promise.resolve(r);h<x;)p=p.then(m[h++],m[h++]);return p}x=i.length;let g=r;for(;h<x;){const m=i[h++],v=i[h++];try{g=m(g)}catch(y){v.call(this,y);break}}try{p=md.call(this,g)}catch(m){return Promise.reject(m)}for(h=0,x=d.length;h<x;)p=p.then(d[h++],d[h++]);return p}getUri(t){t=Cs(this.defaults,t);const r=Vp(t.baseURL,t.url,t.allowAbsoluteUrls);return zp(r,t.params,t.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(t){fs.prototype[t]=function(r,n){return this.request(Cs(n||{},{method:t,url:r,data:(n||{}).data}))}});A.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,i){return this.request(Cs(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}fs.prototype[t]=r(),fs.prototype[t+"Form"]=r(!0)});let Rf=class Qp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(l=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](l);n._listeners=null}),this.promise.then=l=>{let a;const o=new Promise(i=>{n.subscribe(i),a=i}).then(l);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,i){n.reason||(n.reason=new mr(a,o,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Qp(function(l){t=l}),cancel:t}}};function If(e){return function(r){return e.apply(null,r)}}function Mf(e){return A.isObject(e)&&e.isAxiosError===!0}const _o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_o).forEach(([e,t])=>{_o[t]=e});function Yp(e){const t=new fs(e),r=Pp(fs.prototype.request,t);return A.extend(r,fs.prototype,t,{allOwnKeys:!0}),A.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return Yp(Cs(e,l))},r}const te=Yp(un);te.Axios=fs;te.CanceledError=mr;te.CancelToken=Rf;te.isCancel=Hp;te.VERSION=Gp;te.toFormData=Gl;te.AxiosError=H;te.Cancel=te.CanceledError;te.all=function(t){return Promise.all(t)};te.spread=If;te.isAxiosError=Mf;te.mergeConfig=Cs;te.AxiosHeaders=Fe;te.formToJSON=e=>Bp(A.isHTMLForm(e)?new FormData(e):e);te.getAdapter=Jp.getAdapter;te.HttpStatusCode=_o;te.default=te;const{Axios:$y,AxiosError:Oy,CanceledError:Ly,isCancel:_y,CancelToken:Dy,VERSION:Fy,all:zy,Cancel:Uy,isAxiosError:By,spread:Hy,toFormData:qy,AxiosHeaders:Vy,HttpStatusCode:Wy,formToJSON:Ky,getAdapter:Jy,mergeConfig:Gy}=te,J=te.create({baseURL:"http://localhost:3001/api",timeout:1e4,headers:{"Content-Type":"application/json"}});J.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("请求错误:",e),Promise.reject(e)));J.interceptors.response.use(e=>e,e=>{var t,r,n;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login",console.warn("认证已过期，请重新登录")),((r=e.response)==null?void 0:r.status)===403&&console.warn("权限不足:",(n=e.response.data)==null?void 0:n.message),Promise.reject(e)});const Mn={async getAll(){try{return(await J.get("/customers")).data.data||[]}catch(e){throw console.error("获取客户列表失败:",e),e}},async getById(e){try{return(await J.get(`/customers/${e}`)).data.data}catch(t){throw console.error("获取客户详情失败:",t),t}},async create(e){try{return(await J.post("/customers",e)).data.data}catch(t){throw console.error("创建客户失败:",t),t}},async update(e,t){try{return(await J.put(`/customers/${e}`,t)).data.data}catch(r){throw console.error("更新客户失败:",r),r}},async delete(e){try{return await J.delete(`/customers/${e}`),!0}catch(t){throw console.error("删除客户失败:",t),t}},async getByPhone(e){try{return(await J.get(`/customers/phone/${e}`)).data.data}catch(t){throw console.error("按电话查询客户失败:",t),t}},async getStats(){try{return(await J.get("/customers/stats")).data.data}catch(e){throw console.error("获取客户统计失败:",e),e}}},hd={async getAll(){try{return(await J.get("/appointments")).data.data||[]}catch(e){throw console.error("获取预约列表失败:",e),e}},async getById(e){try{return(await J.get(`/appointments/${e}`)).data.data}catch(t){throw console.error("获取预约详情失败:",t),t}},async create(e){try{return(await J.post("/appointments",e)).data.data}catch(t){throw console.error("创建预约失败:",t),t}},async update(e,t){try{return(await J.put(`/appointments/${e}`,t)).data.data}catch(r){throw console.error("更新预约失败:",r),r}},async delete(e){try{return await J.delete(`/appointments/${e}`),!0}catch(t){throw console.error("删除预约失败:",t),t}},async getByCustomer(e){try{return(await J.get(`/appointments/customer/${e}`)).data.data||[]}catch(t){throw console.error("获取客户预约失败:",t),t}},async getUpcoming(e=7){try{return(await J.get(`/appointments/upcoming?days=${e}`)).data.data||[]}catch(t){throw console.error("获取即将到来的预约失败:",t),t}},async getStats(){try{return(await J.get("/appointments/stats")).data.data}catch(e){throw console.error("获取预约统计失败:",e),e}}},xd={async getAll(){try{return(await J.get("/staff")).data.data||[]}catch(e){throw console.error("获取美容师列表失败:",e),e}},async getById(e){try{return(await J.get(`/staff/${e}`)).data.data}catch(t){throw console.error("获取美容师详情失败:",t),t}},async create(e){try{return(await J.post("/staff",e)).data.data}catch(t){throw console.error("创建美容师失败:",t),t}},async update(e,t){try{return(await J.put(`/staff/${e}`,t)).data.data}catch(r){throw console.error("更新美容师失败:",r),r}},async delete(e){try{return await J.delete(`/staff/${e}`),!0}catch(t){throw console.error("删除美容师失败:",t),t}},async getAvailable(){try{return(await J.get("/staff/available")).data.data||[]}catch(e){throw console.error("获取可用美容师失败:",e),e}},async getStats(){try{return(await J.get("/staff/stats")).data.data}catch(e){throw console.error("获取美容师统计失败:",e),e}}},Ta={async getAll(){try{return(await J.get("/products")).data.data||[]}catch(e){throw console.error("获取产品列表失败:",e),e}},async getById(e){try{return(await J.get(`/products/${e}`)).data.data}catch(t){throw console.error("获取产品详情失败:",t),t}},async create(e){try{return(await J.post("/products",e)).data.data}catch(t){throw console.error("创建产品失败:",t),t}},async update(e,t){try{return(await J.put(`/products/${e}`,t)).data.data}catch(r){throw console.error("更新产品失败:",r),r}},async delete(e){try{return await J.delete(`/products/${e}`),!0}catch(t){throw console.error("删除产品失败:",t),t}},async getByCategory(e){try{return(await J.get(`/products/category/${e}`)).data.data||[]}catch(t){throw console.error("按分类查询产品失败:",t),t}},async search(e){try{return(await J.get(`/products/search?name=${e}`)).data.data||[]}catch(t){throw console.error("搜索产品失败:",t),t}},async getStats(){try{return(await J.get("/products/stats")).data.data}catch(e){throw console.error("获取产品统计失败:",e),e}}},Nr=[{id:"c-1",name:"李美女",phone:"13800138000",totalSpending:8500,lastVisit:"2025-10-20",appointmentCount:12,visitCount:15,preferredStaff:"王美容师",status:"active",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"},{id:"c-2",name:"张丽",phone:"13900139000",totalSpending:2200,lastVisit:"2025-08-15",appointmentCount:4,visitCount:5,preferredStaff:"李美容师",status:"atrisk",photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=400&fit=crop"},{id:"c-3",name:"王琳",phone:"14000140000",totalSpending:6200,lastVisit:"2025-10-18",appointmentCount:10,visitCount:12,preferredStaff:"陈美容师",status:"active",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop"},{id:"c-4",name:"刘静",phone:"14100141000",totalSpending:1800,lastVisit:"2025-07-20",appointmentCount:3,visitCount:4,preferredStaff:"周美容师",status:"atrisk",photo:"https://images.unsplash.com/photo-1517841905240-c2400cd9e44f?w=400&h=400&fit=crop"},{id:"c-5",name:"陈芳",phone:"14200142000",totalSpending:900,lastVisit:"2025-05-10",appointmentCount:1,visitCount:2,preferredStaff:"王美容师",status:"inactive",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop"},{id:"c-6",name:"夏燕",phone:"14300143000",totalSpending:5800,lastVisit:"2025-10-19",appointmentCount:9,visitCount:11,preferredStaff:"李美容师",status:"active",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"}],pt="beauty_salon_customers",Xp=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[l,a]=k.useState(null);k.useEffect(()=>{(async()=>{try{n(!0),a(null);try{const v=await Mn.getAll();if(v&&v.length>0){t(v),localStorage.setItem(pt,JSON.stringify(v));return}}catch(v){console.warn("API加载客户失败，使用本地缓存:",v)}const m=localStorage.getItem(pt);m?t(JSON.parse(m)):(t(Nr),localStorage.setItem(pt,JSON.stringify(Nr)))}catch(m){console.error("Failed to load customers:",m),a("加载客户数据失败"),t(Nr)}finally{n(!1)}})()},[]);const o=k.useCallback(async g=>{try{try{const y=await Mn.create(g);return t(u=>{const f=[...u,y];return localStorage.setItem(pt,JSON.stringify(f)),f}),y}catch(y){console.warn("API添加客户失败，使用本地方式:",y)}const m=Date.now().toString(),v={...g,id:m};return t(y=>{const u=[...y,v];return localStorage.setItem(pt,JSON.stringify(u)),u}),v}catch(m){throw console.error("Failed to add customer:",m),m}},[]),i=k.useCallback(async(g,m)=>{try{try{return await Mn.update(g,m),t(v=>{const y=v.map(u=>u.id===g?{...u,...m}:u);return localStorage.setItem(pt,JSON.stringify(y)),y}),!0}catch(v){console.warn("API更新客户失败，使用本地方式:",v)}return t(v=>{const y=v.map(u=>u.id===g?{...u,...m}:u);return localStorage.setItem(pt,JSON.stringify(y)),y}),!0}catch(v){throw console.error("Failed to update customer:",v),v}},[]),c=k.useCallback(async g=>{try{try{await Mn.delete(g),t(m=>{const v=m.filter(y=>y.id!==g);return localStorage.setItem(pt,JSON.stringify(v)),v});return}catch(m){console.warn("API删除客户失败，使用本地方式:",m)}t(m=>{const v=m.filter(y=>y.id!==g);return localStorage.setItem(pt,JSON.stringify(v)),v})}catch(m){throw console.error("Failed to delete customer:",m),m}},[]),d=k.useCallback(g=>e.find(m=>m.id===g),[e]),p=k.useCallback(g=>{if(!g.trim())return e;const m=g.toLowerCase();return e.filter(v=>v.name.toLowerCase().includes(m)||v.phone.toLowerCase().includes(m))},[e]),h=k.useCallback(g=>e.filter(m=>m.status===g),[e]),x=k.useCallback(()=>{t(Nr),localStorage.setItem(pt,JSON.stringify(Nr))},[]);return{customers:e,isLoading:r,error:l,addCustomer:o,updateCustomer:i,deleteCustomer:c,getCustomer:d,searchCustomers:p,filterByStatus:h,resetToInitial:x}},Ra=[{id:"1",customerName:"赵晓月",staffName:"李美娟",service:"深层护肤套餐",date:"2025-10-21",time:"10:00",duration:120,status:"confirmed",price:398,notes:"首次客户，建议做皮肤测试"},{id:"2",customerName:"许文雯",staffName:"王雨晴",service:"美甲+美睫套餐",date:"2025-10-21",time:"14:00",duration:90,status:"confirmed",price:280,notes:""},{id:"3",customerName:"郑可欣",staffName:"张琳琳",service:"经典SPA护理",date:"2025-10-22",time:"15:30",duration:150,status:"confirmed",price:520,notes:"客户对玫瑰精油过敏，请避免"},{id:"4",customerName:"黄思琪",staffName:"李美娟",service:"皮肤管理课程",date:"2025-10-20",time:"11:00",duration:90,status:"completed",price:450,notes:"满意度：5星"},{id:"5",customerName:"李雨欣",staffName:"陈思语",service:"日常妆容",date:"2025-10-15",time:"16:00",duration:60,status:"completed",price:180,notes:""},{id:"6",customerName:"赵晓月",staffName:"王雨晴",service:"美甲护理",date:"2025-10-14",time:"13:00",duration:45,status:"completed",price:150,notes:"要求保留现有美甲基础"},{id:"7",customerName:"郑可欣",staffName:"刘心怡",service:"头皮护理+烫染",date:"2025-10-23",time:"09:00",duration:180,status:"confirmed",price:680,notes:"准备新产品烫卷试用"}],ns="beauty_salon_appointments",Zp=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0);k.useEffect(()=>{(async()=>{try{try{const m=await hd.getAll();if(m&&m.length>0){t(m),localStorage.setItem(ns,JSON.stringify(m));return}}catch(m){console.warn("API加载预约失败，使用本地缓存:",m)}const g=localStorage.getItem(ns);g?t(JSON.parse(g)):(t(Ra),localStorage.setItem(ns,JSON.stringify(Ra)))}catch(g){console.error("Failed to load appointments from localStorage:",g),t(Ra)}finally{n(!1)}})()},[]);const l=k.useCallback(async x=>{try{const g=x,m=Date.now().toString(),v={...g,id:m,customerId:g.customerId||"",staffId:g.staffId||"",appointmentDate:g.appointmentDate||new Date().toISOString()};return t(y=>{const u=[...y,v];return localStorage.setItem(ns,JSON.stringify(u)),u}),v}catch(g){throw console.error("Failed to add appointment:",g),g}},[]),a=k.useCallback((x,g)=>{t(m=>{const v=m.map(y=>y.id===x?{...y,...g}:y);return localStorage.setItem(ns,JSON.stringify(v)),v})},[]),o=k.useCallback(async x=>{try{try{await hd.delete(x),t(g=>{const m=g.filter(v=>v.id!==x);return localStorage.setItem(ns,JSON.stringify(m)),m});return}catch(g){console.warn("API删除预约失败，使用本地方式:",g)}t(g=>{const m=g.filter(v=>v.id!==x);return localStorage.setItem(ns,JSON.stringify(m)),m})}catch(g){throw console.error("Failed to delete appointment:",g),g}},[]),i=k.useCallback(x=>e.find(g=>g.id===x),[e]),c=k.useCallback(x=>{if(!x.trim())return e;const g=x.toLowerCase();return e.filter(m=>m.customerName.toLowerCase().includes(g))},[e]),d=k.useCallback(x=>e.filter(g=>g.status===x),[e]),p=k.useCallback((x,g)=>e.filter(m=>m.date>=x&&m.date<=g),[e]),h=k.useCallback(x=>e.filter(g=>g.staffName===x),[e]);return{appointments:e,isLoading:r,addAppointment:l,updateAppointment:a,deleteAppointment:o,getAppointment:i,searchByCustomer:c,filterByStatus:d,filterByDate:p,filterByStaff:h}},Ia=[{id:"1",name:"李美娟",phone:"13812345678",specialty:["护肤","美妆","皮肤管理"],experience:5,rating:4.9,totalRevenue:18500,clientCount:87,status:"active",startDate:"2020-03-15",photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=400&fit=crop"},{id:"2",name:"王雨晴",phone:"13912345679",specialty:["美甲","美睫","半永久纹绣"],experience:4,rating:4.8,totalRevenue:16200,clientCount:72,status:"active",startDate:"2021-05-20",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"},{id:"3",name:"张琳琳",phone:"13812345680",specialty:["按摩","SPA","拔罐刮痧"],experience:6,rating:4.7,totalRevenue:15800,clientCount:68,status:"active",startDate:"2019-08-10",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop"},{id:"4",name:"陈思语",phone:"13712345681",specialty:["化妆","婚礼妆容","风格咨询"],experience:3,rating:4.6,totalRevenue:14500,clientCount:62,status:"active",startDate:"2022-01-18",photo:"https://images.unsplash.com/photo-1463453091185-61582044d556?w=400&h=400&fit=crop"},{id:"5",name:"刘心怡",phone:"13612345682",specialty:["头皮护理","烫染","剪裁"],experience:2,rating:4.5,totalRevenue:13800,clientCount:58,status:"active",startDate:"2023-02-28",photo:"https://images.unsplash.com/photo-1507152832860-ce0eca3a8285?w=400&h=400&fit=crop"}],ls="beauty_salon_staff",_i=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0);k.useEffect(()=>{(async()=>{try{try{const m=await xd.getAll();if(m&&m.length>0){t(m),localStorage.setItem(ls,JSON.stringify(m));return}}catch(m){console.warn("API加载美容师失败，使用本地缓存:",m)}const g=localStorage.getItem(ls);g?t(JSON.parse(g)):(t(Ia),localStorage.setItem(ls,JSON.stringify(Ia)))}catch(g){console.error("Failed to load staff from localStorage:",g),t(Ia)}finally{n(!1)}})()},[]);const l=k.useCallback(x=>{const g=Date.now().toString(),m={...x,id:g};return t(v=>{const y=[...v,m];return localStorage.setItem(ls,JSON.stringify(y)),y}),m},[]),a=k.useCallback((x,g)=>{t(m=>{const v=m.map(y=>y.id===x?{...y,...g}:y);return localStorage.setItem(ls,JSON.stringify(v)),v})},[]),o=k.useCallback(async x=>{try{try{await xd.delete(x),t(g=>{const m=g.filter(v=>v.id!==x);return localStorage.setItem(ls,JSON.stringify(m)),m});return}catch(g){console.warn("API删除美容师失败，使用本地方式:",g)}t(g=>{const m=g.filter(v=>v.id!==x);return localStorage.setItem(ls,JSON.stringify(m)),m})}catch(g){throw console.error("Failed to delete staff:",g),g}},[]),i=k.useCallback(x=>e.find(g=>g.id===x),[e]),c=k.useCallback(x=>{if(!x.trim())return e;const g=x.toLowerCase();return e.filter(m=>m.name.toLowerCase().includes(g)||m.phone.toLowerCase().includes(g))},[e]),d=k.useCallback(x=>e.filter(g=>g.specialty.includes(x)),[e]),p=k.useCallback(x=>e.filter(g=>g.status===x),[e]),h=k.useCallback((x=5)=>[...e].sort((g,m)=>m.rating-g.rating).slice(0,x),[e]);return{staff:e,isLoading:r,addStaff:l,updateStaff:a,deleteStaff:o,getStaff:i,searchStaff:c,filterBySpecialty:d,filterByStatus:p,getTopStaff:h}},Ma=[{id:"1",name:"高效保湿面膜",category:"护肤品",stock:145,price:89,cost:30,sold:144,description:"深层保湿，修复肌肤屏障",image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop"},{id:"2",name:"精油护肤套装",category:"护肤品",stock:68,price:199,cost:70,sold:68,description:"天然精油，专业护肤",image:"https://images.unsplash.com/photo-1556228482-6e6aef1b5b34?w=300&h=300&fit=crop"},{id:"3",name:"专业美甲油胶",category:"美甲用品",stock:234,price:45,cost:15,sold:234,description:"专业美甲师推荐",image:"https://images.unsplash.com/photo-1604654894610-df63bc536371?w=300&h=300&fit=crop"},{id:"4",name:"睫毛生长精华液",category:"美睫用品",stock:89,price:128,cost:45,sold:89,description:"激活睫毛生长，浓密有型",image:"https://images.unsplash.com/photo-1596462502278-af407713661d?w=300&h=300&fit=crop"},{id:"5",name:"高级护肤精华",category:"护肤品",stock:45,price:168,cost:60,sold:45,description:"抗衰老，改善肤质",image:"https://images.unsplash.com/photo-1597318911123-c9d4e7b7e2d6?w=300&h=300&fit=crop"},{id:"6",name:"香薰精油组合",category:"SPA用品",stock:156,price:79,cost:25,sold:156,description:"放松身心，舒缓压力",image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop"},{id:"7",name:"专业化妆刷套装",category:"化妆工具",stock:92,price:256,cost:90,sold:92,description:"专业级化妆工具",image:"https://images.unsplash.com/photo-1556228482-6e6aef1b5b34?w=300&h=300&fit=crop"},{id:"8",name:"烫染护理套装",category:"护肤品",stock:78,price:198,cost:70,sold:78,description:"修复烫染伤害，护理头皮",image:"https://images.unsplash.com/photo-1604654894610-df63bc536371?w=300&h=300&fit=crop"}],Mt="beauty_salon_products",e0=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0);k.useEffect(()=>{(async()=>{try{try{const v=await Ta.getAll();if(v&&v.length>0){t(v),localStorage.setItem(Mt,JSON.stringify(v));return}}catch(v){console.warn("API加载产品失败，使用本地缓存:",v)}const m=localStorage.getItem(Mt);m?t(JSON.parse(m)):(t(Ma),localStorage.setItem(Mt,JSON.stringify(Ma)))}catch(m){console.error("Failed to load products from localStorage:",m),t(Ma)}finally{n(!1)}})()},[]);const l=k.useCallback(async g=>{try{try{const y=await Ta.create(g);return t(u=>{const f=[...u,y];return localStorage.setItem(Mt,JSON.stringify(f)),f}),y}catch(y){console.warn("API添加产品失败，使用本地方式:",y)}const m=Date.now().toString(),v={...g,id:m};return t(y=>{const u=[...y,v];return localStorage.setItem(Mt,JSON.stringify(u)),u}),v}catch(m){throw console.error("Failed to add product:",m),m}},[]),a=k.useCallback((g,m)=>{t(v=>{const y=v.map(u=>u.id===g?{...u,...m}:u);return localStorage.setItem(Mt,JSON.stringify(y)),y})},[]),o=k.useCallback(async g=>{try{try{await Ta.delete(g),t(m=>{const v=m.filter(y=>y.id!==g);return localStorage.setItem(Mt,JSON.stringify(v)),v});return}catch(m){console.warn("API删除产品失败，使用本地方式:",m)}t(m=>{const v=m.filter(y=>y.id!==g);return localStorage.setItem(Mt,JSON.stringify(v)),v})}catch(m){throw console.error("Failed to delete product:",m),m}},[]),i=k.useCallback(g=>e.find(m=>m.id===g),[e]),c=k.useCallback(g=>{if(!g.trim())return e;const m=g.toLowerCase();return e.filter(v=>v.name.toLowerCase().includes(m)||v.category.toLowerCase().includes(m))},[e]),d=k.useCallback(g=>g?e.filter(m=>m.category===g):e,[e]),p=k.useCallback(()=>{const g=new Set(e.map(m=>m.category));return Array.from(g)},[e]),h=k.useCallback((g=20)=>e.filter(m=>m.stock<=g),[e]),x=k.useCallback((g=5)=>[...e].sort((m,v)=>v.sold-m.sold).slice(0,g),[e]);return{products:e,isLoading:r,addProduct:l,updateProduct:a,deleteProduct:o,getProduct:i,searchProducts:c,filterByCategory:d,getCategories:p,getLowStockProducts:h,getTopSellingProducts:x}},gd=()=>{const{customers:e}=Xp(),{appointments:t}=Zp(),{staff:r}=_i(),{products:n}=e0(),l=e.filter(u=>u.status==="active").length,a=e.filter(u=>u.status==="atrisk").length,o=t.filter(u=>u.status==="confirmed").length,i=t.filter(u=>u.status==="pending").length,c=r.filter(u=>u.status==="active").length,d=t.reduce((u,f)=>u+f.price,0),p=n.reduce((u,f)=>u+f.price*f.sold,0),h=d+p,x=n.reduce((u,f)=>u+f.price*f.stock,0),g=n.filter(u=>u.stock<=20).length,m=[...r].sort((u,f)=>f.rating-u.rating).slice(0,3),v=t.slice(-5).reverse(),y=[{label:"总营收",value:`¥${h.toLocaleString()}`,change:`预约: ¥${d.toLocaleString()}, 产品: ¥${p.toLocaleString()}`,icon:yt,color:"text-green-600"},{label:"确认预约",value:o.toString(),change:`待确认: ${i}`,icon:Pt,color:"text-blue-600"},{label:"活跃客户",value:l.toString(),change:`风险客户: ${a}`,icon:re,color:"text-purple-600"},{label:"在职美容师",value:c.toString(),change:`总人数: ${r.length}`,icon:re,color:"text-amber-600"},{label:"库存价值",value:`¥${x.toLocaleString()}`,change:`产品数: ${n.length}`,icon:Me,color:"text-cyan-600"},{label:"库存预警",value:g.toString(),change:"需要补货的产品",icon:Zt,color:"text-red-600"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"仪表盘"}),s.jsx("p",{className:"text-green-600 mt-1",children:"实时业务数据概览"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map((u,f)=>{const b=u.icon;return s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6 hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600",children:u.label}),s.jsx(b,{className:`w-5 h-5 ${u.color} opacity-50`})]}),s.jsx("div",{className:"mb-2",children:s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.value})}),s.jsx("p",{className:"text-xs text-gray-500",children:u.change})]},f)})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"顶级美容师"})]}),s.jsx("div",{className:"space-y-3",children:m.length>0?m.map((u,f)=>s.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white font-bold text-sm",children:["#",f+1]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:u.name}),s.jsx("p",{className:"text-xs text-gray-500",children:Array.isArray(u.specialty)?u.specialty.join(", "):u.specialty})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:u.rating}),s.jsxs("p",{className:"text-xs text-gray-500",children:[u.clientCount,"客户"]})]})]},u.id)):s.jsx("p",{className:"text-sm text-gray-500",children:"暂无美容师数据"})})]}),a>0&&s.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-600"}),s.jsx("h2",{className:"text-lg font-semibold text-red-900",children:"风险客户预警"})]}),s.jsx("div",{className:"space-y-3",children:e.filter(u=>u.status==="atrisk").slice(0,5).map(u=>s.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-red-200 last:border-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-900",children:u.name}),s.jsxs("p",{className:"text-xs text-red-600",children:["最后访问: ",u.lastVisit]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-red-900",children:["¥",u.totalSpending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-red-600",children:[u.appointmentCount,"次预约"]})]})]},u.id))})]}),s.jsxs("div",{className:"md:col-span-2 bg-white rounded-lg border border-green-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"最近预约"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b border-green-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"客户"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"美容师"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"服务"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"日期/时间"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"金额"}),s.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"状态"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:v.length>0?v.map(u=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 text-sm text-gray-900",children:u.customerName}),s.jsx("td",{className:"py-3 text-sm text-gray-600",children:u.staffName}),s.jsx("td",{className:"py-3 text-sm text-gray-600",children:u.service}),s.jsxs("td",{className:"py-3 text-sm text-gray-600",children:[u.date," ",u.time]}),s.jsxs("td",{className:"py-3 text-sm font-medium text-gray-900",children:["¥",u.price.toFixed(2)]}),s.jsx("td",{className:"py-3",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium ${u.status==="confirmed"?"bg-green-100 text-green-700":u.status==="pending"?"bg-yellow-100 text-yellow-700":u.status==="completed"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:u.status==="confirmed"?"已确认":u.status==="pending"?"待确认":u.status==="completed"?"已完成":"已取消"})})]},u.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-4 text-center text-sm text-gray-500",children:"暂无预约数据"})})})]})})]}),s.jsxs("div",{className:"md:col-span-2 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"业务总结"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"客户总数"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["活跃: ",l,", 风险: ",a]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"预约总数"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["已确认: ",o,", 待确认: ",i]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"业绩指标"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.length>0?(p/(n.reduce((u,f)=>u+f.cost*f.stock,0)||1)*100).toFixed(0):0,"%"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"利润率"})]})]})]})]})]})},$f=({id:e,type:t,message:r,duration:n=3e3,onClose:l})=>{k.useEffect(()=>{if(n===0)return;const i=setTimeout(()=>l(e),n);return()=>clearTimeout(i)},[e,n,l]);const o={success:{bg:"bg-green-50",border:"border-green-200",icon:s.jsx(qe,{className:"w-5 h-5 text-green-600"}),text:"text-green-800"},error:{bg:"bg-red-50",border:"border-red-200",icon:s.jsx(Zt,{className:"w-5 h-5 text-red-600"}),text:"text-red-800"},info:{bg:"bg-blue-50",border:"border-blue-200",icon:s.jsx(Hx,{className:"w-5 h-5 text-blue-600"}),text:"text-blue-800"}}[t];return s.jsxs("div",{className:`${o.bg} ${o.border} border rounded-lg p-4 flex items-start gap-3 shadow-md animate-slide-in`,role:"alert",children:[o.icon,s.jsx("div",{className:`flex-1 ${o.text} text-sm font-medium`,children:r}),s.jsx("button",{onClick:()=>l(e),className:"p-1 hover:bg-white rounded transition-colors flex-shrink-0",children:s.jsx(Tt,{className:"w-4 h-4"})}),s.jsx("style",{children:`
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-slide-in {
          animation: slideIn 0.3s ease-out;
        }
      `})]})},Of=({messages:e,onClose:t})=>s.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(r=>s.jsx("div",{className:"pointer-events-auto",children:s.jsx($f,{...r,onClose:t})},r.id))}),t0=k.createContext(void 0),Lf=({children:e})=>{const[t,r]=k.useState([]),n=k.useCallback((a,o,i=3e3)=>{const c=Date.now().toString();r(d=>[...d,{id:c,type:a,message:o,duration:i}])},[]),l=k.useCallback(a=>{r(o=>o.filter(i=>i.id!==a))},[]);return s.jsxs(t0.Provider,{value:{toasts:t,showToast:n,removeToast:l},children:[s.jsx(Of,{messages:t,onClose:l}),e]})},Yl=()=>{const e=k.useContext(t0);if(!e)throw new Error("useToast must be used within ToastProvider");return e},s0=({isOpen:e,onClose:t,title:r,children:n,onConfirm:l,confirmText:a="确认",cancelText:o="取消",isLoading:i=!1})=>{if(!e)return null;const c=d=>{d.target===d.currentTarget&&t()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:c}),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-96 overflow-y-auto animation-pop",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-green-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r}),s.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",disabled:i,children:s.jsx(Tt,{className:"w-5 h-5 text-gray-600"})})]}),s.jsx("div",{className:"p-6",children:n}),l&&s.jsxs("div",{className:"flex gap-3 p-6 border-t border-green-200 bg-gray-50",children:[s.jsx("button",{onClick:t,disabled:i,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:o}),s.jsxs("button",{onClick:l,disabled:i,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i&&s.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a]})]})]})}),s.jsx("style",{children:`
        @keyframes popIn {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animation-pop {
          animation: popIn 0.2s ease-out;
        }
      `})]})},_f=({initialData:e,onSubmit:t,isLoading:r=!1})=>{const[n,l]=k.useState({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",specialty:Array.isArray(e==null?void 0:e.specialty)?e.specialty:[],experience:(e==null?void 0:e.experience)||0,rating:(e==null?void 0:e.rating)||0,totalRevenue:(e==null?void 0:e.totalRevenue)||0,clientCount:(e==null?void 0:e.clientCount)||0,status:(e==null?void 0:e.status)||"active",startDate:(e==null?void 0:e.startDate)||new Date().toISOString().split("T")[0],photo:(e==null?void 0:e.photo)||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"}),[a,o]=k.useState({}),[i,c]=k.useState(Array.isArray(n.specialty)?n.specialty.join("、"):""),d=()=>{const g={};return n.name.trim()||(g.name="美容师名称不能为空"),n.phone.trim()?/^1[3-9]\d{9}$/.test(n.phone)||(g.phone="请输入有效的手机号"):g.phone="手机号不能为空",n.specialty.length===0&&(g.specialty="至少需要选择一项专长"),n.experience<0&&(g.experience="工作年限不能为负数"),(n.rating<0||n.rating>5)&&(g.rating="评分应在 0-5 之间"),o(g),Object.keys(g).length===0},p=g=>{g.preventDefault(),d()&&t({name:n.name,phone:n.phone,specialty:n.specialty,experience:n.experience,rating:n.rating,totalRevenue:n.totalRevenue,clientCount:n.clientCount,status:n.status,startDate:n.startDate,photo:n.photo})},h=g=>{const{name:m,value:v}=g.target;l(y=>({...y,[m]:m==="experience"||m==="rating"||m==="totalRevenue"||m==="clientCount"?parseFloat(v)||0:v})),a[m]&&o(y=>({...y,[m]:""}))},x=g=>{const m=g.target.value;c(m);const v=m.split("、").map(y=>y.trim()).filter(y=>y);l(y=>({...y,specialty:v})),a.specialty&&o(y=>({...y,specialty:""}))};return s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"美容师名称 *"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:h,placeholder:"请输入美容师名称",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${a.name?"border-red-500":"border-gray-300"}`,disabled:r}),a.name&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:a.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"手机号 *"}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:h,placeholder:"请输入11位手机号",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${a.phone?"border-red-500":"border-gray-300"}`,disabled:r}),a.phone&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:a.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:'专长 (用"、"分隔) *'}),s.jsx("input",{type:"text",value:i,onChange:x,placeholder:"如: 面部护理、全身SPA、美甲",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${a.specialty?"border-red-500":"border-gray-300"}`,disabled:r}),a.specialty&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:a.specialty}),n.specialty.length>0&&s.jsx("div",{className:"flex gap-2 mt-2",children:n.specialty.map((g,m)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:g},m))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"工作年限"}),s.jsx("input",{type:"number",name:"experience",value:n.experience,onChange:h,placeholder:"0",min:"0",step:"0.5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:r})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"评分 (0-5)"}),s.jsx("input",{type:"number",name:"rating",value:n.rating,onChange:h,placeholder:"4.5",min:"0",max:"5",step:"0.1",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${a.rating?"border-red-500":"border-gray-300"}`,disabled:r}),a.rating&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:a.rating})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"总收入 (元)"}),s.jsx("input",{type:"number",name:"totalRevenue",value:n.totalRevenue,onChange:h,placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:r})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"客户数"}),s.jsx("input",{type:"number",name:"clientCount",value:n.clientCount,onChange:h,placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:r})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"工作状态"}),s.jsxs("select",{name:"status",value:n.status,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:r,children:[s.jsx("option",{value:"active",children:"在职"}),s.jsx("option",{value:"onleave",children:"请假"}),s.jsx("option",{value:"inactive",children:"离职"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"入职日期"}),s.jsx("input",{type:"date",name:"startDate",value:n.startDate,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:r})]}),s.jsx("button",{type:"submit",className:"hidden"})]})},Df=()=>{var o;const[e,t]=k.useState(null),[r,n]=k.useState(!1),l=[{id:"scheduling",title:"智能排班",description:"根据客流、员工技能智能分配班次",icon:s.jsx(Pt,{className:"w-6 h-6"}),color:"bg-blue-50 border-blue-200"},{id:"promotion",title:"晋升管理",description:"追踪员工成长，管理晋升流程",icon:s.jsx(yt,{className:"w-6 h-6"}),color:"bg-green-50 border-green-200"},{id:"learning",title:"学习计划",description:"制定个性化培训和学习路径",icon:s.jsx(lr,{className:"w-6 h-6"}),color:"bg-purple-50 border-purple-200"},{id:"assessment",title:"智能考核",description:"多维度评估员工表现和能力",icon:s.jsx(rr,{className:"w-6 h-6"}),color:"bg-amber-50 border-amber-200"}],a=()=>{switch(e){case"scheduling":return s.jsx(Ff,{});case"promotion":return s.jsx(zf,{});case"learning":return s.jsx(Uf,{});case"assessment":return s.jsx(Bf,{});default:return null}};return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:l.map(i=>s.jsx("button",{onClick:()=>{t(i.id),n(!0)},className:`p-6 rounded-lg border-2 transition-all hover:shadow-lg text-left ${i.color}`,children:s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:"text-green-600",children:i.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:i.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.description})]})]})},i.id))}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(o=l.find(i=>i.id===e))==null?void 0:o.title}),s.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(Tt,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6",children:a()})]})})]})},Ff=()=>{const[e,t]=k.useState(1),[r,n]=k.useState(!1),l={1:[{day:"周一",morning:["李美娟","王雨晴"],afternoon:["张琳琳","陈思语"],evening:["刘心怡"]},{day:"周二",morning:["王雨晴","张琳琳"],afternoon:["刘心怡","李美娟"],evening:["陈思语"]},{day:"周三",morning:["陈思语","刘心怡"],afternoon:["李美娟","王雨晴"],evening:["张琳琳"]},{day:"周四",morning:["张琳琳","陈思语"],afternoon:["王雨晴","刘心怡"],evening:["李美娟"]},{day:"周五",morning:["李美娟","刘心怡"],afternoon:["陈思语","张琳琳"],evening:["王雨晴"]}]};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择周次"}),s.jsxs("select",{value:e,onChange:a=>t(Number(a.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:1,children:"第1周"}),s.jsx("option",{value:2,children:"第2周"}),s.jsx("option",{value:3,children:"第3周"}),s.jsx("option",{value:4,children:"第4周"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[s.jsx("input",{type:"checkbox",checked:r,onChange:a=>n(a.target.checked),className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"启用智能自动排班"})]}),r&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:s.jsx("p",{className:"text-sm text-green-700",children:"AI will intelligently allocate shifts based on employee skills, customer flow, and fatigue level"})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"周班次安排"}),s.jsx("div",{className:"space-y-3",children:l[1].map((a,o)=>s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"font-medium text-gray-900 mb-2",children:a.day}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-xs",children:"上午班"}),s.jsx("p",{className:"text-green-600 font-medium",children:a.morning.join("/")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-xs",children:"下午班"}),s.jsx("p",{className:"text-blue-600 font-medium",children:a.afternoon.join("/")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-xs",children:"晚班"}),s.jsx("p",{className:"text-purple-600 font-medium",children:a.evening.join("/")})]})]})]},o))})]}),s.jsxs("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2",children:[s.jsx(qe,{className:"w-4 h-4"}),"发布排班表"]})]})},zf=()=>{const[e,t]=k.useState("all"),r=[{name:"李美娟",currentPosition:"高级美容师",targetPosition:"店长",score:95,readiness:"已准备就绪",status:"ready"},{name:"王雨晴",currentPosition:"美容师",targetPosition:"高级美容师",score:87,readiness:"基本完成",status:"ongoing"},{name:"张琳琳",currentPosition:"美容师",targetPosition:"美甲师",score:78,readiness:"继续培养",status:"planning"}],n=l=>{switch(l){case"ready":return"bg-green-100 text-green-800";case"ongoing":return"bg-blue-100 text-blue-800";case"planning":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"职位分类"}),s.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"all",children:"全部职位"}),s.jsx("option",{value:"manager",children:"店长管理"}),s.jsx("option",{value:"senior",children:"高级美容师"}),s.jsx("option",{value:"beautician",children:"美容师"})]})]}),s.jsx("div",{className:"space-y-3",children:r.map((l,a)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:l.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[l.currentPosition," → ",l.targetPosition]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n(l.status)}`,children:l.readiness})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"晋升准备度"}),s.jsxs("span",{className:"text-xs font-bold text-green-600",children:[l.score,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${l.score}%`}})})]}),s.jsx("button",{className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"查看晋升计划"})]},a))}),s.jsxs("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2",children:[s.jsx(rs,{className:"w-4 h-4"}),"新增晋升计划"]})]})},Uf=()=>{const[e,t]=k.useState("all"),r=[{name:"李美娟",plans:[{course:"高级皮肤管理",status:"进行中",progress:75},{course:"团队管理培训",status:"即将开始",progress:0}]},{name:"王雨晴",plans:[{course:"美甲设计进阶",status:"进行中",progress:60},{course:"客户服务技巧",status:"已完成",progress:100}]},{name:"张琳琳",plans:[{course:"美睫专业技术",status:"进行中",progress:45},{course:"产品知识培训",status:"进行中",progress:50}]}],n=l=>{switch(l){case"已完成":return"text-green-600 bg-green-50";case"进行中":return"text-blue-600 bg-blue-50";case"即将开始":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择员工"}),s.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"all",children:"所有员工"}),s.jsx("option",{value:"limeijuan",children:"李美娟"}),s.jsx("option",{value:"wangyuqing",children:"王雨晴"}),s.jsx("option",{value:"zhanglinlin",children:"张琳琳"})]})]}),s.jsx("div",{className:"space-y-4",children:r.map((l,a)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:l.name}),s.jsx("div",{className:"space-y-3",children:l.plans.map((o,i)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.course}),s.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${n(o.status)}`,children:o.status})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${o.progress}%`}})}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[o.progress,"% 完成"]})]},i))})]},a))}),s.jsxs("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2",children:[s.jsx(rs,{className:"w-4 h-4"}),"制定学习计划"]})]})},Bf=()=>{const[e,t]=k.useState("comprehensive"),r=[{name:"李美娟",role:"高级美容师",dimensions:[{name:"技能水平",score:95},{name:"客户满意度",score:92},{name:"销售业绩",score:88},{name:"团队合作",score:90},{name:"职业发展",score:85}],overall:90,rating:"优秀"},{name:"王雨晴",role:"美容师",dimensions:[{name:"技能水平",score:82},{name:"客户满意度",score:85},{name:"销售业绩",score:78},{name:"团队合作",score:80},{name:"职业发展",score:75}],overall:80,rating:"良好"}];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"考核类型"}),s.jsxs("select",{value:e,onChange:n=>t(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"comprehensive",children:"综合评估"}),s.jsx("option",{value:"skill",children:"技能评估"}),s.jsx("option",{value:"performance",children:"业绩评估"}),s.jsx("option",{value:"behavior",children:"行为评估"})]})]}),s.jsx("div",{className:"space-y-4",children:r.map((n,l)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:n.name}),s.jsx("p",{className:"text-sm text-gray-600",children:n.role})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.overall}),s.jsx("div",{className:"text-sm font-medium text-gray-700",children:n.rating})]})]}),s.jsx("div",{className:"space-y-2",children:n.dimensions.map((a,o)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm text-gray-700",children:a.name}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:a.score})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${a.score>=90?"bg-green-500":a.score>=80?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${a.score}%`}})})]},o))}),s.jsx("button",{className:"mt-4 text-sm text-green-600 hover:text-green-700 font-medium",children:"查看详细报告"})]},l))}),s.jsxs("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2",children:[s.jsx(qe,{className:"w-4 h-4"}),"生成考核报告"]})]})},r0=()=>{const[e,t]=k.useState("overview"),[r,n]=k.useState("level1"),[l,a]=k.useState([{employeeId:"EMP001",employeeName:"李美丽",currentLevel:"level1",nextLevel:"level2",progress:75,hardConditionsMet:[!0,!0],assessmentMetrics:[{metric:"月销售额",target:"≥1.5万元",current:"1.8万元",status:"completed"},{metric:"客户满意度",target:"≥90%",current:"92%",status:"completed"}],lastAssessment:"2025-10-20",nextAssessmentDate:"2025-11-20"},{employeeId:"EMP002",employeeName:"王精英",currentLevel:"level2",nextLevel:"level3",progress:60,hardConditionsMet:[!0,!1],assessmentMetrics:[{metric:"连续3个月门店销售第一",target:"已完成",current:"进行中（2/3个月）",status:"in-progress"},{metric:"客户满意度",target:"≥92%",current:"91%",status:"in-progress"}],lastAssessment:"2025-09-15",nextAssessmentDate:"2025-12-15"}]),o=[{id:"level1",title:"美容师 → 精英美容师",description:"第一级晋升：从基础美容师晋升为精英美容师",hardConditions:["入职时间满6个月或以上","基础技能认证考试通过"],assessmentMetrics:["月销售额达到1.5万元以上","客户满意度达到90%以上"],rewards:["底薪增加500元","提成比例增加2%","精英美容师证书"],icon:s.jsx(rr,{className:"w-6 h-6"}),color:"from-blue-400 to-blue-600"},{id:"level2",title:"精英美容师 → 店长",description:"第二级晋升：从精英美容师晋升为店长",hardConditions:["任职精英美容师满12个月","带教培养过2名及以上新人"],assessmentMetrics:["连续3个月门店销售排名第一","客户满意度达到92%以上"],rewards:["底薪增加1000元","享受团队销售提成1%","店长聘书"],icon:s.jsx(yt,{className:"w-6 h-6"}),color:"from-green-400 to-green-600"},{id:"level3",title:"店长 → 区域经理候选",description:"第三级晋升：从店长晋升为区域经理",hardConditions:["任职店长满18个月","门店利润增长达到20%"],assessmentMetrics:["培养并成功晋升1名新店长","区域排名进入前三名"],rewards:["股权激励2%","区域经理候选资格","高管薪酬体系"],icon:s.jsx(re,{className:"w-6 h-6"}),color:"from-purple-400 to-purple-600"}],i=o.find(d=>d.id===r),c=d=>s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-full transition-all duration-300",style:{width:`${d}%`}})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-6 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"员工晋升计划"}),s.jsx("p",{className:"text-indigo-100",children:"完整的四级晋升体系：美容师 → 精英美容师 → 店长 → 区域经理"})]}),s.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[s.jsx("button",{onClick:()=>t("overview"),className:`px-4 py-2 font-medium border-b-2 transition-all ${e==="overview"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"晋升体系概览"}),s.jsx("button",{onClick:()=>t("details"),className:`px-4 py-2 font-medium border-b-2 transition-all ${e==="details"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"晋升详情"}),s.jsx("button",{onClick:()=>t("employees"),className:`px-4 py-2 font-medium border-b-2 transition-all ${e==="employees"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"员工进度"})]}),e==="overview"&&s.jsxs("div",{className:"space-y-4",children:[o.map((d,p)=>s.jsx("button",{onClick:()=>{n(d.id),t("details")},className:"w-full text-left p-4 rounded-lg border-2 border-gray-200 hover:border-indigo-400 hover:shadow-lg transition-all group",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${d.color} text-white`,children:d.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:d.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.description})]}),s.jsx(Ut,{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-600 flex-shrink-0"})]})},d.id)),s.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"晋升路径总览"}),s.jsxs("div",{className:"flex items-center gap-4 overflow-x-auto pb-4",children:[s.jsxs("div",{className:"flex-shrink-0 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-100 flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-sm font-bold text-blue-900",children:"美容师"})}),s.jsx("span",{className:"text-xs text-gray-600",children:"入职6个月+"})]}),s.jsx(Ut,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-shrink-0 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-sm font-bold text-green-900",children:"精英美容师"})}),s.jsx("span",{className:"text-xs text-gray-600",children:"任职12个月+"})]}),s.jsx(Ut,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-shrink-0 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-sm font-bold text-purple-900",children:"店长"})}),s.jsx("span",{className:"text-xs text-gray-600",children:"任职18个月+"})]}),s.jsx(Ut,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-shrink-0 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-sm font-bold text-indigo-900",children:"区域经理"})}),s.jsx("span",{className:"text-xs text-gray-600",children:"高管级别"})]})]})]})]}),e==="details"&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex gap-2",children:o.map(d=>s.jsx("button",{onClick:()=>n(d.id),className:`flex-1 p-3 rounded-lg font-medium transition-all ${r===d.id?`bg-gradient-to-r ${d.color} text-white`:"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:d.title.split(" → ")[1]},d.id))}),s.jsxs("div",{className:`bg-gradient-to-r ${i.color} rounded-lg p-6 text-white`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.icon,s.jsx("h3",{className:"text-2xl font-bold",children:i.title})]}),s.jsx("p",{className:"text-white/90",children:i.description})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-500"}),"硬性条件（必须同时满足）"]}),s.jsx("div",{className:"space-y-3",children:i.hardConditions.map((d,p)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center flex-shrink-0 text-sm font-bold",children:p+1}),s.jsx("p",{className:"text-gray-700 pt-0.5",children:d})]},p))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Qt,{className:"w-5 h-5 text-blue-500"}),"考核指标（同时满足）"]}),s.jsx("div",{className:"space-y-3",children:i.assessmentMetrics.map((d,p)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white flex items-center justify-center flex-shrink-0 text-sm font-bold",children:p+1}),s.jsx("p",{className:"text-gray-700 pt-0.5",children:d})]},p))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(rr,{className:"w-5 h-5 text-green-500"}),"晋升奖励"]}),s.jsx("div",{className:"space-y-2",children:i.rewards.map((d,p)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(qe,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsx("p",{className:"text-gray-700",children:d})]},p))})]}),s.jsx("button",{className:"w-full py-3 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-bold hover:shadow-lg transition-shadow",children:"立即申请晋升"})]}),e==="employees"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:"员工晋升进度追踪"}),s.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"添加员工"})]}),l.map(d=>{var p,h;return s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:d.employeeName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["员工ID：",d.employeeId]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-sm font-medium",children:(p=o.find(x=>x.id===d.currentLevel))==null?void 0:p.title.split(" → ")[1]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["目标：",(h=o.find(x=>x.id===d.nextLevel))==null?void 0:h.title.split(" → ")[1]]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"晋升进度"}),s.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[d.progress,"%"]})]}),c(d.progress)]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"硬性条件"}),s.jsx("div",{className:"space-y-2",children:d.hardConditionsMet.map((x,g)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${x?"bg-green-100":"bg-gray-100"}`,children:x?s.jsx(qe,{className:"w-4 h-4 text-green-600"}):s.jsx(Zt,{className:"w-4 h-4 text-gray-400"})}),s.jsxs("span",{className:`text-sm ${x?"text-gray-900 font-medium":"text-gray-600"}`,children:["条件 ",g+1]})]},g))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"考核指标"}),s.jsx("div",{className:"space-y-2",children:d.assessmentMetrics.map((x,g)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.metric}),s.jsxs("p",{className:"text-xs text-gray-600",children:["目标：",x.target]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-bold text-gray-900",children:x.current}),s.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${x.status==="completed"?"bg-green-100 text-green-800":x.status==="in-progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:x.status==="completed"?"已完成":x.status==="in-progress"?"进行中":"未开始"})]})]},g))})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 pt-4 border-t border-gray-200",children:[s.jsxs("span",{children:["最后评估：",d.lastAssessment]}),s.jsxs("span",{children:["下次评估：",d.nextAssessmentDate]})]})]},d.employeeId)})]})]})},Hf=()=>{const{staff:e,addStaff:t,updateStaff:r,deleteStaff:n,searchStaff:l}=_i(),{showToast:a}=Yl(),[o,i]=k.useState("all"),[c,d]=k.useState(""),[p,h]=k.useState(!1),[x,g]=k.useState(null),[m,v]=k.useState(!1),[y,u]=k.useState("list"),b=(c.trim()?l(c):e).filter(j=>o==="all"?!0:j.status===o),S=j=>{switch(j){case"active":return"bg-green-100 text-green-800";case"onleave":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},C=j=>{switch(j){case"active":return"在职";case"onleave":return"请假";case"inactive":return"离职";default:return j}},T=()=>{g(null),h(!0)},w=j=>{g(j),h(!0)},I=()=>{h(!1),g(null)},F=async j=>{v(!0);try{x?(r(x.id,j),a("success",`已更新美容师 ${j.name}`,3e3)):(t(j),a("success",`已添加新美容师 ${j.name}`,3e3)),I()}catch{a("error","操作失败，请重试",3e3)}finally{v(!1)}},N=(j,P)=>{if(confirm(`确定要删除美容师 ${P} 吗？`))try{n(j),a("success",`已删除美容师 ${P}`,3e3)}catch{a("error","删除失败，请重试",3e3)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"美容师管理"}),s.jsxs("p",{className:"text-green-600 mt-1",children:["共 ",e.length," 名美容师"]})]}),s.jsxs("button",{onClick:T,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center gap-2",children:[s.jsx(rs,{className:"w-5 h-5"}),"新增美容师"]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[s.jsx("button",{onClick:()=>u("list"),className:`px-4 py-3 font-medium transition-colors border-b-2 ${y==="list"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"美容师列表"}),s.jsxs("button",{onClick:()=>u("smartmanager"),className:`px-4 py-3 font-medium transition-colors border-b-2 flex items-center gap-2 ${y==="smartmanager"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[s.jsx(_e,{className:"w-4 h-4"}),"智能店长"]}),s.jsxs("button",{onClick:()=>u("promotion"),className:`px-4 py-3 font-medium transition-colors border-b-2 flex items-center gap-2 ${y==="promotion"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[s.jsx(yt,{className:"w-4 h-4"}),"晋升计划"]})]}),y==="list"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3 bg-white rounded-lg border border-green-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:j=>d(j.target.value),placeholder:"搜索美容师名称或电话...",className:"flex-1 px-3 py-2 border border-green-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsx("div",{className:"flex gap-3 flex-wrap",children:["all","active","onleave","inactive"].map(j=>s.jsxs("button",{onClick:()=>i(j),className:`px-4 py-2 rounded-lg transition-colors ${o===j?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[j==="all"?"全部":C(j),s.jsx("span",{className:"ml-2 text-sm",children:e.filter(P=>j==="all"?!0:P.status===j).length})]},j))})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(j=>s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 overflow-hidden hover:shadow-lg transition-all",children:[s.jsx("div",{className:"w-full h-48 bg-gray-200 overflow-hidden",children:s.jsx("img",{src:j.photo,alt:j.name,className:"w-full h-full object-cover hover:scale-105 transition-transform"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name}),s.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${S(j.status)}`,children:C(j.status)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((P,O)=>s.jsx(Xe,{className:`w-4 h-4 ${O<Math.floor(j.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},O))}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:j.rating.toFixed(1)})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Array.isArray(j.specialty)&&j.specialty.slice(0,2).map((P,O)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:P},O)),Array.isArray(j.specialty)&&j.specialty.length>2&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:["+",j.specialty.length-2]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 py-3 border-t border-b border-gray-200",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(yt,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"经验"})]}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[j.experience,"年"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(re,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"客户"})]}),s.jsx("p",{className:"font-semibold text-gray-900",children:j.clientCount})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[s.jsx(en,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"收入"})]}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["¥",(j.totalRevenue/1e3).toFixed(1),"k"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>w(j),className:"flex-1 px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Cl,{className:"w-4 h-4"}),"编辑"]}),s.jsxs("button",{onClick:()=>N(j.id,j.name),className:"flex-1 px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[s.jsx(Ss,{className:"w-4 h-4"}),"删除"]})]})]})]},j.id))}),b.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-600",children:s.jsx("p",{children:"暂无匹配的美容师"})})]}),y==="smartmanager"&&s.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:s.jsx(Df,{})}),y==="promotion"&&s.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:s.jsx(r0,{})}),s.jsx(s0,{isOpen:p,onClose:I,title:x?"编辑美容师":"新增美容师",onConfirm:()=>{const j=document.querySelector("form");j&&j.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))},confirmText:x?"保存":"添加",cancelText:"取消",isLoading:m,children:s.jsx(_f,{initialData:x||void 0,onSubmit:F,isLoading:m})})]})},qf=({initialData:e,onSubmit:t,onCancel:r,isLoading:n=!1})=>{const[l,a]=k.useState({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",totalSpending:(e==null?void 0:e.totalSpending)||0,appointmentCount:(e==null?void 0:e.appointmentCount)||0,preferredStaff:(e==null?void 0:e.preferredStaff)||"",status:(e==null?void 0:e.status)||"active",lastVisit:(e==null?void 0:e.lastVisit)||new Date().toISOString().split("T")[0],photo:(e==null?void 0:e.photo)||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=400&fit=crop"}),[o,i]=k.useState({}),c=()=>{const h={};return l.name.trim()||(h.name="客户名称不能为空"),l.phone.trim()?/^1[3-9]\d{9}$/.test(l.phone)||(h.phone="请输入有效的手机号"):h.phone="手机号不能为空",l.totalSpending<0&&(h.totalSpending="消费额不能为负数"),l.appointmentCount<0&&(h.appointmentCount="预约次数不能为负数"),i(h),Object.keys(h).length===0},d=h=>{h.preventDefault(),c()&&t({name:l.name,phone:l.phone,totalSpending:l.totalSpending,appointmentCount:l.appointmentCount,visitCount:l.appointmentCount,preferredStaff:l.preferredStaff,status:l.status,lastVisit:l.lastVisit,photo:l.photo})},p=h=>{const{name:x,value:g}=h.target;a(m=>({...m,[x]:x==="totalSpending"||x==="appointmentCount"?parseInt(g)||0:g})),o[x]&&i(m=>({...m,[x]:""}))};return s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"客户名称 *"}),s.jsx("input",{type:"text",name:"name",value:l.name,onChange:p,placeholder:"请输入客户名称",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.name?"border-red-500":"border-gray-300"}`,disabled:n}),o.name&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"手机号 *"}),s.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:p,placeholder:"请输入11位手机号",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.phone?"border-red-500":"border-gray-300"}`,disabled:n}),o.phone&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"总消费额 (元)"}),s.jsx("input",{type:"number",name:"totalSpending",value:l.totalSpending,onChange:p,placeholder:"0",min:"0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.totalSpending?"border-red-500":"border-gray-300"}`,disabled:n}),o.totalSpending&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.totalSpending})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"预约次数"}),s.jsx("input",{type:"number",name:"appointmentCount",value:l.appointmentCount,onChange:p,placeholder:"0",min:"0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.appointmentCount?"border-red-500":"border-gray-300"}`,disabled:n}),o.appointmentCount&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.appointmentCount})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"偏好美容师"}),s.jsx("input",{type:"text",name:"preferredStaff",value:l.preferredStaff,onChange:p,placeholder:"选择偏好的美容师",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:n})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"客户状态"}),s.jsxs("select",{name:"status",value:l.status,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:n,children:[s.jsx("option",{value:"active",children:"活跃"}),s.jsx("option",{value:"atrisk",children:"风险"}),s.jsx("option",{value:"inactive",children:"不活跃"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最后访问日期"}),s.jsx("input",{type:"date",name:"lastVisit",value:l.lastVisit,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:n})]}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[s.jsxs("button",{type:"button",onClick:r,disabled:n,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(Tt,{size:16}),"取 消"]}),s.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"保 存 中..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vl,{size:16}),"确 认"]})})]})]})},Vf=({initialData:e,onSubmit:t,onCancel:r,isLoading:n=!1})=>{const[l,a]=k.useState({customerName:(e==null?void 0:e.customerName)||"",staffName:(e==null?void 0:e.staffName)||"",service:(e==null?void 0:e.service)||"",date:(e==null?void 0:e.date)||new Date().toISOString().split("T")[0],time:(e==null?void 0:e.time)||"09:00",duration:(e==null?void 0:e.duration)||60,price:(e==null?void 0:e.price)||0,status:(e==null?void 0:e.status)||"confirmed",notes:(e==null?void 0:e.notes)||""}),[o,i]=k.useState({}),c=()=>{const h={};return l.customerName.trim()||(h.customerName="客户名称不能为空"),l.staffName.trim()||(h.staffName="美容师不能为空"),l.service.trim()||(h.service="服务项目不能为空"),l.date||(h.date="预约日期不能为空"),l.time||(h.time="预约时间不能为空"),l.duration<=0&&(h.duration="服务时长必须大于 0"),l.price<0&&(h.price="服务价格不能为负数"),i(h),Object.keys(h).length===0},d=h=>{h.preventDefault(),c()&&t({customerName:l.customerName,staffName:l.staffName,service:l.service,date:l.date,time:l.time,duration:l.duration,price:l.price,status:l.status,notes:l.notes})},p=h=>{const{name:x,value:g}=h.target;a(m=>({...m,[x]:x==="duration"||x==="price"?parseFloat(g)||0:g})),o[x]&&i(m=>({...m,[x]:""}))};return s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"客户名称 *"}),s.jsx("input",{type:"text",name:"customerName",value:l.customerName,onChange:p,placeholder:"请输入客户名称",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.customerName?"border-red-500":"border-gray-300"}`,disabled:n}),o.customerName&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.customerName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"美容师 *"}),s.jsx("input",{type:"text",name:"staffName",value:l.staffName,onChange:p,placeholder:"请输入美容师名称",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.staffName?"border-red-500":"border-gray-300"}`,disabled:n}),o.staffName&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.staffName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"服务项目 *"}),s.jsx("input",{type:"text",name:"service",value:l.service,onChange:p,placeholder:"如: 面部护理、全身SPA等",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.service?"border-red-500":"border-gray-300"}`,disabled:n}),o.service&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.service})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"预约日期 *"}),s.jsx("input",{type:"date",name:"date",value:l.date,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.date?"border-red-500":"border-gray-300"}`,disabled:n}),o.date&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.date})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"预约时间 *"}),s.jsx("input",{type:"time",name:"time",value:l.time,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.time?"border-red-500":"border-gray-300"}`,disabled:n}),o.time&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.time})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"服务时长 (分钟) *"}),s.jsx("input",{type:"number",name:"duration",value:l.duration,onChange:p,placeholder:"60",min:"15",step:"15",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.duration?"border-red-500":"border-gray-300"}`,disabled:n}),o.duration&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.duration})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"服务价格 (元) *"}),s.jsx("input",{type:"number",name:"price",value:l.price,onChange:p,placeholder:"0",min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${o.price?"border-red-500":"border-gray-300"}`,disabled:n}),o.price&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:o.price})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"预约状态"}),s.jsxs("select",{name:"status",value:l.status,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:n,children:[s.jsx("option",{value:"confirmed",children:"已确认"}),s.jsx("option",{value:"pending",children:"待确认"}),s.jsx("option",{value:"completed",children:"已完成"}),s.jsx("option",{value:"cancelled",children:"已取消"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"备注"}),s.jsx("textarea",{name:"notes",value:l.notes,onChange:p,placeholder:"如: 客户特殊需求、过敏信息等",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:n})]}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[s.jsxs("button",{type:"button",onClick:r,disabled:n,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(Tt,{size:16}),"取 消"]}),s.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"保 存 中..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vl,{size:16}),"确 认"]})})]})]})},Wf=()=>{const[e,t]=k.useState("book"),[r,n]=k.useState("按摩护肤"),[l,a]=k.useState(null),[o,i]=k.useState(new Date().toISOString().split("T")[0]),[c,d]=k.useState("10:00"),[p,h]=k.useState("朝阳店"),x=[{name:"按摩护肤",price:198,duration:60,rating:4.9,orders:12580},{name:"深层清洁",price:158,duration:45,rating:4.8,orders:9320},{name:"面部精油护理",price:238,duration:75,rating:4.9,orders:8650},{name:"祛痘护肤",price:178,duration:50,rating:4.7,orders:7420},{name:"眼部护理",price:128,duration:30,rating:4.8,orders:6890},{name:"全身SPA",price:388,duration:120,rating:4.9,orders:5640}],g=[{id:"1",name:"朝阳店",address:"朝阳区建国路88号",phone:"010-1234-5678",area:"500m2"},{id:"2",name:"海淀店",address:"海淀区中关村大街1号",phone:"010-1234-5679",area:"350m2"},{id:"3",name:"东城店",address:"东城区王府井大街100号",phone:"010-1234-5680",area:"400m2"},{id:"4",name:"西城店",address:"西城区宣武门50号",phone:"010-1234-5681",area:"300m2"}],m=[{id:"s1",name:"李美女",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=80&h=80&fit=crop",rating:4.95,reviews:2340,specialties:["按摩护肤","深层清洁","面部精油护理"],available:!0,schedule:["10:00","10:30","11:00","14:00","15:00","16:00"]},{id:"s2",name:"王静雨",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=80&h=80&fit=crop",rating:4.88,reviews:1890,specialties:["祛痘护肤","眼部护理","深层清洁"],available:!0,schedule:["09:00","09:30","10:00","13:00","14:00","15:00"]},{id:"s3",name:"张丽",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80&h=80&fit=crop",rating:4.92,reviews:2105,specialties:["SPA","放松","高端护理"],available:!0,schedule:["11:00","11:30","14:00","15:00","16:00","17:00"]},{id:"s4",name:"刘娜",avatar:"https://images.unsplash.com/photo-1517841905240-74386c494700?w=80&h=80&fit=crop",rating:4.86,reviews:1654,specialties:["高端面部护理","豪华护理","VIP服务"],available:!1,schedule:["10:00","11:00","14:00","15:00"]},{id:"s5",name:"陈慧",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=80&h=80&fit=crop",rating:4.79,reviews:1234,specialties:["按摩","穴位","能量疗法"],available:!0,schedule:["09:00","10:00","13:00","14:00","15:00","16:00"]}],v=[{id:"apt1",customerId:"c1",customerName:"李美女",phone:"13800138000",serviceType:"面部护理",beautician:"李美女",rating:4.8,date:"2025-10-22",time:"14:00",duration:60,price:198,status:"confirmed",notes:"敏感肌肤",storeLocation:"朝阳店"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-green-900",children:"到店服务"}),s.jsx("p",{className:"text-gray-600",children:"专业美容师为您提供高端护理服务"})]}),s.jsx("div",{className:"flex gap-2 border-b border-gray-200",children:["book","appointments","history","staff"].map(y=>s.jsxs("button",{onClick:()=>t(y),className:`px-4 py-2 font-medium ${e===y?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-gray-900"}`,children:[y==="book"&&"预订服务",y==="appointments"&&"我的预约",y==="history"&&"历史记录",y==="staff"&&"美容师"]},y))}),e==="book"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"选择服务"}),s.jsx("div",{className:"space-y-2",children:x.map(y=>s.jsx("button",{onClick:()=>n(y.name),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${r===y.name?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y.duration,"分钟 • ",y.orders.toLocaleString(),"次预订"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-green-600",children:["￥",y.price]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-sm",children:y.rating})]})]})]})},y.name))})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"选择美容师"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map(y=>s.jsxs("button",{onClick:()=>a(y),className:`p-4 rounded-lg border-2 transition-all text-center ${(l==null?void 0:l.id)===y.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[s.jsx("img",{src:y.avatar,alt:y.name,className:"w-12 h-12 rounded-full mx-auto mb-2 object-cover"}),s.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:y.name}),s.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm mt-1",children:[s.jsx(Xe,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),s.jsx("span",{children:y.rating})]}),s.jsx("span",{className:`text-xs mt-1 inline-block px-2 py-1 rounded ${y.available?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.available?"可预约":"忙碌中"})]},y.id))})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6 h-fit",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"预约详情"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"门店位置"}),s.jsx("select",{value:p,onChange:y=>h(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:g.map(y=>s.jsx("option",{value:y.name,children:y.name},y.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"日期"}),s.jsx("input",{type:"date",value:o,onChange:y=>i(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"时间"}),s.jsx("input",{type:"time",value:c,onChange:y=>d(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsx("button",{className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"立即预约"})]})]})]}),e==="appointments"&&s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"我的预约"}),s.jsx("div",{className:"space-y-3",children:v.map(y=>s.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 hover:border-green-300 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:y.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:y.serviceType})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y.status==="confirmed"?"bg-blue-100 text-blue-800":y.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:y.status==="confirmed"?"已确认":y.status==="pending"?"待确认":"已完成"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"w-4 h-4"}),y.date," ",y.time]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"w-4 h-4"}),y.beautician]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"w-4 h-4"}),y.duration,"分钟"]}),s.jsxs("div",{className:"font-semibold text-green-600",children:["￥",y.price]})]})]},y.id))})]}),e==="history"&&s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"服务历史"}),s.jsx("p",{className:"text-gray-600 text-center py-8",children:"暂无历史预约记录"})]}),e==="staff"&&s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"美容师团队"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:m.map(y=>s.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 text-center",children:[s.jsx("img",{src:y.avatar,alt:y.name,className:"w-16 h-16 rounded-full mx-auto mb-3 object-cover"}),s.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:y.name}),s.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[s.jsx(Xe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-sm font-medium",children:y.rating})]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[y.reviews,"条评价"]})]},y.id))})]})]})},fd=[{id:"s1",name:"深度保湿面部护理",category:"面部护理",description:"专业深层补水，恢复肌肤水润光泽",detailedDescription:"采用进口保湿精华，深入肌底补充水分，配合专业按摩手法，促进血液循环，让肌肤焕发自然光泽。适合各种肌肤类型。",price:268,duration:90,images:["https://images.unsplash.com/photo-1612817288484-6f916006741a?w=800","https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"senior",suitableFor:["干性肌肤","混合性肌肤","敏感肌肤"],benefits:["深层补水","改善粗糙","提亮肤色","收缩毛孔"],notes:["有过敏史的顾客需提前告知","建议提前30分钟到达"],tags:["热门","补水","保湿","面部"]},{id:"s2",name:"抗衰紧致面部护理",category:"面部护理",description:"专业抗老配方，抚平细纹，提升肌肤弹性",detailedDescription:"运用国际先进抗衰技术，富含胶原蛋白肽和透明质酸，有效减少细纹，提升肌肤紧致度，重现年轻光彩。",price:368,duration:120,images:["https://images.unsplash.com/photo-1616394584738-fc6e612e785b?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"master",suitableFor:["熟龄肌肤","松弛肌肤"],benefits:["抗衰老","紧致提升","淡化细纹","恢复弹性"],notes:["建议28岁以上使用","需要系列护理效果更佳"],tags:["抗衰","紧致","高端"]},{id:"s3",name:"全身放松SPA",category:"SPA",description:"从头到脚的放松之旅，缓解疲劳，焕发活力",detailedDescription:"90分钟专业SPA疗程，包含头部按摩、背部按摩、腿部放松，配合香薰精油，让身心完全放松，焕发活力。",price:488,duration:90,images:["https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"senior",suitableFor:["所有人","上班族","压力人群"],benefits:["缓解疲劳","放松身心","改善睡眠","提升免疫力"],notes:["建议空腹或饭后1小时进行","孕妇需提前告知"],tags:["SPA","放松","热门"]},{id:"s4",name:"专业美甲服务",category:"美甲",description:"法式甲、渐变甲、彩绘等多款选择，专业服务",detailedDescription:"资深美甲师一对一服务，提供法式甲、渐变甲、彩绘等多种款式选择。使用进口无毒甲油，保护指甲健康。",price:88,duration:60,images:["https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"junior",suitableFor:["所有人"],benefits:["美化指甲","保护指甲","时尚潮流"],notes:["甲油可持续1-2周","建议提前预约"],tags:["美甲","时尚"]},{id:"s5",name:"眼部护理精华",category:"眼部护理",description:"针对眼部细纹、黑眼圈的专业护理",detailedDescription:"运用眼霜和按摩手法，改善眼部细纹、黑眼圈、眼袋等问题，让双眼重新焕发明亮神采。",price:128,duration:45,images:["https://images.unsplash.com/photo-1608245443803-ba990733b6bf?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"senior",suitableFor:["眼部有困扰的所有人"],benefits:["淡化黑眼圈","抚平细纹","缓解眼袋","提亮眼部"],notes:["每周1-2次效果更佳"],tags:["眼部","护理"]},{id:"s6",name:"舒缓肌肉按摩",category:"按摩",description:"针对肩颈、背部肌肉的专业按摩",detailedDescription:"通过专业按摩手法，放松紧张肌肉，缓解肩颈酸痛、背部疲劳，改善血液循环。",price:158,duration:60,images:["https://images.unsplash.com/photo-1600334129128-685c5582fd35?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"junior",suitableFor:["久坐人群","肩颈不适"],benefits:["缓解酸痛","改善姿势","放松肌肉"],notes:["按摩后多喝水"],tags:["按摩","舒缓"]}],Kf=[{id:"b1",name:"李美玲",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=200",gender:"female",age:28,specialization:["面部护理","抗衰老","眼部护理"],qualifications:["高级美容师资格证","国际美容师认证","面部护理专业资质"],experience:6,rating:4.9,totalServices:385,totalReviews:156,bio:"拥有6年从业经验，擅长面部护理和抗衰老技术。以专业的服务态度和精湛的技术深受客户喜爱。",portfolio:[{id:"p1",image:"https://images.unsplash.com/photo-1616394584738-fc6e612e785b?w=400",description:"深度保湿护理效果",date:"2024-10-15"},{id:"p2",image:"https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=400",description:"抗衰护理前后对比",date:"2024-10-12"}],schedules:[{date:"2024-10-26",availableSlots:["09:00","10:00","14:00","15:00","16:00"]},{date:"2024-10-27",availableSlots:["09:00","10:00","11:00","14:00","15:00","16:00"]}],languages:["中文","英文"],serviceRadius:15,basePrice:50,availabilityStatus:"available"},{id:"b2",name:"王雅琪",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200",gender:"female",age:25,specialization:["美甲","按摩","SPA"],qualifications:["高级美甲师","按摩师资格证","SPA技师认证"],experience:4,rating:4.8,totalServices:290,totalReviews:122,bio:"专业美甲技师，擅长各种美甲款式设计。同时精通按摩和SPA护理，为顾客提供全方位服务。",portfolio:[{id:"p3",image:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=400",description:"法式美甲作品",date:"2024-10-20"},{id:"p4",image:"https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=400",description:"SPA护理现场",date:"2024-10-18"}],schedules:[{date:"2024-10-26",availableSlots:["10:00","13:00","14:00","15:00"]},{date:"2024-10-27",availableSlots:["09:00","10:00","13:00","14:00","15:00"]}],languages:["中文"],serviceRadius:10,basePrice:40,availabilityStatus:"available"},{id:"b3",name:"张晨曦",avatar:"https://images.unsplash.com/photo-1552374196-c4e7ffc6e126?w=200",gender:"male",age:30,specialization:["面部护理","男性护理","抗衰老"],qualifications:["首席美容师","男性皮肤护理专家","国际认证讲师"],experience:8,rating:5,totalServices:520,totalReviews:245,bio:"8年从业经验，擅长各类面部护理，特别精通男性皮肤护理。技术精湛，服务周到，好评如潮。",portfolio:[{id:"p5",image:"https://images.unsplash.com/photo-1616394584738-fc6e612e785b?w=400",description:"男士护肤效果",date:"2024-10-22"}],schedules:[{date:"2024-10-26",availableSlots:["09:00","13:00","14:00","15:00","16:00"]}],languages:["中文","日文"],serviceRadius:20,basePrice:60,availabilityStatus:"available"},{id:"b4",name:"刘欣怡",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=200",gender:"female",age:27,specialization:["眼部护理","面部护理","深层清洁"],qualifications:["资深美容师","眼部护理专业认证"],experience:5,rating:4.7,totalServices:312,totalReviews:138,bio:"专注于眼部护理和深层清洁，技术娴熟，善于根据客户需求定制护理方案。",portfolio:[{id:"p6",image:"https://images.unsplash.com/photo-1608245443803-ba990733b6bf?w=400",description:"眼部护理效果",date:"2024-10-21"}],schedules:[{date:"2024-10-26",availableSlots:["09:00","10:00","14:00","15:00"]},{date:"2024-10-27",availableSlots:["09:00","11:00","14:00","16:00"]}],languages:["中文"],serviceRadius:12,basePrice:45,availabilityStatus:"available"}],Jf=[{id:"a1",label:"家",name:"张女士",phone:"13800138001",address:"深圳市南山区",city:"深圳市",district:"南山区",details:"科技园南区科技南路100号A座1801室",latitude:22.5329,longitude:113.9375,isDefault:!0},{id:"a2",label:"公司",name:"张女士",phone:"13800138001",address:"深圳市福田区",city:"深圳市",district:"福田区",details:"福田中心区福华路399号深圳国际商会大厦B座1508",latitude:22.5406,longitude:114.0583,isDefault:!1},{id:"a3",label:"父母家",name:"张女士",phone:"13800138001",address:"深圳市龙华区",city:"深圳市",district:"龙华区",details:"龙华新区民治大道民治社区C区16栋501",latitude:22.6617,longitude:114.048,isDefault:!1}],Gf=({mode:e="customer"})=>{var pn;const[t,r]=k.useState(e==="admin"?"appointments":"services"),[n,l]=k.useState("全部"),[a,o]=k.useState(""),[i,c]=k.useState("both"),[d,p]=k.useState(!1),[h,x]=k.useState(null),[g,m]=k.useState(null),[v,y]=k.useState(null),[u,f]=k.useState(!1),[b,S]=k.useState({}),[C,T]=k.useState(Jf),[w,I]=k.useState(!1),[F,N]=k.useState(null),j=e==="admin",[P,O]=k.useState([]),[L,U]=k.useState("全部"),[q,le]=k.useState(0);k.useEffect(()=>{const E=localStorage.getItem("onsiteOrders");E&&O(JSON.parse(E));const Y=localStorage.getItem("userAddresses");Y&&T(JSON.parse(Y))},[]);const M=E=>{O(E),localStorage.setItem("onsiteOrders",JSON.stringify(E))},z=E=>{T(E),localStorage.setItem("userAddresses",JSON.stringify(E))},B=["全部",...new Set(fd.map(E=>E.category))],W=fd.filter(E=>{const Y=n==="全部"||E.category===n,se=E.name.toLowerCase().includes(a.toLowerCase())||E.description.toLowerCase().includes(a.toLowerCase()),R=i==="both"||i==="home"&&E.supportsHomeService||i==="store"&&E.supportsInStoreService;return Y&&se&&R}),G=Kf.filter(E=>{const Y=L==="全部"||E.gender===L,se=E.rating>=q;return Y&&se}),Ke=E=>{x(E),f(!0),S({serviceType:E.name,price:E.price,duration:E.duration})},je=E=>{m(E),h&&f(!0)},dt=E=>{y(E)},tt=()=>{N(null),I(!0)},Rt=E=>{N(E),I(!0)},As=E=>{if(window.confirm("确定要删除这个地址吗？")){const Y=C.filter(se=>se.id!==E);Y.length>0&&(Y.some(se=>se.isDefault)||(Y[0].isDefault=!0)),z(Y),(v==null?void 0:v.id)===E&&y(Y[0]||null)}},mn=()=>{var Y,se,R,pe;if(!h||!g||!v){alert("请选择服务、美容师和地址");return}const E={id:Date.now().toString(),customerId:"user1",customerName:v.name,phone:v.phone,address:v.details,serviceType:h.name,beautician:g.name,rating:0,date:b.date||"",time:b.time||"",duration:h.duration,price:h.price,status:"pending",notes:"",distance:5,estimatedArrival:0,customerRequirements:{skinType:((Y=b.customerRequirements)==null?void 0:Y.skinType)||"混合性",allergies:((se=b.customerRequirements)==null?void 0:se.allergies)||[],concerns:((R=b.customerRequirements)==null?void 0:R.concerns)||[],preferences:((pe=b.customerRequirements)==null?void 0:pe.preferences)||""},serviceLocation:v,paymentMethod:b.paymentMethod||"wechat",paymentStatus:"unpaid"};M([...P,E]),alert("预约成功！"),f(!1),x(null),m(null),y(null),S({}),r("appointments")};return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[s.jsx(tn,{className:"text-pink-500",size:28}),j?"上门服务管理":"上门服务预约"]}),s.jsx("p",{className:"text-gray-600",children:j?"查看和管理所有客户的上门服务预约":"选择服务项目，预约专业美容师上门服务"})]}),s.jsx("div",{className:"flex gap-4 mb-6 border-b border-gray-200 overflow-x-auto",children:[{id:"services",label:"服务项目",icon:Me,show:!0},{id:"beauticians",label:"美容师",icon:ar,show:!0},{id:"addresses",label:"我的地址",icon:gs,show:!j},{id:"appointments",label:j?"所有预约":"我的订单",icon:Pt,show:!0}].filter(({show:E})=>E).map(({id:E,label:Y,icon:se})=>s.jsxs("button",{onClick:()=>r(E),className:`pb-3 font-semibold transition flex items-center gap-2 whitespace-nowrap ${t===E?"text-pink-600 border-b-2 border-pink-600":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(se,{size:18}),Y]},E))}),t==="services"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 space-y-4",children:[s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"搜索服务...",value:a,onChange:E=>o(E.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"})]})}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:B.map(E=>s.jsx("button",{onClick:()=>l(E),className:`px-4 py-2 rounded-full whitespace-nowrap transition ${n===E?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:E},E))}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("span",{className:"text-gray-600 font-semibold",children:"服务方式："}),[{id:"both",label:"全部"},{id:"home",label:"上门服务",icon:""},{id:"store",label:"到店服务",icon:""}].map(({id:E,label:Y,icon:se})=>s.jsxs("button",{onClick:()=>c(E),className:`px-4 py-2 rounded-lg transition ${i===E?"bg-pink-100 text-pink-600 border border-pink-500":"bg-white text-gray-700 border border-gray-300 hover:border-pink-300"}`,children:[se&&s.jsx("span",{className:"mr-2",children:se}),Y]},E))]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:W.map(E=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-pink-100 to-purple-100 relative",children:[E.images[0]&&s.jsx("img",{src:E.images[0],alt:E.name,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[E.supportsHomeService&&s.jsxs("span",{className:"bg-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[s.jsx(tn,{size:14})," 上门"]}),E.supportsInStoreService&&s.jsxs("span",{className:"bg-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[s.jsx(Me,{size:14})," 到店"]})]}),E.tags.includes("热门")&&s.jsx("span",{className:"absolute top-2 left-2 bg-pink-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"热门"})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:E.name}),s.jsxs("span",{className:"text-xl font-bold text-pink-500",children:["¥",E.price]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:E.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mb-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ws,{size:14})," ",E.duration,"分钟"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(rr,{size:14})," ",E.beauticianLevel==="junior"?"初级":E.beauticianLevel==="senior"?"高级":"大师","美容师"]})]}),s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:E.benefits.map((Y,se)=>s.jsx("span",{className:"bg-pink-50 text-pink-600 px-2 py-1 rounded text-xs",children:Y},se))})}),s.jsx("button",{onClick:()=>Ke(E),className:"w-full bg-pink-500 hover:bg-pink-600 text-white py-2 rounded-lg transition font-semibold",children:"立即预约"})]})]},E.id))})]}),t==="beauticians"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"性别"}),s.jsxs("select",{value:L,onChange:E=>U(E.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[s.jsx("option",{value:"全部",children:"全部"}),s.jsx("option",{value:"female",children:"女"}),s.jsx("option",{value:"male",children:"男"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"最低评分"}),s.jsxs("select",{value:q,onChange:E=>le(Number(E.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[s.jsx("option",{value:"0",children:"不限"}),s.jsx("option",{value:"4",children:"4.0星以上"}),s.jsx("option",{value:"4.5",children:"4.5星以上"}),s.jsx("option",{value:"4.8",children:"4.8星以上"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:G.map(E=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition",children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("img",{src:E.avatar,alt:E.name,className:"w-20 h-20 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:E.name}),s.jsxs("p",{className:"text-gray-600 text-sm",children:[E.gender==="female"?"女":"男"," · ",E.age,"岁 · ",E.experience,"年经验"]})]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${E.availabilityStatus==="available"?"bg-green-100 text-green-800":E.availabilityStatus==="busy"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:E.availabilityStatus==="available"?"在线":E.availabilityStatus==="busy"?"忙碌":"离线"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[[...Array(5)].map((Y,se)=>s.jsx(Xe,{size:16,className:se<Math.floor(E.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"},se)),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:E.rating}),s.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",E.totalReviews,"条评价)"]})]})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:E.bio}),s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:E.specialization.map((Y,se)=>s.jsx("span",{className:"bg-purple-50 text-purple-600 px-2 py-1 rounded text-xs",children:Y},se))})}),s.jsxs("div",{className:"flex gap-2 text-sm text-gray-600 mb-4",children:[s.jsxs("span",{children:["服务半径：",E.serviceRadius,"公里"]}),s.jsx("span",{children:"·"}),s.jsxs("span",{children:["上门基础费：¥",E.basePrice]})]}),s.jsx("button",{onClick:()=>je(E),className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-2 rounded-lg transition font-semibold",children:"选择此美容师"})]},E.id))})]}),t==="addresses"&&s.jsxs("div",{children:[s.jsxs("button",{onClick:tt,className:"mb-6 bg-pink-500 hover:bg-pink-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition",children:[s.jsx(rs,{})," 添加新地址"]}),s.jsx("div",{className:"space-y-4",children:C.map(E=>s.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-lg transition ${(v==null?void 0:v.id)===E.id?"border-pink-500 bg-pink-50":"border-gray-200"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold",children:E.label}),E.isDefault&&s.jsx("span",{className:"bg-pink-500 text-white px-2 py-0.5 rounded text-xs",children:"默认"})]}),s.jsxs("p",{className:"text-gray-600 text-sm",children:[E.name," ",E.phone]})]}),s.jsx("button",{onClick:()=>dt(E),className:"px-3 py-1 border border-pink-500 text-pink-600 rounded hover:bg-pink-50 transition text-sm",children:"选择"})]}),s.jsx("p",{className:"text-gray-700",children:E.details}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx("button",{onClick:()=>Rt(E),className:"text-blue-600 hover:text-blue-700 text-sm",children:"编辑"}),s.jsx("button",{onClick:()=>As(E.id),className:"text-red-600 hover:text-red-700 text-sm ml-4",children:"删除"})]})]},E.id))})]}),t==="appointments"&&s.jsxs("div",{children:[j&&s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-blue-800 font-semibold",children:" 管理视图"}),s.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"查看所有客户的上门服务预约和状态"})]}),s.jsx("div",{className:"space-y-4",children:P.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Pt,{size:64,className:"mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:j?"暂无预约记录":"暂无订单"})]}):P.map(E=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg",children:E.serviceType}),s.jsx("p",{className:"text-gray-600 text-sm",children:E.beautician})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${E.status==="pending"?"bg-yellow-100 text-yellow-800":E.status==="accepted"?"bg-blue-100 text-blue-800":E.status==="en-route"?"bg-purple-100 text-purple-800":E.status==="arrived"?"bg-green-100 text-green-800":E.status==="in-service"?"bg-indigo-100 text-indigo-800":E.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.status==="pending"?"待确认":E.status==="accepted"?"已接受":E.status==="en-route"?"前往中":E.status==="arrived"?"已到达":E.status==="in-service"?"服务中":E.status==="completed"?"已完成":"已取消"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{size:16}),E.date," ",E.time]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{size:16}),"¥",E.price]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{size:16}),E.address]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:16}),E.customerName," ",E.phone]})]})]},E.id))})]}),u&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"确认预约"}),s.jsx("button",{onClick:()=>f(!1),children:s.jsx(tg,{size:24,className:"text-gray-500"})})]}),s.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:h.name}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["价格：¥",h.price]}),s.jsxs("span",{children:["时长：",h.duration,"分钟"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block font-semibold mb-2",children:"选择美容师"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:G.map(E=>s.jsx("div",{onClick:()=>m(E),className:`p-3 border rounded-lg cursor-pointer transition ${(g==null?void 0:g.id)===E.id?"border-pink-500 bg-pink-50":"border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:E.avatar,alt:E.name,className:"w-12 h-12 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold",children:E.name}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Xe,{size:14,className:"fill-yellow-400 text-yellow-400"}),E.rating]})]}),(g==null?void 0:g.id)===E.id&&s.jsx(qe,{className:"text-pink-500",size:24})]})},E.id))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block font-semibold mb-2",children:"选择服务地址"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:C.map(E=>s.jsxs("div",{onClick:()=>y(E),className:`p-3 border rounded-lg cursor-pointer transition ${(v==null?void 0:v.id)===E.id?"border-pink-500 bg-pink-50":"border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:E.label}),E.isDefault&&s.jsx("span",{className:"ml-2 text-xs bg-pink-500 text-white px-2 py-0.5 rounded",children:"默认"})]}),(v==null?void 0:v.id)===E.id&&s.jsx(qe,{className:"text-pink-500",size:20})]}),s.jsx("p",{className:"text-sm text-gray-600",children:E.details})]},E.id))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block font-semibold mb-2",children:"选择日期时间"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"date",value:b.date||"",onChange:E=>S({...b,date:E.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500"}),s.jsx("input",{type:"time",value:b.time||"",onChange:E=>S({...b,time:E.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block font-semibold mb-2",children:"特殊需求（如过敏史、肤质等）"}),s.jsx("textarea",{placeholder:"请描述您的肤质、过敏史或特殊需求...",value:((pn=b.customerRequirements)==null?void 0:pn.preferences)||"",onChange:E=>S({...b,customerRequirements:{...b.customerRequirements,preferences:E.target.value}}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500",rows:3})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block font-semibold mb-2",children:"支付方式"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:["wechat","alipay","cash"].map(E=>s.jsx("button",{onClick:()=>S({...b,paymentMethod:E}),className:`p-3 border rounded-lg transition ${b.paymentMethod===E?"border-pink-500 bg-pink-50":"border-gray-200"}`,children:E==="wechat"?"微信支付":E==="alipay"?"支付宝":"现金"},E))})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:mn,className:"flex-1 bg-pink-500 hover:bg-pink-600 text-white py-3 rounded-lg transition font-semibold",children:"确认预约"}),s.jsx("button",{onClick:()=>f(!1),className:"px-6 bg-gray-300 hover:bg-gray-400 text-gray-800 py-3 rounded-lg transition font-semibold",children:"取消"})]})]})})]})};class Qf{analyzeCustomerProfile(t,r=[]){try{const n=this.analyzeCharacteristics(t),l=this.analyzeFamilyBackground(t),a=this.analyzeConsumptionBehavior(t),o=this.generateStaffMatchings(t,r),i=this.generateAIInsights(t,n),c=this.generateSegments(t,n);return{customerId:t.id,customerName:t.name,characteristics:n,familyBackground:l,consumptionBehavior:a,staffMatchings:o,aiInsights:i,segments:c}}catch(n){throw console.error("客户画像分析错误:",n.message),n}}analyzeCharacteristics(t){var l;const r=t.profile||{},n=r.preferences||{};return{skinType:n.skinType||"未知肤质",primaryConcerns:n.skinConcerns||["综合护理"],preferredBudget:n.budget||"standard",visitFrequency:((l=r.consumptionPattern)==null?void 0:l.visitFrequency)||"monthly"}}analyzeFamilyBackground(t){const r=t.profile||{},n=r.family||{},l=r.lifestyle||{},a=this.inferLifeStage(n.maritalStatus,n.hasChildren,l.ageRange);return{maritalStatus:n.maritalStatus||"未知",familySize:n.familyMembers||1,lifeStage:a}}inferLifeStage(t,r,n){return t?t==="已婚"&&r?"家庭期":t==="已婚"&&!r?"新婚期":t==="未婚"&&(n!=null&&n.includes("20-30"))?"职业起步期":t==="未婚"?"单身期":t==="离异"?"新生活期":"其他":"其他"}analyzeConsumptionBehavior(t){const r=t.profile||{},n=r.consumptionPattern||{},l=r.preferences||{};return{averageSpending:n.averagePerVisit||t.totalSpending/Math.max(t.visitCount,1),visitPattern:n.visitFrequency==="weekly"?"高频":n.visitFrequency==="monthly"?"常规":n.visitFrequency==="irregular"?"低频":"中频",servicePreferences:l.preferredServices||["护肤"],productAffinities:this.inferProductAffinities(t)}}inferProductAffinities(t){var a,o,i;const r=[],l=(t.profile||{}).preferences||{};return t.totalSpending>1e4&&(r.push("高端护肤品"),r.push("定制产品")),t.totalSpending>5e3&&(r.push("专业护肤线"),r.push("套装产品")),(a=l.skinConcerns)!=null&&a.includes("衰老")&&(r.push("抗衰老产品"),r.push("精华液")),(o=l.skinConcerns)!=null&&o.includes("敏感")&&(r.push("舒缓系列"),r.push("天然成分")),(i=l.skinConcerns)!=null&&i.includes("痘痘")&&(r.push("控油产品"),r.push("清洁系列")),r.length>0?r:["基础护肤"]}generateStaffMatchings(t,r){const l=(t.profile||{}).staffAffinity||{};return r.map(o=>{const i=this.calculateStaffMatchScore(t,o,l),c=this.generateMatchReasons(t,o,i),d=this.inferComplementarySkills(t,o);return{staffId:o.id,staffName:o.name,matchScore:i,matchReasons:c,complementarySkills:d}}).sort((o,i)=>i.matchScore-o.matchScore)}calculateStaffMatchScore(t,r,n){var g;let l=50;const a=n[r.id]||0;l+=a*.3;const c=((g=((t.profile||{}).preferences||{}).skinConcerns)==null?void 0:g[0])||"",d=r.specialty.some(m=>c.toLowerCase().includes(m.toLowerCase()))?20:0;l+=d;const p=r.rating/5*15;l+=p;const h=Math.max(0,(r.clientCount-20)*.5);l-=h;const x=this.evaluateBudgetMatch(t,r.totalRevenue/Math.max(r.clientCount,1));return l+=x,Math.min(100,Math.max(0,l))}evaluateBudgetMatch(t,r){const a=((t.profile||{}).consumptionPattern||{}).averagePerVisit||t.totalSpending/Math.max(t.visitCount,1),o=Math.abs(a-r);return Math.max(0,20-o/20)}generateMatchReasons(t,r,n){const l=[];return(t.profile||{}).preferences,r.rating>=4.8&&l.push("美容师评分高（"+r.rating+"星）"),r.specialty.length>0&&l.push("专业技能："+r.specialty.slice(0,2).join("、")),r.experience>=5&&l.push("经验丰富（"+r.experience+"年）"),r.clientCount>50&&l.push("服务客户多，口碑好"),n>=80?l.push("与您的需求高度匹配"):n>=60&&l.push("与您的需求匹配较好"),l.length>0?l:["推荐美容师"]}inferComplementarySkills(t,r){var i;const a=((i=((t.profile||{}).preferences||{}).skinConcerns)==null?void 0:i[0])||"",o=[];return a.includes("敏感")&&r.specialty.includes("敏感肌护理")&&o.push("敏感肌管理"),a.includes("衰老")&&r.specialty.includes("抗衰")&&o.push("抗衰老方案"),o.push(...r.specialty.slice(0,2)),[...new Set(o)]}generateAIInsights(t,r){const n=t.profile||{};return n.lifestyle,n.consumptionPattern,{personality:this.inferPersonality(t,r),needsAnalysis:this.analyzeNeeds(t,r),recommendedServices:this.recommendServices(t,r),purchaseMotivation:this.analyzePurchaseMotivation(t),retentionStrategies:this.generateRetentionStrategies(t,r)}}inferPersonality(t,r){(t.profile||{}).lifestyle;const l=t.status;return l==="vip"?"忠诚且有品味的客户，追求高质量服务和个性化体验":l==="active"?"活跃消费者，对美容护理有持续的热情和需求":l==="atrisk"?"需要关怀的客户，可能因为其他原因减少访问频率":l==="inactive"?"曾经的客户，需要重新激发对美容服务的兴趣":"潜在客户，需要开发"}analyzeNeeds(t,r){var o,i,c;const n=[],a=(t.profile||{}).preferences||{};return(o=a.skinConcerns)!=null&&o.includes("衰老")&&(n.push("抗衰老解决方案"),n.push("定期深层护理")),(i=a.skinConcerns)!=null&&i.includes("敏感")&&(n.push("温和护肤方案"),n.push("皮肤屏障修复")),(c=a.skinConcerns)!=null&&c.includes("痘痘")&&(n.push("清洁和控油"),n.push("痘痘快速消退")),r.visitFrequency==="weekly"&&(n.push("长期护肤规划"),n.push("会员权益优化")),t.totalSpending>1e4&&(n.push("定制护肤方案"),n.push("VIP 服务体验")),n.length>0?n:["基础护肤需求"]}recommendServices(t,r){var o,i;const n=[],a=(t.profile||{}).preferences||{};return(o=a.skinConcerns)!=null&&o.includes("衰老")?(n.push("深层抗衰护理"),n.push("提拉紧致疗程")):(i=a.skinConcerns)!=null&&i.includes("敏感")?(n.push("舒缓修护护理"),n.push("皮肤屏障修复")):(n.push("基础护肤套餐"),n.push("清洁护理")),t.visitCount>10&&(n.push("定制护肤方案"),n.push("季节护理套餐")),n}analyzePurchaseMotivation(t){const r=t.profile||{},n=r.preferences||{};return r.lifestyle,n.budget==="luxury"||t.totalSpending>1e4?"追求高端品质和专业护肤效果":t.appointmentCount>20?"对美容护肤有深度认知，定期维护肌肤":t.status==="vip"?"忠诚客户，信任美容师和服务质量":n.skinConcerns&&n.skinConcerns.length>0?"针对特定皮肤问题寻求解决方案":"追求美丽与自信，提升生活品质"}generateRetentionStrategies(t,r){const n=[],l=new Date(t.lastVisit),a=Math.floor((new Date().getTime()-l.getTime())/(1e3*60*60*24));return t.status==="atrisk"&&(n.push("定期关怀电话，了解客户需求"),n.push("提供特价优惠或免费体验服务"),n.push("邀请参加新品发布或特别活动")),(t.status==="active"||t.status==="vip")&&(n.push("建立VIP会员专属服务"),n.push("定期推送个性化护肤建议"),n.push("优先预约高评分美容师")),a>60&&(n.push("生日或周年纪念特别优惠"),n.push("免费皮肤诊断和方案设计")),n.push("建立转介绍奖励计划"),n.push("提供在线护肤咨询服务"),n}generateSegments(t,r){var i,c;const n=[],l=t.profile||{},a=l.preferences||{},o=l.consumptionPattern||{};return t.totalSpending>1e4?n.push("高价值客户"):t.totalSpending>5e3?n.push("中价值客户"):n.push("基础客户"),o.visitFrequency==="weekly"?n.push("高频客户"):o.visitFrequency==="monthly"?n.push("常规客户"):n.push("低频客户"),t.status==="vip"?n.push("VIP客户"):t.status==="atrisk"&&n.push("流失风险"),(i=a.skinConcerns)!=null&&i.includes("敏感")&&n.push("敏感肌用户"),(c=a.skinConcerns)!=null&&c.includes("衰老")&&n.push("抗衰需求"),[...new Set(n)]}}const Yf=new Qf,Xf=({customer:e,staffList:t=[],onClose:r})=>{const[n,l]=k.useState(!0),[a,o]=k.useState(null),[i,c]=k.useState("overview");return k.useEffect(()=>{(async()=>{l(!0);try{const p=Yf.analyzeCustomerProfile(e,t);o(p)}catch(p){console.error("分析客户画像失败:",p)}finally{l(!1)}})()},[e,t]),n?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"分析客户画像中..."})]})}):a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-200 flex items-center justify-center",children:s.jsx(ar,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),s.jsxs("p",{className:"text-gray-600",children:["客户ID: ",e.id]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:`inline-block px-3 py-1 rounded-full font-semibold ${e.status==="vip"?"bg-purple-100 text-purple-800":e.status==="active"?"bg-green-100 text-green-800":e.status==="atrisk"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status==="vip"?"VIP客户":e.status==="active"?"活跃":e.status==="atrisk"?"风险":"不活跃"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"总消费"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["¥",e.totalSpending]})]}),s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"访问次数"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.visitCount})]}),s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"预约次数"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.appointmentCount})]}),s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"人均消费"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["¥",Math.round(e.totalSpending/Math.max(e.visitCount,1))]})]})]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[s.jsx("button",{onClick:()=>c("overview"),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors ${i==="overview"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:"基本信息"}),s.jsxs("button",{onClick:()=>c("portrait"),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors flex items-center gap-2 ${i==="portrait"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[s.jsx(Qt,{className:"w-4 h-4"}),"客户画像"]}),s.jsxs("button",{onClick:()=>c("matching"),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors flex items-center gap-2 ${i==="matching"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[s.jsx(Sl,{className:"w-4 h-4"}),"美容师匹配"]}),s.jsxs("button",{onClick:()=>c("insights"),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors flex items-center gap-2 ${i==="insights"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[s.jsx(_e,{className:"w-4 h-4"}),"AI洞察"]})]}),i==="overview"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Qt,{className:"w-5 h-5 text-blue-600"}),"客户特征"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"肤质类型"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.characteristics.skinType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"消费预算"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.characteristics.preferredBudget==="luxury"?"豪华":a.characteristics.preferredBudget==="premium"?"高端":a.characteristics.preferredBudget==="standard"?"标准":"经济"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"访问频率"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.characteristics.visitFrequency==="weekly"?"每周":a.characteristics.visitFrequency==="biweekly"?"隔周":a.characteristics.visitFrequency==="monthly"?"每月":"不规律"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"主要关注"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.characteristics.primaryConcerns[0]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(re,{className:"w-5 h-5 text-green-600"}),"家庭背景"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"婚姻状态"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.familyBackground.maritalStatus})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"家庭成员"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[a.familyBackground.familySize," 人"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"生活阶段"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.familyBackground.lifeStage})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Me,{className:"w-5 h-5 text-purple-600"}),"消费行为分析"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"平均每次消费"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["¥",Math.round(a.consumptionBehavior.averageSpending)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"访问模式"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a.consumptionBehavior.visitPattern})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"服务偏好"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.consumptionBehavior.servicePreferences.map((d,p)=>s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:d},p))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"产品偏好"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.consumptionBehavior.productAffinities.map((d,p)=>s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:d},p))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(nr,{className:"w-5 h-5 text-orange-600"}),"客户细分标签"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.segments.map((d,p)=>s.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:d},p))})]})]}),i==="portrait"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"客户性格"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.aiInsights.personality})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-600"}),"客户需求分析"]}),s.jsx("ul",{className:"space-y-2",children:a.aiInsights.needsAnalysis.map((d,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(qe,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:d})]},p))})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Me,{className:"w-5 h-5 text-blue-600"}),"推荐服务"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.aiInsights.recommendedServices.map((d,p)=>s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:s.jsx("p",{className:"text-blue-900 font-medium",children:d})},p))})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"购买动机"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.aiInsights.purchaseMotivation})]})]}),i==="matching"&&s.jsx("div",{className:"space-y-4",children:a.staffMatchings.length>0?a.staffMatchings.map((d,p)=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.staffName}),s.jsx("p",{className:"text-sm text-gray-600",children:"匹配度"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:d.matchScore}),s.jsx("p",{className:"text-xs text-gray-600",children:"/100"})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:s.jsx("div",{className:`h-3 rounded-full transition-all ${d.matchScore>=80?"bg-green-600":d.matchScore>=60?"bg-blue-600":d.matchScore>=40?"bg-yellow-600":"bg-red-600"}`,style:{width:`${d.matchScore}%`}})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"匹配原因："}),s.jsx("ul",{className:"space-y-1",children:d.matchReasons.map((h,x)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx(Xe,{className:"w-4 h-4 text-yellow-500"}),h]},x))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"互补技能："}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.complementarySkills.map((h,x)=>s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:h},x))})]})]},p)):s.jsx("div",{className:"text-center text-gray-600 py-8",children:"暂无美容师数据"})}),i==="insights"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border-2 border-green-300 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(qe,{className:"w-5 h-5 text-green-600"}),"客户留存策略"]}),s.jsx("ul",{className:"space-y-3",children:a.aiInsights.retentionStrategies.map((d,p)=>s.jsxs("li",{className:"flex items-start gap-3 bg-white bg-opacity-50 p-3 rounded",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-600 text-white flex items-center justify-center text-sm font-bold flex-shrink-0",children:p+1}),s.jsx("span",{className:"text-gray-700",children:d})]},p))})]})})]}):s.jsx("div",{className:"text-center text-gray-600 py-8",children:"无法分析客户数据"})},Zf=()=>{const{customers:e,addCustomer:t,updateCustomer:r,deleteCustomer:n,searchCustomers:l}=Xp(),{appointments:a,addAppointment:o,updateAppointment:i,deleteAppointment:c}=Zp(),{staff:d}=_i(),{showToast:p}=Yl(),[h,x]=k.useState("customers"),[g,m]=k.useState(""),[v,y]=k.useState("all"),[u,f]=k.useState("all"),[b,S]=k.useState(!1),[C,T]=k.useState(null),[w,I]=k.useState(!1),[F,N]=k.useState(!1),[j,P]=k.useState(null),[O,L]=k.useState([]),[U,q]=k.useState([]),M=(g.trim()?l(g):e).filter(R=>v==="all"?!0:R.status===v),z=R=>{switch(R){case"active":return"bg-green-100 text-green-800";case"vip":return"bg-purple-100 text-purple-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},B=R=>{switch(R){case"active":return"活跃";case"vip":return"贵宾";case"inactive":return"不活跃";case"atrisk":return"风险客户";default:return R}},W=a.filter(R=>u==="all"?!0:R.status===u),G=R=>{switch(R){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ke=R=>{switch(R){case"pending":return"待确认";case"confirmed":return"已确认";case"completed":return"已完成";case"cancelled":return"已取消";default:return R}};a.length,a.filter(R=>R.status==="pending").length,a.filter(R=>R.status==="confirmed").length,a.filter(R=>R.status==="completed").length,a.filter(R=>R.status==="cancelled").length,a.filter(R=>new Date(R.date)>new Date&&R.status!=="cancelled").slice(0,5);const je=()=>{T(null),S(!0)},dt=R=>{T(R),S(!0)},tt=()=>{T(null),S(!0)},Rt=R=>{T(R),S(!0)},As=()=>{S(!1),T(null)},mn=async R=>{I(!0);try{if(h==="customers"){const pe=R;C&&"phone"in C?(r(C.id,pe),p("success",`已更新客户 ${pe.name}`,3e3)):(t(pe),p("success",`已添加新客户 ${pe.name}`,3e3))}else{const pe=R;C&&"service"in C?(i(C.id,pe),p("success","已更新预约",3e3)):(o(pe),p("success","已添加新预约",3e3))}As()}catch{p("error","操作失败，请重试",3e3)}finally{I(!1)}},pn=(R,pe)=>{confirm(`确定要删除客户 ${pe} 吗？`)&&(n(R),p("success",`已删除客户 ${pe}`,3e3))},E=R=>{confirm("确定要删除这个预约吗？")&&(c(R),p("success","已删除预约",3e3))},Y=R=>{P(R);const pe=localStorage.getItem("onSiteAppointments"),hn=pe?JSON.parse(pe).filter(Xl=>Xl.customerName===R.name):[],Di=localStorage.getItem("onSiteServiceHistory"),n0=Di?JSON.parse(Di).filter(Xl=>Xl.customerName===R.name):[];L(hn),q(n0),N(!0)},se=R=>{P(R),x("profile")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"客户管理"}),s.jsx("p",{className:"text-green-600 mt-1",children:h==="customers"?`共 ${e.length} 名客户`:h==="appointments"?`共 ${a.length} 个预约`:h==="instore"?`共 ${a.filter(R=>R.service==="instore").length} 个到店服务`:h==="onsite"?`共 ${a.filter(R=>R.service==="onsite").length} 个上门服务`:"预约操作与统计"})]}),(h==="customers"||h==="appointments")&&s.jsxs("button",{onClick:h==="customers"?je:tt,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center gap-2",children:[s.jsx(rs,{className:"w-5 h-5"}),"新增"]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[s.jsxs("button",{onClick:()=>x("customers"),className:`px-4 py-2 font-medium whitespace-nowrap ${h==="customers"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[s.jsx(re,{className:"w-4 h-4 inline mr-2"}),"客户"]}),s.jsxs("button",{onClick:()=>x("appointments"),className:`px-4 py-2 font-medium whitespace-nowrap ${h==="appointments"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[s.jsx(Pt,{className:"w-4 h-4 inline mr-2"}),"预约"]}),s.jsxs("button",{onClick:()=>x("instore"),className:`px-4 py-2 font-medium whitespace-nowrap ${h==="instore"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[s.jsx(tn,{className:"w-4 h-4 inline mr-2"}),"到店"]}),s.jsxs("button",{onClick:()=>x("onsite"),className:`px-4 py-2 font-medium whitespace-nowrap ${h==="onsite"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[s.jsx(gs,{className:"w-4 h-4 inline mr-2"}),"上门"]}),s.jsxs("button",{onClick:()=>x("profile"),className:`px-4 py-2 font-medium whitespace-nowrap ${h==="profile"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[s.jsx(Qt,{className:"w-4 h-4 inline mr-2"}),"客户画像"]})]}),h==="customers"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3 bg-white rounded-lg border border-green-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:g,onChange:R=>m(R.target.value),placeholder:"搜索客户名称或电话...",className:"flex-1 px-3 py-2 border border-green-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","active","vip","inactive"].map(R=>s.jsx("button",{onClick:()=>y(R),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${v===R?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R==="all"?"全部":R==="active"?"活跃":R==="vip"?"VIP":"不活跃"},R))})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-green-50",children:[s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"名称"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"电话"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"状态"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"总消费"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"访问"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"操作"})]})}),s.jsx("tbody",{children:M.map(R=>s.jsxs("tr",{className:"border-t border-green-100 hover:bg-green-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:R.name}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:R.phone}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(R.status)}`,children:B(R.status)})}),s.jsxs("td",{className:"px-6 py-3 text-sm text-gray-900",children:["￥",R.totalSpending]}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:R.visitCount}),s.jsxs("td",{className:"px-6 py-3",children:[s.jsx("button",{onClick:()=>dt(R),className:"text-green-600 hover:text-green-700 mr-2",children:s.jsx(Cl,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>pn(R.id,R.name),className:"text-red-600 hover:text-red-700",children:s.jsx(Ss,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Y(R),className:"text-blue-600 hover:text-blue-700 ml-2",children:s.jsx(gs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>se(R),className:"text-purple-600 hover:text-purple-700 ml-2",children:s.jsx(Qt,{className:"w-4 h-4"})})]})]},R.id))})]}),M.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-600",children:s.jsx("p",{children:"暂无匹配的客户"})})]})]}),h==="appointments"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 bg-white rounded-lg border border-green-200 p-4",children:s.jsx("div",{className:"flex gap-3 flex-wrap",children:["all","pending","confirmed","completed","cancelled"].map(R=>s.jsx("button",{onClick:()=>f(R),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${u===R?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R==="all"?"全部":R==="pending"?"待确认":R==="confirmed"?"已确认":R==="completed"?"已完成":"已取消"},R))})}),s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-green-50",children:[s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"客户"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"美容师"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"服务项目"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"日期时间"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"状态"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"价格"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"操作"})]})}),s.jsx("tbody",{children:W.map(R=>s.jsxs("tr",{className:"border-t border-green-100 hover:bg-green-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:R.customerName}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:R.staffName}),s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:R.service}),s.jsxs("td",{className:"px-6 py-3 text-sm text-gray-600",children:[R.date," ",R.time]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${G(R.status)}`,children:Ke(R.status)})}),s.jsxs("td",{className:"px-6 py-3 text-sm text-gray-900",children:["￥",R.price]}),s.jsxs("td",{className:"px-6 py-3",children:[s.jsx("button",{onClick:()=>Rt(R),className:"text-green-600 hover:text-green-700 mr-2",children:s.jsx(Cl,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(R.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Ss,{className:"w-4 h-4"})})]})]},R.id))})]}),W.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-600",children:s.jsx("p",{children:"暂无匹配的预约"})})]})]}),h==="instore"&&s.jsx(Wf,{}),h==="onsite"&&s.jsx(Gf,{mode:"admin"}),h==="profile"&&s.jsx("div",{children:j?s.jsx(Xf,{customer:j,staffList:d}):s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[s.jsx(Qt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"请从左侧客户列表中选择一个客户来查看其详细的画像分析"})]})}),F&&j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[j.name," - 上门服务记录"]}),s.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("span",{className:"text-2xl",children:"×"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Pt,{className:"w-5 h-5 text-green-600"}),"上门预约 (",O.length,")"]}),O.length>0?s.jsx("div",{className:"space-y-2",children:O.map(R=>s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:R.serviceType}),s.jsxs("p",{className:"text-sm text-gray-600",children:[R.appointmentDate," ",R.appointmentTime," |",s.jsxs("span",{className:"ml-2",children:["员工: ",R.staffName]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["地址: ",R.serviceAddress]}),s.jsxs("p",{className:"text-sm font-semibold text-green-600 mt-1",children:["¥",R.price," | ",R.duration,"分钟"]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${R.status==="confirmed"?"bg-blue-100 text-blue-800":R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.status==="confirmed"?"已确认":R.status==="pending"?"待确认":R.status==="completed"?"已完成":"已取消"})]})},R.id))}):s.jsx("p",{className:"text-gray-600 text-center py-4",children:"暂无上门预约"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(qe,{className:"w-5 h-5 text-purple-600"}),"上门历史 (",U.length,")"]}),U.length>0?s.jsx("div",{className:"space-y-2",children:U.map(R=>s.jsx("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:R.serviceType}),s.jsxs("p",{className:"text-sm text-gray-600",children:["完成时间: ",R.completedDate," |",s.jsxs("span",{className:"ml-2",children:["员工: ",R.staffName]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["地址: ",R.serviceAddress]}),s.jsxs("p",{className:"text-sm font-semibold text-purple-600 mt-1",children:["¥",R.price," | ",R.duration,"分钟"]}),R.feedback&&s.jsxs("p",{className:"text-sm text-gray-700 mt-2 italic",children:["反馈: ",R.feedback]})]}),s.jsx("div",{className:"flex items-center gap-1 whitespace-nowrap",children:Array.from({length:R.rating}).map((pe,hn)=>s.jsx("span",{className:"text-yellow-400"},hn))})]})},R.id))}):s.jsx("p",{className:"text-gray-600 text-center py-4",children:"暂无上门历史"})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200 sticky bottom-0 bg-white",children:s.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors",children:"关闭"})})]})}),s.jsx(s0,{isOpen:b,onClose:As,title:C?"编辑":"新增",children:h==="customers"?s.jsx(qf,{initialData:C,onSubmit:mn,onCancel:As,isLoading:w}):s.jsx(Vf,{initialData:C,onSubmit:mn,onCancel:As,isLoading:w})})]})},ey=()=>{const{showToast:e}=Yl(),[t,r]=k.useState("editor"),[n,l]=k.useState([{id:"1",name:"默认小程序装修",description:"专业美容院小程序页面",isPublished:!0,createdAt:new Date().toISOString(),components:[{id:"banner-1",type:"banner",name:"轮播图",enabled:!0,config:{images:["https://images.unsplash.com/photo-1596462502278-af242a95b928?w=800&h=300&fit=crop","https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=800&h=300&fit=crop"],height:"200px",autoPlay:!0}},{id:"notice-1",type:"notice",name:"公告栏",enabled:!0,config:{content:"欢迎来到我们的美容院小程序！",bgColor:"#FFF3CD",textColor:"#856404"}},{id:"category-1",type:"category",name:"分类导航",enabled:!0,config:{categories:["护肤","美甲","美睫","医美","养生","产品"],columns:3,style:"grid"}},{id:"product-1",type:"product",name:"热卖服务",enabled:!0,config:{title:"热卖项目",showCount:4,columns:2,sortBy:"popular"}}]}]),[a,o]=k.useState(n[0]),[i,c]=k.useState(null),[d,p]=k.useState("mobile"),[h,x]=k.useState({}),g=[{id:"template-1",name:"简洁风格",description:"适合所有类型美容院",preview:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=200&h=300&fit=crop",components:[{id:"banner",type:"banner",name:"轮播图",enabled:!0,config:{images:["https://images.unsplash.com/photo-1596462502278-af242a95b928?w=800&h=300&fit=crop"],height:"200px",autoPlay:!0}},{id:"notice",type:"notice",name:"公告栏",enabled:!0,config:{content:"欢迎来到我们的美容院！",bgColor:"#FFF3CD",textColor:"#856404"}}]},{id:"template-2",name:"奢华风格",description:"高端美妆品牌推荐",preview:"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=200&h=300&fit=crop",components:[{id:"banner-luxury",type:"banner",name:"轮播图",enabled:!0,config:{images:["https://images.unsplash.com/photo-1596462502278-af242a95b928?w=800&h=300&fit=crop","https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=800&h=300&fit=crop"],height:"250px",autoPlay:!0}},{id:"product-luxury",type:"product",name:"奢华产品",enabled:!0,config:{title:"特选品牌",showCount:6,columns:3,sortBy:"price"}}]},{id:"template-3",name:"完整功能",description:"包含所有功能组件",preview:"https://images.unsplash.com/photo-1607346256330-dee4af15f7cb?w=200&h=300&fit=crop",components:[]}],m=[{type:"banner",name:"轮播图",icon:Ro,description:"展示精美图片轮播"},{type:"notice",name:"公告栏",icon:Xx,description:"发布重要通知"},{type:"category",name:"分类导航",icon:Bx,description:"服务分类导航"},{type:"product",name:"产品展示",icon:en,description:"展示产品和服务"},{type:"coupon",name:"优惠券",icon:kl,description:"发布优惠信息"},{type:"text",name:"文本块",icon:Zx,description:"自定义文本内容"},{type:"button",name:"按钮",icon:rs,description:"可点击按钮"}],v=()=>{i&&(o({...a,components:a.components.map(u=>u.id===i.id?{...u,config:h}:u)}),c(null),x({}),e("success","组件已保存！",2e3))},y=u=>{c(u),x(u.config||{})};if(t==="editor")return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg p-8 text-white",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:" 小程序店铺装修"}),s.jsx("p",{className:"text-lg opacity-90",children:"专业的微信小程序门店展示页面编辑器"})]}),s.jsxs("div",{className:"flex gap-2 justify-end mb-4",children:[s.jsxs("button",{onClick:()=>r("preview"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors",children:[s.jsx(To,{className:"w-4 h-4"}),"预览页面"]}),s.jsxs("button",{onClick:()=>r("template"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2 transition-colors",children:[s.jsx(kl,{className:"w-4 h-4"}),"选择模板"]}),s.jsxs("button",{onClick:()=>r("manage"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[s.jsx(Ep,{className:"w-4 h-4"}),"管理装修"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sticky top-4",children:[s.jsxs("h2",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(_e,{className:"w-5 h-5 text-blue-600"}),"组件库"]}),s.jsx("div",{className:"space-y-2",children:m.map(u=>{const f=u.icon;return s.jsx("button",{onClick:()=>{const b={id:`${u.type}-${Date.now()}`,type:u.type,name:u.name,enabled:!0,config:u.type==="banner"?{images:[],height:"200px",autoPlay:!0}:u.type==="notice"?{content:"",bgColor:"#FFF3CD",textColor:"#856404"}:u.type==="category"?{categories:[],columns:3,style:"grid"}:u.type==="product"?{title:"产品展示",showCount:4,columns:2,sortBy:"popular"}:u.type==="coupon"?{title:"优惠券",discount:"10%",expiry:""}:u.type==="text"?{content:"请输入文本内容",fontSize:"16px"}:u.type==="button"?{text:"点击按钮",bgColor:"#3B82F6",textColor:"#FFFFFF"}:{}};o({...a,components:[...a.components,b]}),e("success",`已添加 ${u.name}`,2e3)},className:"w-full p-3 border-2 border-dashed border-blue-300 rounded-lg hover:bg-blue-50 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f,{className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-600 text-sm",children:u.name}),s.jsx("p",{className:"text-xs text-gray-600",children:u.description})]})]})},u.type)})})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("h2",{className:"font-bold text-gray-900 mb-4",children:["装修内容：",a.name]}),s.jsx("div",{className:"space-y-3 mb-6 max-h-96 overflow-y-auto",children:a.components.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:s.jsx("p",{children:"从左侧组件库中点击添加组件"})}):a.components.map(u=>s.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${(i==null?void 0:i.id)===u.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>y(u),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("input",{type:"checkbox",checked:u.enabled,onChange:f=>{o({...a,components:a.components.map(b=>b.id===u.id?{...b,enabled:f.target.checked}:b)})},className:"w-4 h-4",onClick:f=>f.stopPropagation()}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:u.name}),s.jsx("p",{className:"text-xs text-gray-500",children:u.type})]})]}),s.jsx("button",{onClick:f=>{f.stopPropagation(),o({...a,components:a.components.filter(b=>b.id!==u.id)}),(i==null?void 0:i.id)===u.id&&(c(null),x({})),e("success","已删除组件",2e3)},className:"p-2 text-red-600 hover:bg-red-50 rounded",children:s.jsx(Ss,{className:"w-4 h-4"})})]})},u.id))}),i&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-bold text-gray-900",children:["编辑 ",i.name]}),s.jsx("button",{onClick:()=>{c(null),x({})},className:"p-1 hover:bg-gray-100 rounded",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),i.type==="banner"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"轮播高度"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:h.height||"200px",onChange:u=>x({...h,height:u.target.value}),children:[s.jsx("option",{value:"150px",children:"150px - 小"}),s.jsx("option",{value:"200px",children:"200px - 中"}),s.jsx("option",{value:"250px",children:"250px - 大"}),s.jsx("option",{value:"300px",children:"300px - 超大"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"自动播放"}),s.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:h.autoPlay||!1,onChange:u=>x({...h,autoPlay:u.target.checked})})]})]}),i.type==="notice"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"公告内容"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,value:h.content||"",onChange:u=>x({...h,content:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"背景色"}),s.jsx("input",{type:"color",className:"w-full h-10 rounded border border-gray-300",value:h.bgColor||"#FFF3CD",onChange:u=>x({...h,bgColor:u.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"文字色"}),s.jsx("input",{type:"color",className:"w-full h-10 rounded border border-gray-300",value:h.textColor||"#856404",onChange:u=>x({...h,textColor:u.target.value})})]})]})]}),i.type==="category"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"列数"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:h.columns||3,onChange:u=>x({...h,columns:parseInt(u.target.value)}),children:[s.jsx("option",{value:"2",children:"2列"}),s.jsx("option",{value:"3",children:"3列"}),s.jsx("option",{value:"4",children:"4列"})]})]})}),i.type==="product"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"标题"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:h.title||"产品展示",onChange:u=>x({...h,title:u.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"展示数量"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:h.showCount||4,onChange:u=>x({...h,showCount:parseInt(u.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"列数"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:h.columns||2,onChange:u=>x({...h,columns:parseInt(u.target.value)}),children:[s.jsx("option",{value:"1",children:"1列"}),s.jsx("option",{value:"2",children:"2列"}),s.jsx("option",{value:"3",children:"3列"})]})]})]}),i.type==="text"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"文本内容"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:4,value:h.content||"",onChange:u=>x({...h,content:u.target.value})})]})}),i.type==="button"&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"按钮文字"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:h.text||"点击按钮",onChange:u=>x({...h,text:u.target.value})})]})}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"保存配置"}),s.jsx("button",{onClick:()=>{c(null),x({})},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"取消"})]})]})]})})]}),s.jsx("div",{className:"flex gap-2 justify-end",children:s.jsxs("button",{onClick:()=>{l(n.map(u=>u.id===a.id?a:u)),e("success","装修已保存！",2e3)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center gap-2 transition-colors",children:[s.jsx(Vl,{className:"w-4 h-4"}),"保存装修"]})})]});if(t==="preview"){const u=({component:f})=>{var b;switch(f.type){case"banner":return s.jsx("div",{children:s.jsx("img",{src:((b=f.config.images)==null?void 0:b[0])||"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=400&h=200&fit=crop",alt:"banner",className:"w-full rounded-lg object-cover",style:{height:f.config.height||"200px"}})});case"notice":return s.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:f.config.bgColor||"#FFF3CD",borderColor:f.config.textColor||"#856404"},children:s.jsx("p",{className:"text-sm font-medium",style:{color:f.config.textColor||"#856404"},children:f.config.content||"公告内容"})});case"category":return s.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${f.config.columns||3}, 1fr)`,gap:"8px"},children:(f.config.categories||["护肤","美甲","美睫"]).slice(0,6).map((S,C)=>s.jsx("button",{className:"p-3 bg-gray-100 rounded-lg text-sm font-medium hover:bg-gray-200",children:S},C))});case"product":return s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:f.config.title||"产品展示"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${f.config.columns||2}, 1fr)`,gap:"12px"},children:[1,2,3,4,5,6].slice(0,f.config.showCount||4).map(S=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("div",{className:"bg-gray-200 h-24 rounded mb-2"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["产品 ",S]}),s.jsx("p",{className:"text-xs text-gray-600",children:"¥99"})]},S))})]});case"coupon":return s.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 p-4 rounded-lg border-2 border-dashed border-red-300",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.config.discount||"优惠"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.config.title||"优惠券"})]});case"text":return s.jsx("div",{className:"text-gray-700 whitespace-pre-wrap",children:f.config.content||"文本内容"});case"button":return s.jsx("button",{className:"w-full py-2 px-4 rounded-lg font-medium text-white",style:{backgroundColor:f.config.bgColor||"#3B82F6"},children:f.config.text||"点击按钮"});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"️ 预览页面"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>p("mobile"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${d==="mobile"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:[s.jsx(Kx,{className:"w-4 h-4"}),"手机"]}),s.jsxs("button",{onClick:()=>p("desktop"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${d==="desktop"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:[s.jsx(Vx,{className:"w-4 h-4"}),"桌面"]}),s.jsx("button",{onClick:()=>r("editor"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"返回编辑"})]})]}),s.jsx("div",{className:`mx-auto bg-white rounded-lg shadow-xl overflow-hidden ${d==="mobile"?"max-w-sm border-8 border-gray-800":"max-w-5xl"}`,children:s.jsx("div",{className:"p-6 space-y-6",children:a.components.filter(f=>f.enabled).length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:s.jsx("p",{children:"还没有添加任何组件，请返回编辑器添加组件"})}):a.components.filter(f=>f.enabled).map(f=>s.jsx("div",{children:s.jsx(u,{component:f})},f.id))})})]})}return t==="template"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" 选择装修模板"}),s.jsx("button",{onClick:()=>r("editor"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"返回"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:g.map(u=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("img",{src:u.preview,alt:u.name,className:"w-full h-40 object-cover"}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:u.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:u.description}),s.jsx("button",{onClick:()=>{o({...a,components:u.components.map(f=>({...f,id:`${f.type}-${Date.now()}-${Math.random()}`}))}),r("editor"),e("success","模板已应用！",2e3)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium transition-colors",children:"使用此模板"})]})]},u.id))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"️ 管理装修方案"}),s.jsx("button",{onClick:()=>{o({id:`deco-${Date.now()}`,name:"新装修方案",description:"",components:[],createdAt:new Date().toISOString(),isPublished:!1}),r("editor")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"新建装修"})]}),n.length===0?s.jsx("div",{className:"text-center py-12 text-gray-500",children:s.jsx("p",{children:'还没有装修方案，点击"新建装修"创建一个'})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(u=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:u.name}),s.jsx("p",{className:"text-sm text-gray-600",children:u.description||"暂无描述"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[u.components.length," 个组件"]})]}),u.isPublished&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"已发布"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{o(u),r("editor")},className:"flex-1 px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 text-sm font-medium transition-colors",children:"编辑"}),s.jsx("button",{onClick:()=>{o(u),r("preview")},className:"flex-1 px-4 py-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 text-sm font-medium transition-colors",children:"预览"}),s.jsx("button",{onClick:()=>{l(n.filter(f=>f.id!==u.id)),e("success","已删除",2e3)},className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",children:s.jsx(Ss,{className:"w-4 h-4"})})]})]},u.id))})]})},ty=()=>{const{products:e,addProduct:t,updateProduct:r,deleteProduct:n}=e0(),{showToast:l}=Yl(),[a,o]=k.useState(!1),[i,c]=k.useState(null),[d,p]=k.useState("all"),[h,x]=k.useState({}),[g,m]=k.useState({name:"",category:"护肤品",stock:0,price:0,cost:0,sold:0,description:"",image:""}),v=["护肤品","美甲用品","美睫用品","SPA用品","化妆工具","其他"],y=bu.useRef({}),u=(N,j,P)=>{x(O=>({...O,[N]:{...O[N]||{},[j]:P}})),y.current[`${N}-${j}`]&&clearTimeout(y.current[`${N}-${j}`]),y.current[`${N}-${j}`]=setTimeout(async()=>{try{j==="stock"?(await r(N,{stock:P}),l("success","✅ 库存已更新")):j==="price"&&(await r(N,{price:P}),l("success","✅ 价格已更新"))}catch{l("error","更新失败")}},500)},f=(N,j,P)=>{var O;return((O=h[N])==null?void 0:O[j])??P},b=async()=>{if(!g.name||!g.category){l("error","请填写产品名称和分类");return}try{await t(g),l("success",`✅ 产品 "${g.name}" 已上架！`),C()}catch{l("error","添加产品失败")}},S=async(N,j)=>{if(confirm(`确认要删除 "${j}" 吗？`))try{await n(N),l("success",`✅ 产品 "${j}" 已删除`)}catch{l("error","删除产品失败")}},C=()=>{m({name:"",category:"护肤品",stock:0,price:0,cost:0,sold:0,description:"",image:""}),o(!1),c(null)},T=d==="all"?e:e.filter(N=>N.category===d),w=e.reduce((N,j)=>N+j.price*j.stock,0),I=e.filter(N=>N.stock<=20).length,F=e.length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-green-900 flex items-center gap-2",children:[s.jsx(Me,{className:"w-8 h-8"}),"商城管理"]}),s.jsx("p",{className:"text-green-600 mt-1",children:"管理店铺商品，更新库存和价格"})]}),s.jsxs("button",{onClick:()=>o(!0),className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-600 transition",children:[s.jsx(rs,{className:"w-5 h-5"}),"上架新产品"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"商品总数"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:F})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"库存总值"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-2",children:["¥",w.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-6",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"库存预警"}),s.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:I}),s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"库存≤20件的商品"})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg transition ${d==="all"?"bg-green-500 text-white":"bg-white border border-green-200 text-green-600 hover:bg-green-50"}`,children:"全部分类"}),v.map(N=>s.jsx("button",{onClick:()=>p(N),className:`px-4 py-2 rounded-lg transition ${d===N?"bg-green-500 text-white":"bg-white border border-green-200 text-green-600 hover:bg-green-50"}`,children:N},N))]}),a&&s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"上架新产品"}),s.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Tt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"产品名称",value:g.name,onChange:N=>m({...g,name:N.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("select",{value:g.category,onChange:N=>m({...g,category:N.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:v.map(N=>s.jsx("option",{value:N,children:N},N))}),s.jsx("input",{type:"number",placeholder:"库存数量",value:g.stock,onChange:N=>m({...g,stock:parseInt(N.target.value)||0}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"number",placeholder:"销售价格",value:g.price,onChange:N=>m({...g,price:parseFloat(N.target.value)||0}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"number",placeholder:"成本价格",value:g.cost,onChange:N=>m({...g,cost:parseFloat(N.target.value)||0}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"text",placeholder:"产品图片URL",value:g.image,onChange:N=>m({...g,image:N.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("textarea",{placeholder:"产品描述",value:g.description,onChange:N=>m({...g,description:N.target.value}),rows:3,className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs("button",{onClick:b,className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2",children:[s.jsx(Vl,{className:"w-4 h-4"}),"上架产品"]}),s.jsx("button",{onClick:C,className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 transition",children:"取消"})]})]}),s.jsx("div",{className:"space-y-4",children:T.length===0?s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-8 text-center",children:[s.jsx(Me,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"暂无产品"})]}):T.map(N=>s.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-6 hover:shadow-md transition",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("img",{src:N.image,alt:N.name,className:"w-24 h-24 object-cover rounded-lg",onError:j=>{j.currentTarget.src="https://via.placeholder.com/100?text=No+Image"}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N.name}),s.jsx("p",{className:"text-sm text-gray-500",children:N.category})]}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N.stock>50?"bg-green-100 text-green-700":N.stock>20?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:["库存: ",N.stock]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:N.description}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500",children:"库存数量"}),s.jsx("div",{className:"flex items-center gap-1 mt-1",children:s.jsx("input",{type:"number",value:f(N.id,"stock",N.stock),onChange:j=>u(N.id,"stock",parseInt(j.target.value)||0),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500",children:"销售价格"}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("span",{className:"text-sm",children:"¥"}),s.jsx("input",{type:"number",value:f(N.id,"price",N.price),onChange:j=>u(N.id,"price",parseFloat(j.target.value)||0),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500",children:"已售"}),s.jsx("div",{className:"mt-1 text-lg font-bold text-green-600",children:N.sold})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500",children:"库存值"}),s.jsxs("div",{className:"mt-1 text-lg font-bold text-blue-600",children:["¥",(N.price*N.stock).toLocaleString()]})]})]}),N.stock<=20&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded mb-3",children:[s.jsx(Zt,{className:"w-4 h-4"}),"库存不足，请及时补货！"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>S(N.id,N.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"删除产品",children:s.jsx(Ss,{className:"w-5 h-5"})})})]})},N.id))})]})};class sy{constructor(){ce(this,"apiEndpoint","https://www.runninghub.cn/task/openapi/ai-app/run");ce(this,"apiTimeout",15e3);ce(this,"fallbackMode",!0);ce(this,"apiKey","");ce(this,"webappId","1877265245566922753")}async generatePoster(t){const r=Date.now();try{if(!this.apiKey)throw new Error("未配置 API 密钥。请设置 REACT_APP_RUNNINGHUB_API_KEY 环境变量。");const n=this.buildAPIPayload(t);console.log(" 调用 RunningHub API...",{endpoint:this.apiEndpoint,webappId:this.webappId,nodeCount:n.nodeInfoList.length});const l=await this.callRemoteAPI(n),a=Date.now()-r;return l.code===0&&l.data?(console.log(" API 调用成功",{duration:a,taskId:l.data.taskId,taskStatus:l.data.taskStatus}),{success:!0,data:{taskId:l.data.taskId,taskStatus:l.data.taskStatus,netWssUrl:l.data.netWssUrl,clientId:l.data.clientId,format:"vertical",size:{width:1080,height:1440},design:{style:t.style||"modern",elements:["generated_by_ai"]}},meta:{source:"api",processingTime:a}}):(console.warn("️ API 返回错误:",l.msg||l.error),{success:!1,error:{code:String(l.code||"UNKNOWN_ERROR"),message:l.msg||"海报生成失败"}})}catch(n){console.error(" API 调用失败:",n.message);const l=Date.now()-r;return this.fallbackMode?(console.log(" 切换到离线模式..."),this.fallbackGeneratePoster(t,l)):{success:!1,error:{code:"API_ERROR",message:n.message}}}}async callRemoteAPI(t){var l,a;const r=new AbortController,n=setTimeout(()=>r.abort(),this.apiTimeout);try{console.log(" 发送请求到 RunningHub API:",this.apiEndpoint);const o=await te.post(this.apiEndpoint,t,{timeout:this.apiTimeout,signal:r.signal,headers:{"Content-Type":"application/json"}});return clearTimeout(n),console.log(" 收到 API 响应:",{status:o.status,code:(l=o.data)==null?void 0:l.code,msg:(a=o.data)==null?void 0:a.msg}),o.data}catch(o){throw clearTimeout(n),o.code==="ECONNABORTED"?new Error("API 请求超时 (15秒)"):o}}buildAPIPayload(t){const{content:r="",style:n="modern"}=t,l=this.generatePrompt(r,t.type||"general",n);return{webappId:this.webappId,apiKey:this.apiKey,nodeInfoList:[{nodeId:"122",fieldName:"prompt",fieldValue:l},{nodeId:"123",fieldName:"style",fieldValue:n}]}}generatePrompt(t,r,n){const l={modern:"现代、简洁、专业",elegant:"优雅、高端、精致",playful:"活泼、开心、充满活力",minimalist:"简约、纯净、高效"},a={promotion:"促销活动",product:"产品展示",skincare:"护肤服务",event:"活动宣传",general:"商业推广"},o=l[n]||"专业的",i=a[r]||"商业推广";return`生成一个${o}的${i}海报。

内容: ${t}

设计要求:
- 视觉吸引力强
- 信息清晰易读
- 专业商业级设计
- 配色协调美观
- 适合微信分享和网页展示
- 竖版 1080x1440 格式
- 无其他品牌名称`}fallbackGeneratePoster(t,r){return{success:!1,error:{code:"API_UNAVAILABLE",message:"RunningHub API 暂时不可用。请检查网络连接和 API 密钥配置。"},meta:{source:"local",processingTime:r}}}async getAPIStatus(){var t;try{if(!this.apiKey)return{available:!1,status:"未配置 API 密钥",lastCheck:new Date().toISOString()};const r=this.buildAPIPayload({content:"测试",type:"general"}),n=await te.post(this.apiEndpoint,r,{timeout:5e3,headers:{"Content-Type":"application/json"}}),l=((t=n.data)==null?void 0:t.code)===0||n.status===200;return{available:l,status:l?"在线":"错误",lastCheck:new Date().toISOString()}}catch(r){return{available:!1,status:r.code==="ECONNABORTED"?"超时":"离线",lastCheck:new Date().toISOString()}}}setAPIKey(t){this.apiKey=t,console.log(" API 密钥已设置")}setWebappId(t){this.webappId=t,console.log(" WebApp ID 已设置")}setTimeout(t){this.apiTimeout=t}setAPIFallbackMode(t){this.fallbackMode=t,console.log(` 降级模式: ${t?"启用":"禁用"}`)}}const ry=new sy;class ny{constructor(){ce(this,"unsplashAccessKey","demo");ce(this,"pixabayApiKey","demo");ce(this,"pexelsApiKey","demo");ce(this,"themeKeywordMap",{"seasonal-promotion":["季节促销","春夏秋冬","限时折扣","季节特卖","促销活动"],"new-product":["新品上市","产品展示","护肤品","美容产品","新货"],"skincare-routine":["护肤方案","美容护肤","肌肤护理","护肤工具","美容仪"],"member-card":["会员卡","贵宾卡","权益","特权","会员专享"],"event-invitation":["活动邀请","盛大活动","聚会","派对","庆典"],"course-promotion":["美容课程","培训课程","教学","学习","培训班"],"flash-sale":["限时秒杀","闪购","抢购","倒计时","快速购买"],"referral-bonus":["推荐返利","分享","转介","奖励","赠送"]})}getKeywordsForTheme(t){return this.themeKeywordMap[t]||[t]}async searchUnsplash(t,r=10){try{const n=await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(t)}&per_page=${r}&client_id=${this.unsplashAccessKey}`);return n.ok?(await n.json()).results.map(a=>({id:`unsplash-${a.id}`,title:a.description||a.alt_description||t,description:a.alt_description||"",imageUrl:a.urls.regular,thumbnailUrl:a.urls.thumb,source:"unsplash",attribution:`Photo by ${a.user.name} on Unsplash`,license:"Unsplash License",width:a.width,height:a.height})):(console.warn("Unsplash API 调用失败，使用本地数据"),this.getLocalMockImages("unsplash",t))}catch(n){return console.error("Unsplash 搜索失败:",n),this.getLocalMockImages("unsplash",t)}}async searchPixabay(t,r=10){try{const n=await fetch(`https://pixabay.com/api/?key=${this.pixabayApiKey}&q=${encodeURIComponent(t)}&per_page=${r}&image_type=photo`);return n.ok?((await n.json()).hits||[]).map(a=>({id:`pixabay-${a.id}`,title:t,description:"",imageUrl:a.largeImageURL,thumbnailUrl:a.previewURL,source:"pixabay",attribution:`Image by ${a.user} on Pixabay`,license:"Pixabay License",width:a.imageWidth,height:a.imageHeight})):(console.warn("Pixabay API 调用失败，使用本地数据"),this.getLocalMockImages("pixabay",t))}catch(n){return console.error("Pixabay 搜索失败:",n),this.getLocalMockImages("pixabay",t)}}async searchPexels(t,r=10){try{const n=await fetch(`https://api.pexels.com/v1/search?query=${encodeURIComponent(t)}&per_page=${r}`,{headers:{Authorization:this.pexelsApiKey}});return n.ok?((await n.json()).photos||[]).map(a=>({id:`pexels-${a.id}`,title:t,description:"",imageUrl:a.src.large,thumbnailUrl:a.src.small,source:"pexels",attribution:`Photo by ${a.photographer} on Pexels`,license:"Pexels License",width:a.width,height:a.height})):(console.warn("Pexels API 调用失败，使用本地数据"),this.getLocalMockImages("pexels",t))}catch(n){return console.error("Pexels 搜索失败:",n),this.getLocalMockImages("pexels",t)}}getLocalMockImages(t,r){return{unsplash:[{id:"unsplash-mock-1",title:`${r} - 专业照片 1`,description:"高质量的商用图片",imageUrl:"https://images.unsplash.com/photo-1556740738-b6a63e27c4df?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1556740738-b6a63e27c4df?w=200",source:"unsplash",attribution:"Photo on Unsplash",license:"Unsplash License",width:800,height:600},{id:"unsplash-mock-2",title:`${r} - 专业照片 2`,description:"高质量的商用图片",imageUrl:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=200",source:"unsplash",attribution:"Photo on Unsplash",license:"Unsplash License",width:800,height:600}],pixabay:[{id:"pixabay-mock-1",title:`${r} - 商用图片 1`,description:"免费商用图片",imageUrl:"https://pixabay.com/photos/beauty-skincare-woman-beauty-care-4597675/?auto=compress&cs=tinysrgb&w=600",thumbnailUrl:"https://pixabay.com/photos/beauty-skincare-woman-beauty-care-4597675/?auto=compress&cs=tinysrgb&w=200",source:"pixabay",attribution:"Image on Pixabay",license:"Pixabay License",width:600,height:600}],pexels:[{id:"pexels-mock-1",title:`${r} - 精选图片 1`,description:"免费高质量图片",imageUrl:"https://images.pexels.com/photos/3807517/pexels-photo-3807517.jpeg?w=600",thumbnailUrl:"https://images.pexels.com/photos/3807517/pexels-photo-3807517.jpeg?w=200",source:"pexels",attribution:"Photo on Pexels",license:"Pexels License",width:600,height:600}]}[t]||[]}async searchByTheme(t){const{theme:r,category:n,perPage:l=10}=t;try{const o=this.getKeywordsForTheme(r)[0],[i,c,d]=await Promise.all([this.searchUnsplash(o,Math.ceil(l/3)),this.searchPixabay(o,Math.ceil(l/3)),this.searchPexels(o,Math.ceil(l/3))]),p=[...i,...c,...d],h=this.deduplicateImages(p),x=this.sortImagesByRelevance(h,o);return{success:!0,images:x.slice(0,l),totalResults:x.length}}catch(a){return console.error("搜索图片失败:",a),{success:!1,images:[],totalResults:0,error:"搜索失败，请重试"}}}async searchByKeyword(t,r=10){try{const[n,l,a]=await Promise.all([this.searchUnsplash(t,Math.ceil(r/3)),this.searchPixabay(t,Math.ceil(r/3)),this.searchPexels(t,Math.ceil(r/3))]),o=[...n,...l,...a],i=this.deduplicateImages(o),c=this.sortImagesByRelevance(i,t);return{success:!0,images:c.slice(0,r),totalResults:c.length}}catch(n){return console.error("搜索图片失败:",n),{success:!1,images:[],totalResults:0,error:"搜索失败，请重试"}}}deduplicateImages(t){const r=new Set,n=[];for(const l of t){const a=l.imageUrl;r.has(a)||(r.add(a),n.push(l))}return n}sortImagesByRelevance(t,r){return t.sort((n,l)=>{const a=n.width*n.height,o=l.width*l.height;if(a!==o)return o-a;const i={unsplash:0,pixabay:1,pexels:2};return(i[n.source]||3)-(i[l.source]||3)})}setApiKeys(t,r,n){t&&(this.unsplashAccessKey=t),r&&(this.pixabayApiKey=r),n&&(this.pexelsApiKey=n)}getAvailableThemes(){return[{id:"seasonal-promotion",name:"季节促销",keywords:this.themeKeywordMap["seasonal-promotion"]},{id:"new-product",name:"新品上市",keywords:this.themeKeywordMap["new-product"]},{id:"skincare-routine",name:"护肤方案",keywords:this.themeKeywordMap["skincare-routine"]},{id:"member-card",name:"会员卡权益",keywords:this.themeKeywordMap["member-card"]},{id:"event-invitation",name:"活动邀请",keywords:this.themeKeywordMap["event-invitation"]},{id:"course-promotion",name:"课程推广",keywords:this.themeKeywordMap["course-promotion"]},{id:"flash-sale",name:"限时秒杀",keywords:this.themeKeywordMap["flash-sale"]},{id:"referral-bonus",name:"推荐返利",keywords:this.themeKeywordMap["referral-bonus"]}]}}const ly=new ny,yd=[{id:"promo-seasonal",name:"季节促销",category:"promotion",description:"适合春夏秋冬季节性推广",icon:"",contentTemplate:`{season}优惠
全场{discount}折
{callToAction}`,style:"modern",colors:{primary:"#FF6B6B",secondary:"#FFE66D"},tags:["促销","季节","优惠"]},{id:"new-product",name:"新品上市",category:"product",description:"展示新护肤产品上市",icon:"",contentTemplate:`新品上市
{productName}
{description}
尊享首购价`,style:"elegant",colors:{primary:"#E8D5F2",secondary:"#9B59B6"},tags:["新品","产品","上市"]},{id:"skincare-routine",name:"护肤方案",category:"skincare",description:"推荐定制化护肤方案",icon:"",contentTemplate:`护肤方案
{skinType}肌专属
专业美容师打造
立即预约`,style:"elegant",colors:{primary:"#FFF0F5",secondary:"#FF69B4"},tags:["护肤","美容","定制"]},{id:"member-card",name:"会员卡权益",category:"event",description:"推广会员卡和权益",icon:"",contentTemplate:`会员升级
享受专属权益
{benefit1}
{benefit2}
立即开卡`,style:"modern",colors:{primary:"#FFE5B4",secondary:"#FF8C00"},tags:["会员","卡","权益"]},{id:"event-invitation",name:"活动邀请",category:"event",description:"邀请客户参加活动",icon:"",contentTemplate:`诚邀参加
{eventName}
{date} {time}
位置：{location}`,style:"playful",colors:{primary:"#6C63FF",secondary:"#FF006E"},tags:["活动","邀请","时间"]},{id:"course-promotion",name:"课程推广",category:"event",description:"推广美容课程培训",icon:"",contentTemplate:`美容课程开班
{courseType}
名额有限 欢迎报名
专业讲师授课`,style:"modern",colors:{primary:"#00A86B",secondary:"#87CEEB"},tags:["课程","培训","学习"]},{id:"flash-sale",name:"限时秒杀",category:"promotion",description:"限时秒杀活动",icon:"",contentTemplate:`限时秒杀
{product}
仅售{price}
仅限{duration}`,style:"playful",colors:{primary:"#FF4500",secondary:"#FFD700"},tags:["秒杀","限时","抢购"]},{id:"referral-bonus",name:"推荐返利",category:"promotion",description:"客户推荐返利活动",icon:"",contentTemplate:`邀请好友
双倍好礼
推荐返利{percent}%
开始分享`,style:"playful",colors:{primary:"#FF1493",secondary:"#FFB6C1"},tags:["推荐","返利","分享"]}],ay={"promo-seasonal":{season:["春季","夏季","秋季","冬季"],discount:["五折","六折","七折","八折"],callToAction:["限时优惠","快来参加","抓紧时间","错过遗憾"]},"new-product":{productName:["护肤精油","面膜套装","眼霜","精华液"],description:["温和有效","专业配方","明星产品","销量冠军"]},"skincare-routine":{skinType:["干性","油性","混合","敏感"]},"member-card":{benefit1:["消费满额返利","生日月享优惠","专属客服"],benefit2:["优先预约","免费咨询","会员专享"]},"flash-sale":{product:["热销面膜","明星精油","套装产品"],price:["99元","149元","199元"],duration:["2小时","3小时","今天"]}},oy=()=>{const[e,t]=k.useState("templates"),[r,n]=k.useState(null),[l,a]=k.useState({}),[o,i]=k.useState([]),[c,d]=k.useState(!1),[p,h]=k.useState("all"),[x,g]=k.useState(!1),[m,v]=k.useState([]),[y,u]=k.useState(null),[f,b]=k.useState(!1),[S,C]=k.useState(null),T=P=>{const O={},L=ay[P];return L&&Object.keys(L).forEach(U=>{const q=L[U];O[U]=q[Math.floor(Math.random()*q.length)]}),O},w=(P,O)=>{let L=P.contentTemplate;return Object.keys(O).forEach(U=>{L=L.replace(`{${U}}`,O[U])}),L},I=async P=>{b(!0),C(null);try{const L={promotion:"seasonal-promotion",product:"new-product",skincare:"skincare-routine",event:"event-invitation",seasonal:"seasonal-promotion"}[P.category]||"seasonal-promotion",U=await ly.searchByTheme({theme:L,category:P.category,style:P.style,perPage:12});U.success?(v(U.images),g(!0)):C(U.error||"搜索失败，请重试")}catch(O){console.error("搜索图片失败:",O),C("搜索失败，请检查网络连接")}finally{b(!1)}},F=P=>{u(P)},N=async P=>{d(!0);const O=T(P.id),L=w(P,O),U={id:`poster-${Date.now()}`,title:P.name,content:L,template:P,status:"generating",generatedAt:new Date};i(q=>[U,...q]);try{const q=await ry.generatePoster({content:L,style:P.style,type:P.category,format:"vertical"});q.success?i(le=>le.map(M=>{var z,B;return M.id===U.id?{...M,status:"success",taskId:(z=q.data)==null?void 0:z.taskId,posterUrl:(B=q.data)==null?void 0:B.posterUrl}:M})):i(le=>le.map(M=>{var z;return M.id===U.id?{...M,status:"error",error:((z=q.error)==null?void 0:z.message)||"生成失败"}:M}))}catch(q){i(le=>le.map(M=>M.id===U.id?{...M,status:"error",error:q.message}:M))}finally{d(!1)}},j=p==="all"?yd:yd.filter(P=>P.category===p);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(eg,{className:"w-6 h-6 text-purple-600"}),"智能海报制作"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"选择模板，一键生成专业海报"})]})}),s.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[s.jsx("button",{onClick:()=>t("templates"),className:`px-4 py-2 font-medium transition-colors ${e==="templates"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"模板库"}),s.jsxs("button",{onClick:()=>t("history"),className:`px-4 py-2 font-medium transition-colors ${e==="history"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:["生成历史 (",o.length,")"]})]}),e==="templates"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${p==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"全部"}),["promotion","product","skincare","event","seasonal"].map(P=>s.jsxs("button",{onClick:()=>h(P),className:`px-4 py-2 rounded-lg font-medium transition-colors ${p===P?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[P==="promotion"&&"促销",P==="product"&&"产品",P==="skincare"&&"护肤",P==="event"&&"活动",P==="seasonal"&&"季节"]},P))]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(P=>s.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-purple-600 transition-all cursor-pointer overflow-hidden group",onClick:()=>N(P),children:[s.jsx("div",{className:"h-40 bg-gradient-to-br flex items-center justify-center text-5xl group-hover:scale-110 transition-transform",style:{backgroundImage:`linear-gradient(135deg, ${P.colors.primary} 0%, ${P.colors.secondary} 100%)`},children:P.icon}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:P.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.description}),s.jsx("div",{className:"flex gap-1 mt-3 flex-wrap",children:P.tags.map(O=>s.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:O},O))}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",disabled:f,onClick:O=>{O.stopPropagation(),I(P)},children:f?s.jsxs(s.Fragment,{children:[s.jsx(Gn,{className:"w-4 h-4 animate-spin"}),"搜索中..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"w-4 h-4"}),"搜索图片"]})}),s.jsx("button",{className:"flex-1 bg-purple-600 text-white py-2 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 group-hover:shadow-lg disabled:opacity-50",disabled:c,onClick:O=>{O.stopPropagation(),N(P)},children:c?s.jsxs(s.Fragment,{children:[s.jsx(Gn,{className:"w-4 h-4 animate-spin"}),"生成中..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qx,{className:"w-4 h-4"}),"一键生成"]})})]})]})]},P.id))})]}),e==="history"&&s.jsx("div",{className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(_e,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"还没有生成过海报，选择模板一键生成吧！"})]}):o.map(P=>s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:P.title}),P.status==="success"&&s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"已生成"}),P.status==="generating"&&s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center gap-1",children:[s.jsx(Gn,{className:"w-3 h-3 animate-spin"}),"生成中"]}),P.status==="error"&&s.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:"失败"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2 whitespace-pre-wrap max-h-24 overflow-hidden",children:P.content}),P.error&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:P.error})]}),s.jsx("div",{className:"flex gap-2 ml-4",children:P.posterUrl&&s.jsxs(s.Fragment,{children:[s.jsx("a",{href:P.posterUrl,download:!0,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"下载",children:s.jsx(kp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{P.posterUrl&&(navigator.clipboard.writeText(P.posterUrl),alert("已复制链接！"))},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"复制链接",children:s.jsx(kl,{className:"w-4 h-4"})})]})})]})},P.id))}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ro,{className:"w-5 h-5 text-blue-600"}),"选择背景图片"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"为您的海报选择一张商用图片"})]}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"x"})]}),S&&s.jsx("div",{className:"m-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:S}),s.jsx("div",{className:"p-6",children:m.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Ro,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"未找到相关图片"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map(P=>s.jsxs("div",{onClick:()=>F(P),className:`cursor-pointer rounded-lg overflow-hidden border-2 transition-all ${(y==null?void 0:y.id)===P.id?"border-purple-600 shadow-lg":"border-gray-200 hover:border-purple-400"}`,children:[s.jsxs("div",{className:"relative pb-[100%]",children:[s.jsx("img",{src:P.thumbnailUrl,alt:P.title,className:"absolute inset-0 w-full h-full object-cover"}),(y==null?void 0:y.id)===P.id&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-2xl",children:"已选择"})})]}),s.jsxs("div",{className:"p-2 bg-gray-50",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:P.source}),s.jsxs("p",{className:"text-xs text-gray-600",children:[P.width,"x",P.height]})]})]},P.id))})}),s.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6 flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),s.jsx("button",{onClick:()=>{y&&g(!1)},disabled:!y,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"确认选择"})]})]})})]})},iy=()=>{const[e,t]=k.useState("poster");return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-purple-900",children:"营销助手"}),s.jsx("p",{className:"text-purple-600 mt-1",children:"智能海报制作 + 文案撰写 + 营销分析"})]})}),s.jsxs("div",{className:"flex gap-2 border-b border-purple-200 overflow-x-auto",children:[s.jsx("button",{onClick:()=>t("poster"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${e==="poster"?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"智能海报制作"}),s.jsx("button",{onClick:()=>t("copywriting"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${e==="copywriting"?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"️ 文案撰写"}),s.jsx("button",{onClick:()=>t("analysis"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${e==="analysis"?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"营销分析"})]}),e==="poster"&&s.jsx("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:s.jsx(oy,{})}),e==="copywriting"&&s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"️ AI 文案撰写"}),s.jsx("p",{className:"text-gray-600",children:"敬请期待..."})]}),e==="analysis"&&s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:" 营销分析"}),s.jsx("p",{className:"text-gray-600",children:"敬请期待..."})]})]})},Do={护肤精油:[{marketplace:"1688",supplier:"浙江美妆有限公司",price:45,rating:4.8,delivery:"2-3天",quantity:"≥1件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"阿里巴巴",supplier:"浙江美妆工厂",price:42,rating:4.7,delivery:"3-5天",quantity:"≥5件",link:"https://alibaba.com/...",lastUpdate:"2025-01-28"},{marketplace:"抖音电商",supplier:"浙江美妆零售",price:48,rating:4.6,delivery:"1-2天",quantity:"≥1件",link:"https://douyin.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:50,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"},{marketplace:"拼多多",supplier:"拼多多官方",price:43,rating:4.5,delivery:"2-3天",quantity:"≥1件",link:"https://pinduoduo.com/...",lastUpdate:"2025-01-28"}],面膜贴片:[{marketplace:"1688",supplier:"广州美妆工厂",price:6.5,rating:4.5,delivery:"3-5天",quantity:"≥10件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"阿里巴巴",supplier:"广州美妆批发",price:8,rating:4.7,delivery:"2-3天",quantity:"≥1件",link:"https://alibaba.com/...",lastUpdate:"2025-01-28"},{marketplace:"抖音电商",supplier:"广州美妆直供",price:9,rating:4.8,delivery:"1-2天",quantity:"≥1件",link:"https://douyin.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:10,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"}],精华液:[{marketplace:"1688",supplier:"上海美妆集团",price:22,rating:4.9,delivery:"2-3天",quantity:"≥1件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"阿里巴巴",supplier:"上海美妆工厂",price:20,rating:4.8,delivery:"3-5天",quantity:"≥5件",link:"https://alibaba.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:25,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"}],口红:[{marketplace:"1688",supplier:"深圳彩妆厂",price:15,rating:4.7,delivery:"2-3天",quantity:"≥1件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"抖音电商",supplier:"深圳彩妆直营",price:18,rating:4.8,delivery:"1-2天",quantity:"≥1件",link:"https://douyin.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:22,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"}],眼影:[{marketplace:"1688",supplier:"广州彩妆厂",price:12,rating:4.6,delivery:"2-3天",quantity:"≥1件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"拼多多",supplier:"拼多多卖家",price:14,rating:4.5,delivery:"2-3天",quantity:"≥1件",link:"https://pinduoduo.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:18,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"}]};async function cy(e){await new Promise(c=>setTimeout(c,500));const t=Object.keys(Do).find(c=>c.includes(e)||e.includes(c));if(!t)return null;const r=Do[t]||[];if(r.length===0)return null;const n=r.map(c=>c.price),l=Math.min(...n),a=Math.max(...n),o=Math.round(n.reduce((c,d)=>c+d)/n.length*10)/10,i=r.reduce((c,d)=>{const p=c.rating*.3+(100-c.price)*.7;return d.rating*.3+(100-d.price)*.7>p?d:c});return{productName:t,results:r.sort((c,d)=>c.price-d.price),minPrice:l,maxPrice:a,avgPrice:o,bestDeal:i,queryTime:new Date().toLocaleTimeString("zh-CN")}}function dy(){return Object.keys(Do)}const uy=()=>{const[e,t]=k.useState("search"),[r,n]=k.useState(""),[l,a]=k.useState({min:0,max:1e3}),[o,i]=k.useState(null),[c,d]=k.useState(null),[p,h]=k.useState(null),[x,g]=k.useState(!1),[m,v]=k.useState(null),[y,u]=k.useState([{id:"PO-20250101",productName:"护肤精油套装30ML",supplier:"浙江美妆有限公司",marketplace:"1688",quantity:100,price:45,totalAmount:4500,status:"已发货",orderDate:"2025-01-10",deliveryDate:"2025-01-12",trackingNumber:"SF123456789"},{id:"PO-20250102",productName:"面膜贴片100片装",supplier:"广州美妆批发",marketplace:"阿里巴巴",quantity:500,price:8,totalAmount:4e3,status:"处理中",orderDate:"2025-01-15",deliveryDate:"待定",trackingNumber:"-"}]),[f,b]=k.useState({productName:"",supplier:"",quantity:"",price:"",marketplace:""}),S=[{id:"1",name:"护肤精油套装30ML",price:45,supplier:"浙江美妆有限公司",marketplace:"1688",rating:4.8,sales:12500,image:"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=150&h=150&fit=crop"},{id:"2",name:"面膜贴片100片装",price:8,supplier:"广州美妆批发",marketplace:"阿里巴巴",rating:4.7,sales:28900,image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=150&h=150&fit=crop"},{id:"3",name:"精华液50ML",price:22,supplier:"上海美妆集团",marketplace:"1688",rating:4.9,sales:8650,image:"https://images.unsplash.com/photo-1556228541-6b06b0f4b9e1?w=150&h=150&fit=crop"}],C=[{id:"1-1688",productName:"护肤精油套装30ML",marketplace:"1688",supplier:"浙江美妆有限公司",price:45,rating:4.8,delivery:"2-3天",quantity:"≥1件"},{id:"1-alibaba",productName:"护肤精油套装30ML",marketplace:"阿里巴巴",supplier:"浙江美妆工厂",price:42,rating:4.7,delivery:"3-5天",quantity:"≥5件"},{id:"1-douyin",productName:"护肤精油套装30ML",marketplace:"抖音电商",supplier:"浙江美妆零售",price:48,rating:4.6,delivery:"1-2天",quantity:"≥1件"},{id:"1-jd",productName:"护肤精油套装30ML",marketplace:"京东",supplier:"京东自营",price:50,rating:4.9,delivery:"次日达",quantity:"≥1件"},{id:"2-alibaba",productName:"面膜贴片100片装",marketplace:"阿里巴巴",supplier:"广州美妆批发",price:8,rating:4.7,delivery:"2-3天",quantity:"≥1件"},{id:"2-1688",productName:"面膜贴片100片装",marketplace:"1688",supplier:"广州美妆工厂",price:6.5,rating:4.5,delivery:"3-5天",quantity:"≥10件"},{id:"2-douyin",productName:"面膜贴片100片装",marketplace:"抖音电商",supplier:"广州美妆直供",price:9,rating:4.8,delivery:"1-2天",quantity:"≥1件"}],T=[{id:"s1",name:"浙江美妆有限公司",rating:4.8,products:450,response_time:"2小时",location:"杭州"},{id:"s2",name:"广州美妆批发",rating:4.7,products:680,response_time:"4小时",location:"广州"},{id:"s3",name:"上海美妆集团",rating:4.9,products:320,response_time:"1小时",location:"上海"}],w=S.filter(j=>j.name.toLowerCase().includes(r.toLowerCase())&&j.price>=l.min&&j.price<=l.max),I=j=>C.filter(P=>P.productName===j),F=j=>{const P=I(j);if(P.length===0)return null;const O=P.map(le=>le.price),L=Math.min(...O),U=Math.max(...O),q=O.reduce((le,M)=>le+M,0)/O.length;return{minPrice:L,maxPrice:U,avgPrice:q,savingPercent:Math.round((U-L)/U*100)}},N=async()=>{if(!r.trim()){v("请输入产品名称");return}g(!0),v(null),h(null);try{const j=await cy(r);j?(h(j),v(null)):(v(`未找到 "${r}" 的价格信息，请尝试搜索其他产品`),h(null))}catch{v("查询出错，请重试"),h(null)}finally{g(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"智能采购助手"}),s.jsx("p",{className:"text-gray-600",children:"智能供应商匹配和产品采购 + 多平台比价系统"})]}),s.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:["search","compare","suppliers","orders","analytics"].map(j=>s.jsxs("button",{onClick:()=>t(j),className:`px-4 py-2 font-medium whitespace-nowrap ${e===j?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[j==="search"&&"产品搜索",j==="compare"&&"比价系统",j==="suppliers"&&"供应商",j==="orders"&&"订单",j==="analytics"&&"分析"]},j))}),e==="search"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"产品搜索"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"产品名称"}),s.jsxs("div",{className:"relative",children:[s.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",value:r,onChange:j=>n(j.target.value),placeholder:"搜索产品...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"价格范围"}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("input",{type:"number",value:l.min,onChange:j=>a({...l,min:Number(j.target.value)}),placeholder:"最低",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),s.jsx("span",{className:"text-gray-600",children:"至"}),s.jsx("input",{type:"number",value:l.max,onChange:j=>a({...l,max:Number(j.target.value)}),placeholder:"最高",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("button",{onClick:N,disabled:x,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(_e,{className:"w-4 h-4"}),x?"查询中...":"全网查询价格"]})]})]}),m&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-red-700 font-medium",children:m})]})}),p&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"全网价格查询结果"}),s.jsxs("span",{className:"text-xs text-gray-600",children:["查询时间: ",p.queryTime]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最低价"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["￥",p.minPrice]})]}),s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最高价"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["￥",p.maxPrice]})]}),s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"平均价"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["￥",p.avgPrice]})]}),s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"价格差"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["￥",p.maxPrice-p.minPrice]})]}),s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"可省"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[Math.round((p.maxPrice-p.minPrice)/p.maxPrice*100),"%"]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200 p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Ao,{className:"w-5 h-5 text-green-600"}),"最佳采购推荐"]}),s.jsxs("div",{className:"bg-white rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"font-semibold text-gray-900",children:[p.bestDeal.marketplace," - ",p.bestDeal.supplier]}),s.jsxs("span",{className:"text-lg font-bold text-green-600",children:["￥",p.bestDeal.price]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs text-gray-600",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"评分: "}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[p.bestDeal.rating,"分"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"发货"}),s.jsx("p",{className:"font-semibold text-gray-900",children:p.bestDeal.delivery})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"起订"}),s.jsx("p",{className:"font-semibold text-gray-900",children:p.bestDeal.quantity})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4",children:["全平台价格对比 (",p.results.length,"个)"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2 px-3 font-semibold",children:"平台"}),s.jsx("th",{className:"text-left py-2 px-3 font-semibold",children:"供应商"}),s.jsx("th",{className:"text-right py-2 px-3 font-semibold",children:"价格"}),s.jsx("th",{className:"text-center py-2 px-3 font-semibold",children:"评分"}),s.jsx("th",{className:"text-center py-2 px-3 font-semibold",children:"发货"}),s.jsx("th",{className:"text-center py-2 px-3 font-semibold",children:"起订"})]})}),s.jsx("tbody",{children:p.results.map((j,P)=>s.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[s.jsx("td",{className:"py-2 px-3 font-medium text-purple-600",children:j.marketplace}),s.jsx("td",{className:"py-2 px-3 text-gray-700",children:j.supplier}),s.jsxs("td",{className:"py-2 px-3 text-right font-bold text-gray-900",children:["￥",j.price]}),s.jsxs("td",{className:"py-2 px-3 text-center",children:[s.jsx("span",{className:"text-yellow-500"})," ",j.rating]}),s.jsx("td",{className:"py-2 px-3 text-center text-gray-600",children:j.delivery}),s.jsx("td",{className:"py-2 px-3 text-center text-gray-600",children:j.quantity})]},P))})]})})]})]}),!p&&!m&&s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"热门搜索"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:dy().map(j=>s.jsx("button",{onClick:()=>{n(j)},className:"px-3 py-1 bg-purple-100 text-purple-600 rounded hover:bg-purple-200 transition-colors text-sm font-medium",children:j},j))})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["本地搜索结果 (",w.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(j=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("img",{src:j.image,alt:j.name,className:"w-full h-32 object-cover"}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:j.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.supplier}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"font-bold text-purple-600",children:["￥",j.price]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-sm font-medium",children:j.rating})]})]}),s.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["销量: ",j.sales.toLocaleString()]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"flex-1 py-2 bg-purple-100 text-purple-600 rounded hover:bg-purple-200 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(Yc,{className:"w-4 h-4"}),"采购"]}),s.jsx("button",{onClick:()=>{i(j.name),t("compare")},className:"flex-1 py-2 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 transition-colors text-sm font-medium",children:"比价"})]})]})]},j.id))})]})]}),e==="compare"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"多平台货源对比"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择商品"}),s.jsxs("select",{value:o||"",onChange:j=>i(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:"-- 选择商品进行比价 --"}),S.map(j=>s.jsx("option",{value:j.name,children:j.name},j.id))]})]}),o&&(()=>{const j=I(o),P=F(o),O=(L,U)=>{const q=U/L.price*100*.4,le=L.rating/5*100*.3;let M=L.delivery==="1-2天"?100:L.delivery==="2-3天"?90:80;return M*=.3,Math.round(q+le+M)};return s.jsx("div",{className:"space-y-6",children:P&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最低价"}),s.jsxs("p",{className:"text-xl font-bold text-green-600",children:["￥",P.minPrice]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"最佳选择"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border border-red-200",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最高价"}),s.jsxs("p",{className:"text-xl font-bold text-red-600",children:["￥",P.maxPrice]}),s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"避免选择"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"平均价"}),s.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["￥",P.avgPrice.toFixed(1)]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"市场均价"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"价差范围"}),s.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["￥",(P.maxPrice-P.minPrice).toFixed(1)]}),s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"可节省"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最大优惠"}),s.jsxs("p",{className:"text-xl font-bold text-purple-600",children:[P.savingPercent,"%"]}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"省钱比例"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"排名"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"平台"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"供应商"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"价格"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"评分"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"发货时间"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"起购量"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"综合评分"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"操作"})]})}),s.jsx("tbody",{children:j.sort((L,U)=>L.price-U.price).map((L,U)=>{const q=L.price===P.minPrice,le=O(L,P.minPrice);return s.jsxs("tr",{className:`border-b border-gray-100 hover:bg-blue-50 transition-colors ${q?"bg-green-50":""}`,children:[s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:U===0?s.jsxs("span",{className:"bg-gold-100 text-gold-700 px-2 py-1 rounded-full text-xs font-bold",children:["第",U+1]}):s.jsxs("span",{className:"text-gray-600 font-semibold",children:["第",U+1]})})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"font-medium text-gray-900",children:L.marketplace})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-gray-700 text-sm",children:L.supplier})}),s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["￥",L.price]}),q&&s.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded",children:"最低"}),U===1&&s.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs font-semibold px-2 py-1 rounded",children:"次选"})]})}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("span",{className:"text-yellow-400"}),s.jsx("span",{className:"font-medium",children:L.rating})]})}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsx("span",{className:`text-sm font-medium ${L.delivery==="1-2天"?"text-green-600":"text-gray-700"}`,children:L.delivery})}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsx("span",{className:"text-gray-700 text-sm",children:L.quantity})}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-purple-600",children:le})})})}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white rounded text-sm font-medium hover:bg-purple-700 transition-colors",children:"采购"})})]},L.id)})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"价格优势分析"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:["最低价与平均价差：",s.jsxs("span",{className:"font-bold text-blue-600",children:["￥",(P.avgPrice-P.minPrice).toFixed(1)]})]}),s.jsxs("p",{className:"text-sm text-gray-700",children:["低于平均价平台数：",s.jsxs("span",{className:"font-bold text-green-600",children:[j.filter(L=>L.price<P.avgPrice).length," 个"]})]}),s.jsxs("p",{className:"text-sm text-gray-700",children:["价格波动范围：",s.jsxs("span",{className:"font-bold text-orange-600",children:[P.savingPercent,"%"]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-4 border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"评价质量分析"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:["平均评分：",s.jsx("span",{className:"font-bold text-green-600",children:(j.reduce((L,U)=>L+U.rating,0)/j.length).toFixed(2)})]}),s.jsxs("p",{className:"text-sm text-gray-700",children:["高评分平台(≥4.8)：",s.jsxs("span",{className:"font-bold",children:[j.filter(L=>L.rating>=4.8).length," 个"]})]}),s.jsxs("p",{className:"text-sm text-gray-700",children:["快速发货(≤2天)：",s.jsxs("span",{className:"font-bold text-blue-600",children:[j.filter(L=>L.delivery==="1-2天").length," 个"]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"采购建议"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-700 font-semibold",children:"优先选择："}),s.jsx("p",{className:"text-sm text-purple-700",children:"价格最低且评分高的平台"}),s.jsx("p",{className:"text-sm text-gray-700 font-semibold mt-2",children:"替代选择："}),s.jsx("p",{className:"text-sm text-purple-700",children:"次低价但发货快的平台"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"采购决策建议"}),s.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[s.jsxs("li",{children:["• 最优方案：选择价格最低的平台（节省￥",(P.maxPrice-P.minPrice).toFixed(1),"）"]}),s.jsx("li",{children:"• 平衡方案：选择评分最高且价格接近的平台"}),s.jsx("li",{children:"• 快速方案：优先选择发货时间为1-2天的平台"}),s.jsx("li",{children:"• 分散风险：多个平台分批采购，降低供应风险"})]})]})]})})})()]})}),e==="suppliers"&&s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"认证供应商"}),s.jsx("div",{className:"space-y-4",children:T.map(j=>s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-purple-300 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:j.name}),s.jsx("p",{className:"text-sm text-gray-600",children:j.location})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"font-semibold",children:j.rating})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"产品数"}),s.jsx("p",{className:"font-semibold",children:j.products})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"响应时间"}),s.jsx("p",{className:"font-semibold",children:j.response_time})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"状态"}),s.jsx("p",{className:"font-semibold text-green-600",children:"已认证"})]})]}),s.jsx("button",{className:"w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm font-medium",children:"查看供应商"})]},j.id))})]}),e==="orders"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"总订单数"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:y.length}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"全部订单"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"已发货"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:y.filter(j=>j.status==="已发货").length}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"在途订单"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"处理中"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:y.filter(j=>j.status==="处理中").length}),s.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"待处理"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"总金额"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["￥",y.reduce((j,P)=>j+P.totalAmount,0).toLocaleString()]}),s.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"采购总额"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"创建采购订单"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"产品名称"}),s.jsx("input",{type:"text",value:f.productName,onChange:j=>b({...f,productName:j.target.value}),placeholder:"输入产品名称",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"供应商"}),s.jsx("input",{type:"text",value:f.supplier,onChange:j=>b({...f,supplier:j.target.value}),placeholder:"输入供应商名称",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"数量"}),s.jsx("input",{type:"number",value:f.quantity,onChange:j=>b({...f,quantity:j.target.value}),placeholder:"输入数量",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"单价"}),s.jsx("input",{type:"number",value:f.price,onChange:j=>b({...f,price:j.target.value}),placeholder:"输入单价",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"平台"}),s.jsxs("select",{value:f.marketplace,onChange:j=>b({...f,marketplace:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:"选择平台"}),s.jsx("option",{value:"1688",children:"1688"}),s.jsx("option",{value:"阿里巴巴",children:"阿里巴巴"}),s.jsx("option",{value:"抖音电商",children:"抖音电商"}),s.jsx("option",{value:"京东",children:"京东"})]})]})]}),s.jsx("button",{onClick:()=>{if(f.productName&&f.supplier&&f.quantity&&f.price){const j={id:`PO-${Date.now()}`,...f,quantity:parseInt(f.quantity),price:parseFloat(f.price),totalAmount:parseInt(f.quantity)*parseFloat(f.price),status:"待提交",orderDate:new Date().toLocaleDateString("zh-CN"),deliveryDate:"待定",trackingNumber:"-"};u([...y,j]),b({productName:"",supplier:"",quantity:"",price:"",marketplace:""})}},className:"w-full mt-4 py-2 px-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-colors font-medium",children:"创建订单"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"采购订单列表"}),y.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Yc,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{children:"还没有订单，点击上方创建新订单"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"订单号"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"产品名称"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"供应商"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"数量"}),s.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"总金额"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"状态"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"订单日期"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"预计发货"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"操作"})]})}),s.jsx("tbody",{children:y.map(j=>s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-semibold text-purple-600",children:j.id})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-gray-900 font-medium",children:j.productName})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-gray-700",children:j.supplier})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("span",{className:"font-semibold text-gray-900",children:j.quantity})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsxs("span",{className:"font-bold text-purple-600",children:["￥",j.totalAmount.toLocaleString()]})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${j.status==="已发货"?"bg-green-100 text-green-700":j.status==="处理中"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:j.status})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("span",{className:"text-gray-700",children:j.orderDate})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("span",{className:"text-gray-700",children:j.deliveryDate})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("button",{onClick:()=>d(j),className:"text-purple-600 hover:text-purple-700 font-medium text-sm hover:underline",children:"详情"})})]},j.id))})]})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"采购管理建议"}),s.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[s.jsx("li",{children:"• 定期检查订单状态，及时跟进物流"}),s.jsx("li",{children:"• 建立供应商档案，记录重要信息方便后续采购"}),s.jsx("li",{children:"• 对比多个平台价格，选择最优采购方案"}),s.jsx("li",{children:"• 定时统计采购成本，优化采购策略"})]})]})]}),e==="analytics"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"总支出"}),s.jsx(yt,{className:"w-5 h-5 text-purple-600"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["￥",y.reduce((j,P)=>j+P.totalAmount,0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"累计采购总额"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"订单数"}),s.jsx(Sp,{className:"w-5 h-5 text-purple-600"})]}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:y.length}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"总订单数"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"采购平台统计"}),s.jsx("div",{className:"space-y-3",children:Array.from(new Set(y.map(j=>j.marketplace))).map(j=>{const P=y.filter(U=>U.marketplace===j).length,O=y.filter(U=>U.marketplace===j).reduce((U,q)=>U+q.totalAmount,0),L=Math.round(P/y.length*100)||0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:j}),s.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[P," 笔"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full",style:{width:`${L}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["金额: ￥",O.toLocaleString()]})]},j)})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"订单状态分布"}),s.jsx("div",{className:"space-y-3",children:[{status:"待提交",color:"bg-gray-100 text-gray-700"},{status:"处理中",color:"bg-orange-100 text-orange-700"},{status:"已发货",color:"bg-green-100 text-green-700"}].map(j=>{const P=y.filter(O=>O.status===j.status).length;return P>0?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${j.color}`,children:j.status}),s.jsx("span",{className:"text-lg font-bold text-purple-600",children:P})]},j.status):null})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"平均订单价值"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["￥",y.length>0?Math.round(y.reduce((j,P)=>j+P.totalAmount,0)/y.length):0]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"单笔平均采购额"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"最常采购产品"}),s.jsx("div",{className:"space-y-2",children:Array.from(new Set(y.map(j=>j.productName))).slice(0,5).map(j=>{const P=y.filter(L=>L.productName===j).length,O=y.filter(L=>L.productName===j).reduce((L,U)=>L+U.totalAmount,0);return s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-700",children:j}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-purple-600",children:[P,"次"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["￥",O]})]})]},j)})})]}),s.jsxs("div",{className:"md:col-span-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"采购成本优化建议"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"最高单价产品"}),s.jsx("p",{className:"font-bold text-blue-600",children:y.length>0?y.reduce((j,P)=>P.price>j.price?P:j).productName:"暂无数据"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"最低单价产品"}),s.jsx("p",{className:"font-bold text-blue-600",children:y.length>0?y.reduce((j,P)=>P.price<j.price?P:j).productName:"暂无数据"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"采购笔数"}),s.jsxs("p",{className:"font-bold text-blue-600",children:[y.length," 笔"]})]})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 sticky top-0 bg-white",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["订单详情 - ",c.id]}),s.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"×"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"订单号"}),s.jsx("p",{className:"font-bold text-gray-900",children:c.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"订单状态"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${c.status==="已发货"?"bg-green-100 text-green-700":c.status==="处理中"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:c.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"下单日期"}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.orderDate})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"预计送达"}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.deliveryDate})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"产品信息"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"产品名称"}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.productName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"采购数量"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[c.quantity," 件"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"单价"}),s.jsxs("p",{className:"font-semibold text-purple-600",children:["￥",c.price]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"总金额"}),s.jsxs("p",{className:"font-bold text-purple-600",children:["￥",c.totalAmount.toLocaleString()]})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"供应商信息"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"供应商名称"}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.supplier})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"采购平台"}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.marketplace})]})]})]}),c.status==="已发货"&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"物流信息"}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"物流追踪号"}),s.jsx("p",{className:"font-bold text-gray-900 mb-3",children:c.trackingNumber}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-green-600 font-bold mr-2"}),s.jsxs("span",{className:"text-gray-700",children:["已发货 - ",c.orderDate]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-blue-600 font-bold mr-2",children:"→"}),s.jsx("span",{className:"text-gray-700",children:"运输中"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-400 font-bold mr-2",children:"◯"}),s.jsxs("span",{className:"text-gray-700",children:["预计 ",c.deliveryDate," 送达"]})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4 flex gap-3",children:[s.jsx("button",{className:"flex-1 py-2 px-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-colors font-medium",children:"编辑订单"}),s.jsx("button",{className:"flex-1 py-2 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"取消订单"}),s.jsx("button",{onClick:()=>d(null),className:"flex-1 py-2 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"关闭"})]})]})]})})]})},my=()=>{const[e,t]=k.useState(null),[r,n]=k.useState("recommendations"),[l,a]=k.useState([{id:"task-1",title:"社交媒体营销活动",description:"为新美容套餐创建并启动社交媒体营销活动",category:"marketing",priority:"high",status:"pending",createdAt:new Date,dueDate:new Date(Date.now()+3*24*60*60*1e3)},{id:"task-2",title:"采购优质护肤产品",description:"从1688、阿里巴巴、拼多多等平台比较价格并谈判最优价格",category:"procurement",priority:"high",status:"in_progress",createdAt:new Date,dueDate:new Date(Date.now()+7*24*60*60*1e3)}]),o=k.useMemo(()=>{const h=l.filter(g=>g.status==="completed"),x=l.filter(g=>g.status!=="completed");return{completedTasks:h,pendingTasks:x,totalImpact:"通过整合营销和采购优化，预计实现35%的业务增长",keyResults:["采购成本下降15-20%","客户互动提升25%","预约确认率提升18%","团队排班效率提升30%"]}},[l]),i=h=>{a(l.map(x=>x.id===h?{...x,status:"completed"}:x))},c=()=>{const h={id:`task-${Date.now()}`,title:"新行动计划",description:"基于当前分析和已完成任务",category:"operations",priority:"medium",status:"pending",createdAt:new Date,dueDate:new Date(Date.now()+12096e5)};a([...l,h])},d=h=>{switch(h){case"high":return"bg-red-100 text-red-800 border-red-300";case"medium":return"bg-amber-100 text-amber-800 border-amber-300";case"low":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800"}},p=h=>{switch(h){case"marketing":return Me;case"procurement":return nr;case"customer":return re;case"operations":return Qc;default:return _e}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"AI助手中心"}),s.jsx("p",{className:"text-green-600 mt-1",children:"整合营销 + 智能采购 + 数据分析"})]}),s.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-green-100 to-green-50 border border-green-300 rounded-lg flex items-center gap-2",children:[s.jsx(_e,{className:"w-5 h-5 text-green-700"}),s.jsxs("span",{className:"text-sm font-medium text-green-900",children:[l.length," 任务活跃"]})]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-green-200 overflow-x-auto",children:[s.jsx("button",{onClick:()=>n("recommendations"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${r==="recommendations"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"数据分析"}),s.jsx("button",{onClick:()=>n("marketing"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${r==="marketing"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"营销助手"}),s.jsx("button",{onClick:()=>n("procurement"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${r==="procurement"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"智能采购"}),s.jsx("button",{onClick:()=>n("tasks"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${r==="tasks"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"任务管理"}),s.jsx("button",{onClick:()=>n("planning"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${r==="planning"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"任务总结与规划"})]}),r==="recommendations"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-blue-900",children:"数据分析中心"}),s.jsx("p",{className:"text-blue-600 mt-1",children:"AI 驱动的业务数据分析和决策支持"})]})}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-300 p-12 text-center",children:[s.jsx(nr,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"数据分析功能"}),s.jsx("p",{className:"text-gray-600",children:"敬请期待数据分析和智能推荐功能的完整版本"})]})]}),r==="marketing"&&s.jsx(iy,{}),r==="procurement"&&s.jsx(uy,{}),r==="tasks"&&s.jsx("div",{className:"space-y-4",children:l.map(h=>{const x=p(h.category);return s.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center mt-1",children:s.jsx(x,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:h.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.description}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium border ${d(h.priority)}`,children:h.priority==="high"?"高":h.priority==="medium"?"中":"低"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium ${h.status==="completed"?"bg-green-100 text-green-700":h.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:h.status==="completed"?"已完成":h.status==="in_progress"?"进行中":"待办"})]})]})]}),h.status!=="completed"&&s.jsx("button",{onClick:()=>i(h.id),className:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors text-sm font-medium",children:"完成"})]})},h.id)})}),r==="planning"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-300 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(qe,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"任务总结与结果"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"已完成任务"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:o.completedTasks.length})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"待办任务"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:o.pendingTasks.length})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200 mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"总体影响"}),s.jsx("p",{className:"text-gray-700",children:o.totalImpact})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"关键成果"}),s.jsx("ul",{className:"space-y-2",children:o.keyResults.map((h,x)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(qe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700 text-sm",children:h})]},x))})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-300 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Qt,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"下一步与行动计划"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"1. 加速营销活动"}),s.jsx("p",{className:"text-sm text-gray-700",children:"为高价值客户启动3个新的社交媒体营销活动。预期ROI：200%+"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"2. 扩展采购网络"}),s.jsx("p",{className:"text-sm text-gray-700",children:"添加5个新供应商并谈判批量折扣。预期节省：每月20,000 CNY"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"3. 客户留存计划"}),s.jsx("p",{className:"text-sm text-gray-700",children:"实施忠诚度计划，提供个性化奖励。预期留存率：85%+"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"4. 团队容量规划"}),s.jsx("p",{className:"text-sm text-gray-700",children:"招聘2名额外美容师并实施智能排班。预期效率提升：35%"})]})]}),s.jsxs("button",{onClick:c,className:"w-full mt-4 px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors font-bold flex items-center justify-center gap-2",children:[s.jsx(Qc,{className:"w-5 h-5"}),"创建新行动计划"]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Io,{className:"w-6 h-6 text-green-600"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"AI对话助手"})]}),s.jsxs("p",{className:"text-gray-700 mb-4",children:["提示：使用界面右下角的 ",s.jsx("span",{className:"font-bold text-green-600",children:"对话悬浮球"})," 与AI进行实时对话，获取营销、采购、数据分析等方面的智能建议。"]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-green-700",children:s.jsx("span",{className:"font-semibold",children:"悬浮球功能包括："})}),s.jsxs("ul",{className:"text-sm text-green-700 mt-2 space-y-1 ml-4",children:[s.jsx("li",{children:"• 实时智能聊天咨询"}),s.jsx("li",{children:"• AI建议和推荐"}),s.jsx("li",{children:"• 快速数据分析"}),s.jsx("li",{children:"• 可拖拽悬浮窗"})]})]})]})]})]})},py=()=>{const[e,t]=k.useState("courses"),[r,n]=k.useState(null),l=[{id:"1",title:"高端护肤管理体系",level:"初级",duration:"4周",progress:100,instructor:"李国庆",status:"completed"},{id:"2",title:"皮肤问题诊断与解决",level:"中级",duration:"6周",progress:75,instructor:"王美艺",status:"in-progress"},{id:"3",title:"高端客户管理艺术",level:"中级",duration:"4周",progress:45,instructor:"陈思语",status:"in-progress"},{id:"4",title:"美容师晋升成功秘诀",level:"高级",duration:"8周",progress:0,instructor:"张琳琳",status:"not-started"},{id:"5",title:"SPA疗程深度培训",level:"高级",duration:"6周",progress:0,instructor:"刘心怡",status:"not-started"}],a=[{id:"1",title:"周末特训：高端客户维护技巧",instructor:"李美娟",time:"本周六 19:00",viewers:128,status:"upcoming"},{id:"2",title:"直播课程：护肤品推荐技巧",instructor:"王雨晴",time:"今晚 20:00",viewers:245,status:"live"},{id:"3",title:"复盘：本月业绩分析与优化",instructor:"郑可欣",time:"昨天 18:00",viewers:87,status:"ended"}],o=[{id:"1",name:"李美娟",current:"高级美容师",nextLevel:"美容院总监",completedCourses:12,totalRequired:15,score:92,evaluationDate:"2025-11-15",status:"in-progress"},{id:"2",name:"王雨晴",current:"中级美容师",nextLevel:"高级美容师",completedCourses:8,totalRequired:10,score:88,evaluationDate:"2025-11-20",status:"in-progress"},{id:"3",name:"张琳琳",current:"初级美容师",nextLevel:"中级美容师",completedCourses:5,totalRequired:8,score:85,evaluationDate:"2025-12-01",status:"pending"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"美容师晋升管理"}),s.jsx("p",{className:"text-green-600 mt-1",children:"专业发展与培训平台"})]}),s.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-green-100 to-green-50 border border-green-300 rounded-lg flex items-center gap-2",children:[s.jsx(rr,{className:"w-5 h-5 text-green-700"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"3位在晋升中"})]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-green-200",children:[s.jsxs("button",{onClick:()=>t("courses"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${e==="courses"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:[s.jsx(lr,{className:"w-4 h-4"}),"课程培训"]}),s.jsxs("button",{onClick:()=>t("live"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${e==="live"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:[s.jsx(cs,{className:"w-4 h-4"}),"直播学习"]}),s.jsxs("button",{onClick:()=>t("promotion"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${e==="promotion"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:[s.jsx(yt,{className:"w-4 h-4"}),"晋升管理"]})]}),e==="courses"&&s.jsx("div",{className:"space-y-4",children:l.map(i=>s.jsxs("div",{onClick:()=>n(r===i.id?null:i.id),className:"bg-white rounded-lg border border-green-200 p-6 hover:shadow-md transition-all cursor-pointer card-green",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center",children:s.jsx(lr,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:i.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["讲师：",i.instructor]})]})]})}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${i.status==="completed"?"bg-green-100 text-green-700":i.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:i.status==="completed"?"已完成":i.status==="in-progress"?"进行中":"未开始"})})]}),s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:i.level})," • ",s.jsx("span",{children:i.duration})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"学习进度"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[i.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all",style:{width:`${i.progress}%`}})})]}),r===i.id&&s.jsx("div",{className:"pt-4 border-t border-green-200",children:s.jsxs("button",{className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(El,{className:"w-4 h-4"}),"继续学习"]})})]},i.id))}),e==="live"&&s.jsx("div",{className:"space-y-4",children:a.map(i=>s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6 card-green",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${i.status==="live"?"bg-red-100":i.status==="upcoming"?"bg-yellow-100":"bg-gray-100"}`,children:s.jsx(cs,{className:`w-6 h-6 ${i.status==="live"?"text-red-600":i.status==="upcoming"?"text-yellow-600":"text-gray-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:i.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:["讲师：",i.instructor]})]})]})}),s.jsxs("div",{className:"text-right",children:[i.status==="live"&&s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full animate-pulse",children:[s.jsx("span",{className:"w-2 h-2 bg-red-700 rounded-full"}),"直播中"]}),i.status==="upcoming"&&s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:[s.jsx(Pt,{className:"w-3 h-3"}),"即将开始"]}),i.status==="ended"&&s.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"已结束"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600",children:i.time}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(re,{className:"w-4 h-4"}),s.jsxs("span",{children:[i.viewers," 人观看"]})]})]}),i.status==="live"&&s.jsxs("button",{className:"w-full mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(El,{className:"w-4 h-4"}),"进入直播间"]}),i.status==="upcoming"&&s.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"提前预约"})]},i.id))}),e==="promotion"&&s.jsx("div",{className:"space-y-4",children:o.map(i=>s.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6 card-green",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[i.current," → ",i.nextLevel]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.score}),s.jsx("div",{className:"text-xs text-gray-500",children:"评估成绩"})]})]}),s.jsxs("div",{className:"mb-4 p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"课程完成进度"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[i.completedCourses,"/",i.totalRequired]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all",style:{width:`${i.completedCourses/i.totalRequired*100}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{children:"评估日期："}),s.jsx("span",{className:"font-medium",children:i.evaluationDate})]}),s.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${i.status==="ready"?"bg-green-100 text-green-700":i.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:i.status==="ready"?"准备评估":i.status==="in-progress"?"晋升中":"待开始"})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 px-4 py-2 bg-green-100 text-green-700 hover:bg-green-200 rounded-lg text-sm font-medium transition-colors",children:"查看计划"}),s.jsx("button",{className:"flex-1 px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded-lg text-sm font-medium transition-colors",children:"下次评估"})]})]},i.id))})]})},hy="bddc38fc438e478cac87712b13d7a68f.KDOj6fpAoEOb8slt",xy="https://open.bigmodel.cn/api/paas/v4/chat/completions",gy="glm-4.5-flash";class fy{constructor(){ce(this,"conversationHistory",[]);ce(this,"maxHistoryLength",10);ce(this,"useDemoMode",!1);ce(this,"demoResponses",{客户:"根据系统数据分析，您目前有 45 名活跃客户。其中 8 名高风险客户需要关注（30 天未预约）。建议通过回访和特殊优惠来提高客户留存。",预约:"本月已完成 87 个预约，确认率 92%。高峰时段为 10:00-12:00 和 14:00-16:00。建议在这些时段增加员工排班。",员工:"李美容师表现最好，完成 24 个预约。王美容师满意度评分 4.8。建议建立员工激励计划。",销售:"本月销售收入 ¥28,500，环比增长 15%。热销产品为面部护理套装（销量 34 件）。",营销:"社交媒体推广 ROI 最高（250%），新客体验优惠转化率 22%。建议继续加大这两项投入。",排班:"根据预约数据，建议周一至周五增加排班，周末可保持现有安排。李、王、张三位美容师可轮流休息。",定价:"当前面部护理价格 168 元，建议根据竞对保持不变。深层清洁价格 128 元可提升至 148 元。",分析:"系统分析显示，您的业务总体健康。需要关注：(1) 高风险客户流失 (2) 周一预约不足 (3) 产品销售季节性波动。"})}async chat(t){try{if(this.conversationHistory.push({role:"user",content:t}),this.conversationHistory.length>this.maxHistoryLength&&(this.conversationHistory=this.conversationHistory.slice(-this.maxHistoryLength)),this.useDemoMode)return this.getDemoResponse(t);try{return await this.callGLMAPI(t)}catch(r){return console.warn("GLM API 调用失败，切换到演示模式:",r),this.useDemoMode=!0,this.getDemoResponse(t)}}catch(r){throw console.error("AI 服务错误:",r.message),new Error(`AI 服务错误: ${r.message}`)}}async callGLMAPI(t){const n=await te.post(xy,{model:gy,messages:[{role:"system",content:`你是一个美容院管理系统的AI助手。你的职责是帮助美容院员工管理业务。

【重要限制】
你只能回答以下两类问题：
1. 美容行业相关问题（美容服务、护肤知识、美容产品、行业最佳实践等）
2. 系统功能问题（如何预约、客户管理、员工排班、产品管理、数据分析等）

【禁止回答】
- 数学、科学、历史等与美容行业无关的问题
- 政治、宗教等敏感话题
- 任何其他领域的问题

【回答规则】
- 如果问题不相关，礼貌地拒绝并提示用户：'抱歉，我只能帮助您解决美容院相关问题或系统使用问题。'
- 如果是美容相关，提供专业的建议
- 如果是系统功能相关，解释如何使用该功能

【可用功能】
- 预约管理：帮助客户预约美容服务
- 客户管理：管理客户信息和历史
- 员工排班：优化员工工作安排
- 产品管理：管理美容产品库存
- 数据分析：分析营业数据
- 服务定价：提供定价建议
- 营销方案：生成营销文案`},...this.conversationHistory],temperature:.7,top_p:.7,max_tokens:1e3},{headers:{Authorization:hy,"Content-Type":"application/json"},timeout:15e3}),l=n.data.choices[0].message.content;return this.conversationHistory.push({role:"assistant",content:l}),{content:l,usage:n.data.usage}}getDemoResponse(t){let r="我是美容院AI助手的演示版本。";for(const[n,l]of Object.entries(this.demoResponses))if(t.includes(n)){r=l;break}return r==="我是美容院AI助手的演示版本。"&&(r=`您问了关于"${t}"的问题。

在演示模式中，我可以为您展示系统的AI功能。您可以问我：
• 关于客户数据的问题
• 员工排班优化建议
• 销售和预约分析
• 营销活动ROI分析
• 服务定价建议

实时API模式需要配置有效的 GLM API Key。`),this.conversationHistory.push({role:"assistant",content:r}),{content:r,usage:void 0}}clearHistory(){this.conversationHistory=[]}async analyzeLossRisk(t){const r=`
    您是一位美容院管理专家。请分析以下客户数据，评估客户流失风险。
    
    客户数据:
    ${JSON.stringify(t,null,2)}
    
    请提供以下信息（用JSON格式返回）：
    {
      "riskLevel": "高/中/低",
      "riskScore": 0-100,
      "riskAnalysis": "风险原因分析",
      "recommendations": ["建议1", "建议2", "建议3"]
    }
    `;try{const n=await this.chat(r),l=n.content.match(/\{[\s\S]*\}/);if(l){const a=JSON.parse(l[0]);return{type:"risk",content:`风险等级: ${a.riskLevel}
分析: ${a.riskAnalysis}`,recommendations:a.recommendations||[],score:a.riskScore}}return{type:"risk",content:n.content,recommendations:[]}}catch(n){throw console.error("流失风险分析错误:",n.message),n}}async optimizeSchedule(t){const r=`
    您是一位美容院经营管理顾问。根据以下预约数据，建议最优的员工排班安排。
    
    预约数据:
    ${JSON.stringify(t,null,2)}
    
    请提供以下信息（用JSON格式返回）：
    {
      "optimalSchedule": "具体排班建议",
      "costSavings": "预计成本节省",
      "satisfactionScore": 80-100,
      "recommendations": ["建议1", "建议2", "建议3"]
    }
    `;try{const n=await this.chat(r),l=n.content.match(/\{[\s\S]*\}/);if(l){const a=JSON.parse(l[0]);return{type:"scheduling",content:`${a.optimalSchedule}
成本节省: ${a.costSavings}`,recommendations:a.recommendations||[],score:a.satisfactionScore}}return{type:"scheduling",content:n.content,recommendations:[]}}catch(n){throw console.error("排班优化错误:",n.message),n}}async suggestPricing(t){const r=`
    您是一位美容行业定价策略专家。根据以下市场数据和服务信息，提供动态定价建议。
    
    数据:
    ${JSON.stringify(t,null,2)}
    
    请提供以下信息（用JSON格式返回）：
    {
      "currentOptimal": "当前最优价格",
      "recommendations": ["建议1", "建议2", "建议3"],
      "revenuePotential": "预计收入增长",
      "strategy": "定价策略说明"
    }
    `;try{const n=await this.chat(r),l=n.content.match(/\{[\s\S]*\}/);if(l){const a=JSON.parse(l[0]);return{type:"pricing",content:`最优价格: ${a.currentOptimal}
策略: ${a.strategy}`,recommendations:a.recommendations||[]}}return{type:"pricing",content:n.content,recommendations:[]}}catch(n){throw console.error("定价建议错误:",n.message),n}}async generateMarketingCopy(t){const r=`
    您是一位优秀的美容行业营销文案专家。为以下美容服务/产品生成吸引人的营销文案。
    
    产品信息:
    ${JSON.stringify(t,null,2)}
    
    请生成：
    1. 一个吸引人的标题
    2. 3-5个核心卖点
    3. 一段行动号召文案
    
    使用简洁、有力的语言。
    `;try{return(await this.chat(r)).content}catch(n){throw console.error("营销文案生成错误:",n.message),n}}async beautyConsultation(t){try{return(await this.chat(t)).content}catch(r){throw console.error("美容咨询错误:",r.message),r}}getHistory(){return this.conversationHistory}getHistoryLength(){return this.conversationHistory.length}setDemoMode(t){this.useDemoMode=t}isDemoMode(){return this.useDemoMode}}const $n=new fy,yy="bddc38fc438e478cac87712b13d7a68f.KDOj6fpAoEOb8slt",by="https://open.bigmodel.cn/api/paas/v4/chat/completions",vy="glm-4.5-flash";var jd,Nd,wd,kd,Sd,Cd,Ed,Pd,Ad,Td,Rd,Id,Md,$d,Od,Ld,_d,Dd,Fd,zd,Ud,Bd,Hd,qd,Vd,Wd,Kd,Jd,Gd,Qd,Yd,Xd,Zd,eu,tu,su,ru,nu,lu,au,ou,iu;class jy{constructor(){ce(this,"conversationHistory",[]);ce(this,"maxHistoryLength",10);ce(this,"systemData",{});ce(this,"useDemoMode",!1);ce(this,"demoRecommendations",{风险:`【高风险客户分析报告】

分析对象：${((Nd=(jd=this.systemData.customers)==null?void 0:jd.highRiskCustomers)==null?void 0:Nd.length)||0} 名高风险客户

主要问题：
1. 客户流失率 ${((wd=this.systemData.customers)==null?void 0:wd.churnRate)||0}% 需要关注
2. 30天未预约的客户：${((Sd=(kd=this.systemData.customers)==null?void 0:kd.highRiskCustomers)==null?void 0:Sd.map(t=>t.name).join("、"))||"无"}

建议方案：
• 立即回访高风险客户，了解不满意原因
• 提供特殊优惠（如首次消费返现20%）
• 推出VIP客户保留计划
• 建立客户满意度反馈机制

预期效果：
- 客户留存率提升 15-20%
- 流失率降低 5-8%`,排班:`【员工排班优化建议】

当前数据分析：
- 本月预约总数：${((Cd=this.systemData.appointments)==null?void 0:Cd.totalThisMonth)||0}
- 高峰时段：${((Pd=(Ed=this.systemData.appointments)==null?void 0:Ed.peakHours)==null?void 0:Pd.join("、"))||"10:00-12:00, 14:00-16:00"}
- 平均预约时长：${((Ad=this.systemData.appointments)==null?void 0:Ad.averageDuration)||60}分钟

员工表现排行：
${((Rd=(Td=this.systemData.staff)==null?void 0:Td.performanceRanking)==null?void 0:Rd.slice(0,3).map((t,r)=>`${r+1}. ${t.name} - 完成${t.appointmentsCompleted}个预约，确认率${t.confirmationRate}%`).join(`
`))||"待更新"}

优化建议：
• 高峰时段(10:00-12:00, 14:00-16:00)增加排班人数
• 表现优秀员工(${($d=(Md=(Id=this.systemData.staff)==null?void 0:Id.performanceRanking)==null?void 0:Md[0])==null?void 0:$d.name})安排在高峰时段
• 周一至周五排班密集，周末可适当减少
• 建议排班周期为2周循环

预期收益：
- 预约确认率提升 8-12%
- 客户满意度提升 10%`,定价:`【动态定价策略建议】

销售数据分析：
- 本月总收入：¥${((Od=this.systemData.sales)==null?void 0:Od.revenueThisMonth)||0}
- 增长率：${((Ld=this.systemData.sales)==null?void 0:Ld.growth)||0}%
- 热销TOP3产品：
${((Dd=(_d=this.systemData.sales)==null?void 0:_d.topProducts)==null?void 0:Dd.slice(0,3).map(t=>`  • ${t.name}: 销量${t.sales}件，收入¥${t.revenue}`).join(`
`))||"  数据待更新"}

定价建议：
• 热销产品(销量>20件)可提价5-8%
• 冷门产品(销量<5件)可打折或捆绑销售
• 建议推出"低价引流+高价转化"的产品组合
• VIP客户提供专属定价折扣

预期效果：
- 整体收入增长 12-18%
- 产品销售均匀度提升 25%`,营销:`【营销活动ROI分析与优化】

当前营销数据：
活动投入与效果分析：
${((zd=(Fd=this.systemData.marketing)==null?void 0:Fd.activeActivities)==null?void 0:zd.map(t=>`• ${t.name}: 投入¥${t.cost}，ROI${t.roi}%，转化${t.conversions}人`).join(`
`))||`• 社交媒体推广: 投入¥2000，ROI250%，转化15人
• 新客体验优惠: 投入¥3000，ROI180%，转化22人`}

优化建议：
• 加大ROI最高活动(${((Hd=(Bd=(Ud=this.systemData.marketing)==null?void 0:Ud.activeActivities)==null?void 0:Bd.sort((t,r)=>r.roi-t.roi)[0])==null?void 0:Hd.name)||"社交媒体推广"})的投入
• 停止或改进ROI低于100%的活动
• 尝试新渠道：抖音、小红书等短视频平台
• 建立转介绍计划，提高客户转化率

预期收益：
- 市场营销ROI提升 40-60%
- 新客获取成本降低 25%`,建议:`【完整智能运营建议报告】

═══════════════════════════════
综合业务评估 (${new Date().toLocaleDateString()})
═══════════════════════════════

【客户管理现状】
 总客户数: ${((qd=this.systemData.customers)==null?void 0:qd.total)||0}名
 流失率: ${((Vd=this.systemData.customers)==null?void 0:Vd.churnRate)||0}% (目标<10%)
 高风险客户: ${((Kd=(Wd=this.systemData.customers)==null?void 0:Wd.highRiskCustomers)==null?void 0:Kd.length)||0}名需关注

优先级1 - 高风险客户流失预警
→ 立即行动: 逐一回访高风险客户
→ 预期效果: 留存率↑15-20%

【预约运营现状】
 月预约数: ${((Jd=this.systemData.appointments)==null?void 0:Jd.totalThisMonth)||0}
 确认率: ${((Gd=this.systemData.appointments)==null?void 0:Gd.confirmationRate)||0}%
 爽约率: ${((Qd=this.systemData.appointments)==null?void 0:Qd.noShowRate)||0}% (应<5%)

优先级2 - 高峰时段排班优化
→ 关键时段: ${((Xd=(Yd=this.systemData.appointments)==null?void 0:Yd.peakHours)==null?void 0:Xd.join("、"))||"10:00-12:00, 14:00-16:00"}
→ 建议行动: 高峰时段增加排班
→ 预期效果: 确认率↑10-12%, 客户满意度↑8%

【员工管理现状】
 在职员工: ${((Zd=this.systemData.staff)==null?void 0:Zd.activeStaff)||0}/${((eu=this.systemData.staff)==null?void 0:eu.total)||0}
 表现最好: ${(ru=(su=(tu=this.systemData.staff)==null?void 0:tu.performanceRanking)==null?void 0:su[0])==null?void 0:ru.name} (${(au=(lu=(nu=this.systemData.staff)==null?void 0:nu.performanceRanking)==null?void 0:lu[0])==null?void 0:au.appointmentsCompleted}个预约)

优先级3 - 员工绩效提升
→ 行动: 建立员工激励制度
→ 预期效果: 服务质量↑15%, 客户满意度↑10%

【财务运营现状】
 本月收入: ¥${((ou=this.systemData.sales)==null?void 0:ou.revenueThisMonth)||0}
 增长率: ${((iu=this.systemData.sales)==null?void 0:iu.growth)||0}%

优先级4 - 收入增长策略
→ 方案: 热销产品提价5-8%, 冷门产品打折促销
→ 预期效果: 整体收入↑12-18%

【总体建议执行计划】
第1周: 完成高风险客户回访，制定留存方案
第2周: 优化排班表，减少高峰时段爽约
第3周: 推行新定价策略，监测销售数据
第4周: 启动员工激励计划，总结运营数据

预计总体效果提升: 30-50%`})}setSystemData(t){this.systemData=t}getDataSummary(){var i,c,d,p,h;const{customers:t,appointments:r,staff:n,sales:l,marketing:a}=this.systemData;return`
【当前系统数据摘要】

客户数据:
- 总客户数: ${(t==null?void 0:t.total)||"未知"}
- 本月新增: ${(t==null?void 0:t.newThisMonth)||0}
- 客户流失率: ${(t==null?void 0:t.churnRate)||0}%
- 活跃客户: ${(t==null?void 0:t.activeCustomers)||"未知"}
- VIP客户: ${(t==null?void 0:t.vipCustomers)||0}
- 高风险客户: ${((i=t==null?void 0:t.highRiskCustomers)==null?void 0:i.length)||0} 位（30天未预约）

预约数据:
- 本月预约总数: ${(r==null?void 0:r.totalThisMonth)||"未知"}
- 预约确认率: ${(r==null?void 0:r.confirmationRate)||0}%
- 高峰时段: ${((c=r==null?void 0:r.peakHours)==null?void 0:c.join("、"))||"未知"}
- 平均预约时长: ${(r==null?void 0:r.averageDuration)||0}分钟
- 爽约率: ${(r==null?void 0:r.noShowRate)||0}%

员工数据:
- 总员工数: ${(n==null?void 0:n.total)||"未知"}
- 在职员工: ${(n==null?void 0:n.activeStaff)||"未知"}
${((d=n==null?void 0:n.performanceRanking)==null?void 0:d.slice(0,3).map((x,g)=>`- 员工${g+1}: ${x.name}，完成${x.appointmentsCompleted}个预约，确认率${x.confirmationRate}%`).join(`
`))||""}

销售数据:
- 总收入: ¥${(l==null?void 0:l.totalRevenue)||0}
- 本月收入: ¥${(l==null?void 0:l.revenueThisMonth)||0}
- 增长率: ${(l==null?void 0:l.growth)||0}%
${((p=l==null?void 0:l.topProducts)==null?void 0:p.slice(0,3).map(x=>`- 热销产品: ${x.name}，销售${x.sales}件，收入¥${x.revenue}`).join(`
`))||""}

营销数据:
${((h=a==null?void 0:a.activeActivities)==null?void 0:h.map(x=>`- 活动: ${x.name}，投入¥${x.cost}，ROI${x.roi}%，转化${x.conversions}次`).join(`
`))||"无活动"}
    `.trim()}async chat(t){try{if(this.conversationHistory.push({role:"user",content:t}),this.conversationHistory.length>this.maxHistoryLength&&(this.conversationHistory=this.conversationHistory.slice(-this.maxHistoryLength)),this.useDemoMode)return this.getDemoResponse(t);try{return await this.callGLMAPI(t)}catch(r){return console.warn("Enhanced AI 服务 API 失败，切换到演示模式:",r),this.useDemoMode=!0,this.getDemoResponse(t)}}catch(r){throw console.error("增强 AI 服务错误:",r.message),new Error(`增强 AI 服务错误: ${r.message}`)}}async callGLMAPI(t){const r=`你是一个美容院智能管理助手，拥有实时系统数据访问权。你的职责是帮助美容院经营者做出数据驱动的决策。

${this.getDataSummary()}

【您的职责】
1. 分析提供的系统数据，识别业务机遇和问题
2. 提供基于数据的具体建议和行动方案
3. 优先关注高风险客户和流失预警
4. 推荐营销活动优化和成本控制
5. 提出员工管理改进建议

【重要限制】
你只能回答以下三类问题：
1. 基于系统数据的业务分析和建议
2. 美容行业最佳实践
3. 系统功能使用

【禁止回答】
- 与美容院无关的问题
- 数学、科学等无关领域
- 敏感话题

【回答规则】
- 始终引用具体数据支持你的建议
- 提供可执行的行动步骤
- 明确指出预期结果或ROI
- 如果数据不足，明确说明需要哪些信息`,n=await te.post(by,{model:vy,messages:[{role:"system",content:r},...this.conversationHistory],temperature:.7,top_p:.7,max_tokens:1500},{headers:{Authorization:yy,"Content-Type":"application/json"},timeout:2e4}),l=n.data.choices[0].message.content;return this.conversationHistory.push({role:"assistant",content:l}),{content:l,usage:n.data.usage}}getDemoResponse(t){let r="我在演示模式中。";for(const[n,l]of Object.entries(this.demoRecommendations))if(t.includes(n)||t.includes("请")&&n==="建议"){r=l;break}return r==="我在演示模式中。"&&(r=`关于"${t}"的建议：

在演示模式中，我基于系统数据提供预定义的建议。

您可以询问：
• 高风险客户分析 (点击"流失分析"按钮)
• 员工排班优化 (点击"排班优化"按钮)
• 服务定价建议 (点击"定价建议"按钮)
• 营销活动分析 (点击"营销分析"按钮)
• 完整智能建议 (点击"智能建议报告"按钮)`),this.conversationHistory.push({role:"assistant",content:r}),{content:r,usage:void 0}}async getSmartRecommendations(){const t=`请根据当前系统数据分析，提供以下方面的智能建议：

1. 客户管理：识别风险客户，提出留存策略
2. 预约优化：分析高峰时段，提出排班建议
3. 员工管理：评价员工表现，提出奖励或培训建议
4. 营销策略：分析营销ROI，提出下月营销建议
5. 收入增长：基于销售数据，提出增收方案

请用数据支持每个建议，并明确指出预期效果。`;try{return this.chat(t)}catch(r){return console.error("获取智能建议失败:",r),this.useDemoMode=!0,this.getDemoResponse("完整建议")}}setDemoMode(t){this.useDemoMode=t}isDemoMode(){return this.useDemoMode}clearHistory(){this.conversationHistory=[]}getHistory(){return this.conversationHistory}}const $t=new jy;class Ny{async collectAllData(){try{const[t,r,n,l,a]=await Promise.all([this.collectCustomerData(),this.collectAppointmentData(),this.collectStaffData(),this.collectSalesData(),this.collectMarketingData()]);return{customers:t,appointments:r,staff:n,sales:l,marketing:a}}catch(t){return console.error("数据收集错误:",t),{}}}async collectCustomerData(){try{const t=localStorage.getItem("customers"),r=t?JSON.parse(t):[];if(!r||r.length===0)return{total:0,newThisMonth:0,churnRate:0,activeCustomers:0,vipCustomers:0,highRiskCustomers:[]};const n=new Date,l=new Date(n.getTime()-30*24*60*60*1e3),a=new Date(n.getTime()-60*24*60*60*1e3),o=r.filter(g=>new Date(g.createdAt||g.dateJoined)>l).length,i=r.filter(g=>g.membershipLevel==="VIP"||g.type==="VIP").length,c=localStorage.getItem("appointments"),d=c?JSON.parse(c):[],p=r.map(g=>{const m=d.filter(u=>u.customerId===g.id||u.customerName===g.name).sort((u,f)=>new Date(f.date).getTime()-new Date(u.date).getTime())[0],v=m?new Date(m.date):a,y=Math.floor((n.getTime()-v.getTime())/(24*60*60*1e3));return{id:g.id,name:g.name,daysSinceLastAppointment:y,totalSpent:g.totalSpent||0}}).filter(g=>g.daysSinceLastAppointment>=30).sort((g,m)=>m.daysSinceLastAppointment-g.daysSinceLastAppointment).slice(0,10),h=r.filter(g=>{const m=d.filter(u=>u.customerId===g.id||u.customerName===g.name).sort((u,f)=>new Date(f.date).getTime()-new Date(u.date).getTime())[0],v=m?new Date(m.date):a;return Math.floor((n.getTime()-v.getTime())/(24*60*60*1e3))>=60}).length,x=r.length>0?Math.round(h/r.length*100):0;return{total:r.length,newThisMonth:o,churnRate:x,activeCustomers:Math.max(0,r.length-h),vipCustomers:i,highRiskCustomers:p}}catch(t){return console.error("客户数据收集错误:",t),{total:0,newThisMonth:0,churnRate:0,activeCustomers:0,vipCustomers:0,highRiskCustomers:[]}}}async collectAppointmentData(){try{const t=localStorage.getItem("appointments"),r=t?JSON.parse(t):[];if(!r||r.length===0)return{totalThisMonth:0,confirmationRate:0,peakHours:[],averageDuration:0,noShowRate:0};const n=new Date,l=new Date(n.getTime()-30*24*60*60*1e3),a=r.filter(m=>new Date(m.date)>l),o=a.filter(m=>m.status==="Confirmed"||m.status==="confirmed").length,i=a.length>0?Math.round(o/a.length*100):0,c={};a.forEach(m=>{const y=`${new Date(m.date).getHours()}:00`;c[y]=(c[y]||0)+1});const d=Object.entries(c).sort((m,v)=>v[1]-m[1]).slice(0,3).map(([m])=>m),p=a.map(m=>m.duration||60).filter(m=>m>0),h=p.length>0?Math.round(p.reduce((m,v)=>m+v,0)/p.length):60,x=a.filter(m=>m.status==="NoShow"||m.status==="no-show").length,g=a.length>0?Math.round(x/a.length*100):0;return{totalThisMonth:a.length,confirmationRate:i,peakHours:d,averageDuration:h,noShowRate:g}}catch(t){return console.error("预约数据收集错误:",t),{totalThisMonth:0,confirmationRate:0,peakHours:[],averageDuration:0,noShowRate:0}}}async collectStaffData(){try{const t=localStorage.getItem("staff"),r=t?JSON.parse(t):[];if(!r||r.length===0)return{total:0,activeStaff:0,performanceRanking:[]};const n=localStorage.getItem("appointments"),l=n?JSON.parse(n):[],a=r.map(o=>{const i=l.filter(h=>h.staffId===o.id||h.staffName===o.name),c=i.filter(h=>h.status==="Completed"||h.status==="completed").length,d=i.filter(h=>h.status==="Confirmed"||h.status==="confirmed").length,p=i.length>0?Math.round(d/i.length*100):0;return{name:o.name,appointmentsCompleted:c,confirmationRate:p,customerSatisfaction:o.rating||85}}).sort((o,i)=>i.appointmentsCompleted-o.appointmentsCompleted);return{total:r.length,activeStaff:r.filter(o=>o.isActive!==!1).length,performanceRanking:a}}catch(t){return console.error("员工数据收集错误:",t),{total:0,activeStaff:0,performanceRanking:[]}}}async collectSalesData(){try{const t=localStorage.getItem("products"),r=t?JSON.parse(t):[];if(!r||r.length===0)return{totalRevenue:0,revenueThisMonth:0,topProducts:[],growth:0};const n=r.map(o=>({name:o.name,sales:o.soldCount||Math.floor(Math.random()*50),revenue:(o.price||0)*(o.soldCount||Math.floor(Math.random()*50))})).sort((o,i)=>i.revenue-o.revenue).slice(0,5),l=n.reduce((o,i)=>o+i.revenue,0),a=Math.round(l*.3);return{totalRevenue:Math.round(l),revenueThisMonth:a,topProducts:n,growth:Math.floor(Math.random()*15)+5}}catch(t){return console.error("销售数据收集错误:",t),{totalRevenue:0,revenueThisMonth:0,topProducts:[],growth:0}}}async collectMarketingData(){try{const t=localStorage.getItem("marketingActivities"),r=t?JSON.parse(t):[];return!r||r.length===0?{activeActivities:[{name:"社交媒体推广",cost:2e3,roi:250,conversions:15},{name:"新客体验优惠",cost:3e3,roi:180,conversions:22}]}:{activeActivities:r.filter(l=>l.status==="Active"||l.status==="active").slice(0,5)}}catch(t){return console.error("营销数据收集错误:",t),{activeActivities:[]}}}async generateDataSummaryReport(){var n,l,a,o,i,c,d,p,h,x,g,m,v,y,u,f,b,S,C,T,w,I,F;const t=await this.collectAllData();return`
【系统数据摘要报告】

1. 客户概览
   总客户: ${(n=t.customers)==null?void 0:n.total} | 新增: ${(l=t.customers)==null?void 0:l.newThisMonth} | 流失率: ${(a=t.customers)==null?void 0:a.churnRate}%
   高风险客户: ${(i=(o=t.customers)==null?void 0:o.highRiskCustomers)==null?void 0:i.length} 位

2. 预约概览
   本月预约: ${(c=t.appointments)==null?void 0:c.totalThisMonth} | 确认率: ${(d=t.appointments)==null?void 0:d.confirmationRate}% | 爽约率: ${(p=t.appointments)==null?void 0:p.noShowRate}%
   高峰时段: ${((x=(h=t.appointments)==null?void 0:h.peakHours)==null?void 0:x.join("、"))||"无"}

3. 员工概览
   总数: ${(g=t.staff)==null?void 0:g.total} | 在职: ${(m=t.staff)==null?void 0:m.activeStaff}
   表现最好: ${(u=(y=(v=t.staff)==null?void 0:v.performanceRanking)==null?void 0:y[0])==null?void 0:u.name} (${(S=(b=(f=t.staff)==null?void 0:f.performanceRanking)==null?void 0:b[0])==null?void 0:S.appointmentsCompleted} 次预约)

4. 销售概览
   总收入: ¥${(C=t.sales)==null?void 0:C.totalRevenue} | 本月: ¥${(T=t.sales)==null?void 0:T.revenueThisMonth} | 增长率: ${(w=t.sales)==null?void 0:w.growth}%

5. 营销概览
   活跃活动: ${(F=(I=t.marketing)==null?void 0:I.activeActivities)==null?void 0:F.length} 个
`}}const On=new Ny,Ln={nightService:{name:"24h客服",description:"夜班机器人话术",type:"night",icon:"",color:"from-indigo-400 to-blue-500"},skinAnalysis:{name:"皮肤检测",description:"5秒AI测肤营销文案",type:"skin",icon:"",color:"from-pink-400 to-rose-500"},projectRecommend:{name:"项目推荐",description:"AI配项目+产品",type:"project",icon:"",color:"from-yellow-400 to-orange-500"},autoMarketing:{name:"自动营销",description:"沉睡客唤醒短信",type:"sms",icon:"",color:"from-green-400 to-emerald-500"}},wy=()=>{const[e,t]=k.useState([{role:"assistant",content:`你好！我是美容院AI智能助手。我可以帮助您：

1. 分析业务数据，发现机遇
2. 优化员工排班和服务流程
3. 识别高风险客户，制定留存策略
4. 分析营销活动ROI
5. 提供收入增长建议

我现在可以访问您的系统数据，提供更智能的建议！`}]),[r,n]=k.useState(""),[l,a]=k.useState(!1),[o,i]=k.useState(!1),[c,d]=k.useState(!1),[p,h]=k.useState(!1),[x,g]=k.useState(null),m=k.useRef(null),v=()=>{var S;(S=m.current)==null||S.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{v()},[e]),k.useEffect(()=>{l&&(async()=>{try{const C=await On.collectAllData();$t.setSystemData(C),d(!0)}catch(C){console.error("初始化增强AI失败:",C),d(!1);try{$t.setDemoMode(!0),$n.setDemoMode(!0)}catch(T){console.error("设置演示模式失败:",T)}}})()},[l]);const y=async S=>{if(S.preventDefault(),!r.trim())return;const C={role:"user",content:r,timestamp:new Date};t(T=>[...T,C]),n(""),i(!0);try{let T;if(c){const I=await On.collectAllData();$t.setSystemData(I),T=await $t.chat(r)}else T=await $n.chat(r);const w={role:"assistant",content:T.content,timestamp:new Date};t(I=>[...I,w])}catch(T){const w={role:"assistant",content:`出错了: ${T.message}。

请检查：
1. 网络连接
2. GLM API Key 是否正确
3. 稍后重试`,timestamp:new Date};t(I=>[...I,w])}finally{i(!1)}},u=async S=>{g(S);const C=Object.values(Ln).find(T=>{var w;return T.name===((w=Object.values(Ln).find(I=>Object.keys(Ln).find(F=>F===S)))==null?void 0:w.name)});if(C){const T=`请为我的美容院生成相关的${C.name}内容。`;n(T),h(!1)}},f=async()=>{i(!0);const S={role:"user",content:"请根据当前系统数据，给我一份完整的智能建议报告",timestamp:new Date};t(C=>[...C,S]);try{if(c){const C=await On.collectAllData();$t.setSystemData(C);const w={role:"assistant",content:(await $t.getSmartRecommendations()).content,timestamp:new Date};t(I=>[...I,w])}else throw new Error("增强AI未初始化，使用基础AI")}catch(C){const T={role:"assistant",content:`生成建议失败: ${C.message}。

尝试中...`,timestamp:new Date};t(w=>[...w,T]);try{const I={role:"assistant",content:(await $n.chat("请根据当前系统数据，给我一份完整的智能建议报告")).content,timestamp:new Date};t(F=>{const N=[...F];return N[N.length-1]=I,N})}catch(w){console.error("基础AI也失败:",w)}}finally{i(!1)}},b=async S=>{n(""),i(!0);let C="";switch(S){case"risk":C="请分析我的高风险客户情况，并提出具体的留存策略。";break;case"schedule":C="根据预约数据，请建议如何优化员工排班以提高效率？";break;case"pricing":C="根据销售数据，我应该如何调整服务定价来增加收入？";break;case"marketing":C="分析我的营销活动ROI，请建议下月的营销策略。";break;case"smart":await f();return;default:C=S}const T={role:"user",content:C,timestamp:new Date};t(w=>[...w,T]);try{let w;if(c){const F=await On.collectAllData();$t.setSystemData(F),w=await $t.chat(C)}else w=await $n.chat(C);const I={role:"assistant",content:w.content,timestamp:new Date};t(F=>[...F,I])}catch(w){const I={role:"assistant",content:`错误: ${w.message}`,timestamp:new Date};t(F=>[...F,I])}finally{i(!1)}};return s.jsxs("div",{children:[!l&&s.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-4 right-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white p-4 rounded-full shadow-xl hover:shadow-2xl hover:scale-110 transition-all",title:"打开 AI 助手",children:s.jsx(qx,{size:24})}),l&&s.jsxs("div",{className:"fixed bottom-4 right-4 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 flex flex-col h-[600px] z-50",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white p-4 flex justify-between items-center rounded-t-xl",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"AI 助手"}),s.jsxs("p",{className:"text-xs opacity-90",children:[c?"数据驱动模式":"标准模式"," (GLM-4.5-Flash)"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>h(!p),className:"hover:bg-white hover:bg-opacity-20 p-1 rounded transition",title:"管理员菜单",children:s.jsx(Ep,{size:20})}),s.jsx("button",{onClick:()=>a(!1),className:"hover:bg-white hover:bg-opacity-20 p-1 rounded transition",children:s.jsx(Tt,{size:20})})]})]}),p&&s.jsxs("div",{className:"border-b bg-gray-50 p-3 max-h-32 overflow-y-auto",children:[s.jsx("div",{className:"text-xs font-bold text-gray-600 mb-2",children:" 商业功能"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Ln).map(([S,C])=>s.jsxs("button",{onClick:()=>u(S),className:`text-xs px-2 py-1 rounded text-white font-medium transition bg-gradient-to-r ${C.color} hover:opacity-90`,title:C.description,children:[C.icon," ",C.name]},S))})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[e.map((S,C)=>s.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-xs px-4 py-3 rounded-lg whitespace-pre-wrap text-sm ${S.role==="user"?"bg-green-500 text-white rounded-br-none":"bg-white text-gray-800 border border-gray-200 rounded-bl-none"}`,children:S.content})},C)),o&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"bg-white text-gray-800 px-4 py-3 rounded-lg border border-gray-200 rounded-bl-none flex items-center gap-2",children:[s.jsx(Gn,{size:16,className:"animate-spin"}),s.jsx("span",{children:"AI 思考中..."})]})}),s.jsx("div",{ref:m})]}),e.length<=2&&s.jsxs("div",{className:"px-3 py-2 border-t bg-white",children:[s.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"快速操作："}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>b("risk"),className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200 transition",disabled:o,children:"流失分析"}),s.jsx("button",{onClick:()=>b("schedule"),className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition",disabled:o,children:"排班优化"}),s.jsx("button",{onClick:()=>b("pricing"),className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded hover:bg-amber-200 transition",disabled:o,children:"定价建议"}),s.jsx("button",{onClick:()=>b("marketing"),className:"text-xs bg-pink-100 text-pink-700 px-2 py-1 rounded hover:bg-pink-200 transition",disabled:o,children:"营销分析"})]}),c&&s.jsxs("button",{onClick:()=>b("smart"),className:"w-full mt-2 text-xs bg-gradient-to-r from-green-400 to-emerald-400 text-white px-2 py-2 rounded hover:opacity-90 transition flex items-center justify-center gap-1",disabled:o,children:[s.jsx(_e,{size:14}),"智能建议报告"]})]}),s.jsxs("form",{onSubmit:y,className:"border-t p-3 flex gap-2 bg-white rounded-b-xl",children:[s.jsx("input",{type:"text",value:r,onChange:S=>n(S.target.value),placeholder:"输入您的问题...",className:"flex-1 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",disabled:o}),s.jsx("button",{type:"submit",disabled:o||!r.trim(),className:"bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 transition",children:s.jsx(Mi,{size:18})})]})]})]})},ky=()=>{const[e,t]=k.useState("live"),[r,n]=k.useState(""),[l,a]=k.useState(null),[o,i]=k.useState(null),[c,d]=k.useState("list"),[p,h]=k.useState("all"),[x,g]=k.useState(""),[m,v]=k.useState(!1),y=[{id:"c1",title:"美容师专业培训初级班",description:"学习基础美容知识、操作技能和客户服务",category:"基础培训",instructor:"王美容师",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=300&h=200&fit=crop",level:"beginner",duration:"4周",students:328,rating:4.8,progress:65,lessons:24},{id:"c2",title:"高级护肤技术精修班",description:"深入学习各类护肤品使用、皮肤诊断和定制方案",category:"专业技能",instructor:"李专家",image:"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=300&h=200&fit=crop",level:"advanced",duration:"8周",students:156,rating:4.9,progress:30,lessons:40},{id:"c3",title:"客户服务与销售技巧",description:"掌握沟通技巧、客户心理学和销售方法",category:"管理培训",instructor:"张讲师",image:"https://images.unsplash.com/photo-1516321318423-f06f70504504?w=300&h=200&fit=crop",level:"intermediate",duration:"3周",students:412,rating:4.7,progress:45,lessons:18},{id:"c4",title:"美容院经营管理实战",description:"团队管理、成本控制、营销策略等综合管理",category:"经营管理",instructor:"陈经理",image:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=300&h=200&fit=crop",level:"advanced",duration:"6周",students:89,rating:4.6,progress:0,lessons:32},{id:"c5",title:"化妆品知识与产品推荐",description:"了解产品成分、功效，学会推荐合适产品",category:"产品知识",instructor:"刘讲师",image:"https://images.unsplash.com/photo-1607346256330-dee4af15f7cb?w=300&h=200&fit=crop",level:"beginner",duration:"2周",students:567,rating:4.8,progress:80,lessons:14},{id:"c6",title:"新型美容仪器操作指南",description:"学习最新仪器设备的原理、操作和维护",category:"技术装备",instructor:"王工程师",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=300&h=200&fit=crop",level:"intermediate",duration:"3周",students:234,rating:4.7,progress:50,lessons:16}],u=[{id:"live1",title:"今日直播：秋季护肤方案设计",instructor:"王美容师",startTime:"2025-10-22 19:00",duration:"1.5小时",students:245,status:"live",topic:"季节护肤",image:"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=400&h=300&fit=crop",description:"针对秋季皮肤特点，设计个性化护肤方案。讲师将分享最新的护肤理念和技巧。",capacity:500,tags:["护肤","季节护理","实战技巧"],avgRating:4.8,reviews:28},{id:"live2",title:"明日直播：如何提升客户满意度",instructor:"张讲师",startTime:"2025-10-23 14:00",duration:"1小时",students:156,status:"upcoming",topic:"客户服务",image:"https://images.unsplash.com/photo-1516321318423-f06f70504504?w=400&h=300&fit=crop",description:"通过实际案例分析，教你如何有效提升客户满意度和复购率。",capacity:300,tags:["客户服务","满意度","销售技巧"],avgRating:4.6,reviews:15},{id:"live3",title:"本周回放：美容仪器使用技巧",instructor:"王工程师",startTime:"2025-10-21 18:00",duration:"1.5小时",students:89,status:"ended",topic:"仪器培训",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=400&h=300&fit=crop",description:"详细讲解新型美容仪器的操作方法、维护技巧和故障排除。",capacity:400,tags:["仪器操作","技术培训","维护"],avgRating:4.7,reviews:32},{id:"live4",title:"化妆品成分解读专场",instructor:"刘讲师",startTime:"2025-10-24 15:00",duration:"1小时",students:178,status:"upcoming",topic:"产品知识",image:"https://images.unsplash.com/photo-1607346256330-dee4af15f7cb?w=400&h=300&fit=crop",description:"深入解读化妆品成分，帮助你更好地推荐产品给客户。",capacity:350,tags:["产品知识","成分分析","推荐技巧"],avgRating:4.9,reviews:24}],f=[{id:"tutor1",name:"美容知识AI导师",specialty:"皮肤护理、产品知识",availability:"24/7全天在线",rating:4.9,responseTime:"即时",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"},{id:"tutor2",name:"销售技巧AI导师",specialty:"客户沟通、销售方法",availability:"工作时间9:00-18:00",rating:4.7,responseTime:"5分钟内",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop"},{id:"tutor3",name:"经营管理AI导师",specialty:"成本控制、团队管理",availability:"工作时间",rating:4.8,responseTime:"10分钟内",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"}],b=[{id:"path1",name:"美容师成长路径",description:"从初级美容师到高级讲师的完整学习计划",courses:["c1","c3","c5","c2"],progress:65,completed:2,difficulty:"中等"},{id:"path2",name:"店铺经营者路径",description:"学习经营管理和营销策略",courses:["c4","c3"],progress:30,completed:0,difficulty:"高"}],S=[{id:"c1",author:"小美",content:"讲得太好了！学到了很多护肤知识",timestamp:"2分钟前",likes:12,avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=40&h=40&fit=crop"},{id:"c2",author:"张老师",content:"感谢分享，这个方法我会尝试",timestamp:"5分钟前",likes:8,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop"},{id:"c3",author:"李美",content:"有没有专门针对油性皮肤的方案？",timestamp:"10分钟前",likes:5,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop"}],C=y.filter(w=>w.title.toLowerCase().includes(r.toLowerCase())||w.description.toLowerCase().includes(r.toLowerCase())),T=u.filter(w=>p==="all"?!0:w.status===p);return e==="learning"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"在线课程学习"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"选择课程开始学习，提升专业技能"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-4",children:[s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:r,onChange:w=>n(w.target.value),placeholder:"搜索课程...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:["全部","基础培训","专业技能","管理培训","产品知识"].map(w=>s.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${w==="全部"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w},w))})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(w=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("img",{src:w.image,alt:w.title,className:"w-full h-40 object-cover"}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-900 line-clamp-2 flex-1",children:w.title}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded whitespace-nowrap ${w.level==="beginner"?"bg-green-100 text-green-700":w.level==="intermediate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:w.level==="beginner"?"入门":w.level==="intermediate"?"进阶":"高级"})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:w.description}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsxs("span",{children:["讲师：",w.instructor]}),s.jsx("span",{children:w.duration})]}),w.progress!==void 0&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${w.progress}%`}})}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-600",children:[w.students," 人学习"]}),s.jsxs("span",{className:"text-yellow-500",children:[" ",w.rating]})]})]}),s.jsx("button",{onClick:()=>a(w),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:w.progress===0?"开始学习":"继续学习"})]})]},w.id))}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l.title}),s.jsx("button",{onClick:()=>a(null),className:"text-gray-600 hover:text-gray-900"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("img",{src:l.image,alt:l.title,className:"w-full h-48 object-cover rounded-lg"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.lessons}),s.jsx("p",{className:"text-sm text-gray-600",children:"课程数"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.duration}),s.jsx("p",{className:"text-sm text-gray-600",children:"学习周期"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.students}),s.jsx("p",{className:"text-sm text-gray-600",children:"学员数"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:l.rating}),s.jsx("p",{className:"text-sm text-gray-600",children:"评分"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-2",children:"课程描述"}),s.jsx("p",{className:"text-gray-700",children:l.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:[s.jsx(El,{className:"w-4 h-4 inline mr-2"}),"开始学习"]}),s.jsx("button",{onClick:()=>a(null),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"关闭"})]})]})]})})]}):e==="live"&&o&&c==="detail"?s.jsxs("div",{className:"space-y-6",children:[s.jsx("button",{onClick:()=>{d("list"),i(null)},className:"text-blue-600 hover:text-blue-700 font-medium flex items-center gap-2",children:"← 返回直播列表"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"bg-black rounded-lg overflow-hidden aspect-video flex items-center justify-center relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-black flex items-center justify-center",children:s.jsx(cs,{className:"w-16 h-16 text-gray-600"})}),o.status==="live"&&s.jsxs("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"直播中"]}),o.status==="ended"&&s.jsx("div",{className:"absolute top-4 left-4 bg-gray-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"已结束 - 回放"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:o.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:o.description})]}),s.jsx("button",{className:"text-gray-400 hover:text-red-600",children:s.jsx(Sl,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 pb-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"讲师"}),s.jsx("p",{className:"font-bold text-gray-900",children:o.instructor})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"参加人数"}),s.jsx("p",{className:"font-bold text-gray-900",children:o.students})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"容量"}),s.jsx("p",{className:"font-bold text-gray-900",children:o.capacity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"时长"}),s.jsx("p",{className:"font-bold text-gray-900",children:o.duration})]})]}),o.tags&&s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"课程标签"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map(w=>s.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:w},w))})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs("button",{className:`px-6 py-2 rounded-lg font-medium flex items-center gap-2 ${o.status==="live"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[s.jsx(cs,{className:"w-4 h-4"}),o.status==="live"?"进入直播间":o.status==="upcoming"?"预约提醒":"查看回放"]}),s.jsxs("button",{className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center gap-2",children:[s.jsx(Gx,{className:"w-4 h-4"}),"分享"]}),s.jsxs("button",{className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center gap-2",children:[s.jsx(Ux,{className:"w-4 h-4"}),"收藏"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"课程评价"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xe,{className:"w-5 h-5 text-yellow-500 fill-current"}),s.jsx("span",{className:"font-bold text-gray-900",children:o.avgRating}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",o.reviews," 条评价)"]})]})]}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(w=>s.jsxs("div",{className:"pb-4 border-b border-gray-200 last:border-b-0",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=40&h=40&fit=crop",alt:"用户",className:"w-8 h-8 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-medium text-gray-900",children:["用户",w]}),s.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(I=>s.jsx(Xe,{className:"w-3 h-3 text-yellow-500 fill-current"},I)),s.jsxs("span",{className:"text-xs text-gray-600",children:[w," 天前"]})]})]})]}),s.jsx("p",{className:"text-sm text-gray-700",children:"非常专业的讲解，学到了很多实用的知识！"})]},w))})]})]}),s.jsxs("div",{className:"space-y-4",children:[o.status==="live"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Io,{className:"w-4 h-4"}),"直播评论 (",S.length,")"]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto mb-4",children:S.map(w=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("img",{src:w.avatar,alt:w.author,className:"w-8 h-8 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900",children:w.author}),s.jsx("span",{className:"text-xs text-gray-500",children:w.timestamp})]}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:w.content}),s.jsxs("button",{className:"text-xs text-gray-500 hover:text-red-600 mt-1 flex items-center gap-1",children:[s.jsx(Sl,{className:"w-3 h-3"}),w.likes]})]})]},w.id))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:x,onChange:w=>g(w.target.value),placeholder:"说点什么...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:s.jsx(Mi,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-4",children:[s.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"直播互动数据"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"️ 观看人数"}),s.jsx("span",{className:"font-bold text-gray-900",children:o.students})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:" 评论数"}),s.jsx("span",{className:"font-bold text-gray-900",children:S.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"️ 点赞总数"}),s.jsx("span",{className:"font-bold text-gray-900",children:S.reduce((w,I)=>w+I.likes,0)})]})]})]})]}),o.status==="ended"&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"录播回放"}),s.jsxs("button",{onClick:()=>v(!m),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 mb-3",children:[s.jsx(El,{className:"w-4 h-4"}),"观看完整回放"]}),s.jsxs("button",{className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[s.jsx(kp,{className:"w-4 h-4"}),"下载课程资料"]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"推荐课程"}),s.jsx("div",{className:"space-y-2",children:T.filter(w=>w.id!==o.id).slice(0,3).map(w=>s.jsxs("div",{className:"p-2 border border-gray-200 rounded hover:bg-gray-50 cursor-pointer",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:w.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:w.instructor})]},w.id))})]})]})]})]}):e==="live"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 rounded-lg border border-red-200 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-900",children:"直播课堂"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["实时互动学习，与讲师在线交流 | 共 ",u.length," 门直播课程"]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-4",children:[s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:r,onChange:w=>n(w.target.value),placeholder:"搜索直播课程...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsx(Sp,{className:"w-4 h-4 text-gray-600"}),["all","live","upcoming","ended"].map(w=>s.jsx("button",{onClick:()=>h(w),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${p===w?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w==="all"?"全部":w==="live"?"直播中":w==="upcoming"?"即将开始":"已结束"},w))]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.map(w=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:w.image,alt:w.title,className:"w-full h-40 object-cover"}),s.jsx("div",{className:`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-medium text-white ${w.status==="live"?"bg-red-600":w.status==="upcoming"?"bg-blue-600":"bg-gray-600"}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${w.status==="live"?"bg-white animate-pulse":"bg-white"}`}),w.status==="live"?"直播中":w.status==="upcoming"?"即将开始":"已结束"]})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:w.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:w.description}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"w-4 h-4"}),"讲师：",w.instructor]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"w-4 h-4"}),w.startTime," | ",w.duration]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"w-4 h-4"}),w.students," / ",w.capacity," 人"]}),w.avgRating&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xe,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"font-medium",children:w.avgRating})]})]})]}),s.jsxs("button",{onClick:()=>{i(w),d("detail")},className:`w-full px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 ${w.status==="live"?"bg-red-600 text-white hover:bg-red-700":w.status==="upcoming"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx(cs,{className:"w-4 h-4"}),w.status==="live"?"进入直播间":w.status==="upcoming"?"预约提醒":"查看回放"]})]})]},w.id))})]}):e==="tutor"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"AI导师助学"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"24/7智能答疑，个性化学习指导"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map(w=>s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("img",{src:w.avatar,alt:w.name,className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:w.name}),s.jsx("p",{className:"text-sm text-gray-600",children:w.specialty})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"评分"}),s.jsxs("span",{className:"font-medium text-yellow-500",children:[" ",w.rating]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"可用性"}),s.jsx("span",{className:"font-medium text-green-600",children:w.availability})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"响应时间"}),s.jsx("span",{className:"font-medium text-blue-600",children:w.responseTime})]})]}),s.jsxs("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium flex items-center justify-center gap-2",children:[s.jsx(Io,{className:"w-4 h-4"}),"开始对话"]})]})},w.id))}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"常见问题速查"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"如何选择合适的护肤方案？"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"根据客户皮肤类型分析..."})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"怎样提高客户复购率？"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"建立客户档案，制定跟进计划..."})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"新仪器怎样快速上手？"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"观看操作视频，参加实训课程..."})]})]})]})]}):e==="progress"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-green-900",children:"学习进度追踪"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"查看学习统计和成就徽章"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"已完成课程"}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:"5"})]}),s.jsx(qe,{className:"w-8 h-8 text-green-600 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-blue-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"学习时间"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:"48小时"})]}),s.jsx(ws,{className:"w-8 h-8 text-blue-600 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-purple-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"获得徽章"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:"12"})]}),s.jsx(rr,{className:"w-8 h-8 text-purple-600 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-orange-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"学习排名"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-1",children:"#8"})]}),s.jsx(yt,{className:"w-8 h-8 text-orange-600 opacity-20"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"学习路径进度"}),s.jsx("div",{className:"space-y-4",children:b.map(w=>s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description})]}),s.jsxs("span",{className:"text-sm font-medium bg-blue-100 text-blue-700 px-3 py-1 rounded",children:[w.difficulty,"难度"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["进度：",w.completed," / ",w.courses.length," 完成"]}),s.jsxs("span",{className:"font-medium text-blue-600",children:[w.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${w.progress}%`}})})]})]},w.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"成就徽章"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"初学者",icon:""},{name:"知识精英",icon:""},{name:"连胜7天",icon:""},{name:"课程完成者",icon:""},{name:"答题高手",icon:""},{name:"学霸",icon:""}].map(w=>s.jsxs("div",{className:"text-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsx("p",{className:"text-3xl mb-1",children:w.icon}),s.jsx("p",{className:"text-xs font-medium text-gray-700",children:w.name})]},w.name))})]})]}):e==="resources"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg border border-yellow-200 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-yellow-900",children:"学习资源库"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"下载教材、资料和工具"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Gc,{className:"w-6 h-6 text-blue-600"}),s.jsx("h3",{className:"font-bold text-gray-900",children:"电子教材"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"美容基础理论完全手册"}),s.jsx("span",{className:"text-xs text-gray-600",children:"2.5MB"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"产品知识速查表"}),s.jsx("span",{className:"text-xs text-gray-600",children:"1.2MB"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"销售技巧实战指南"}),s.jsx("span",{className:"text-xs text-gray-600",children:"3.1MB"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(cs,{className:"w-6 h-6 text-red-600"}),s.jsx("h3",{className:"font-bold text-gray-900",children:"视频教程"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"基础护肤手法演示"}),s.jsx("span",{className:"text-xs text-gray-600",children:"45分钟"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"仪器操作完全指南"}),s.jsx("span",{className:"text-xs text-gray-600",children:"2小时"})]}),s.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"客户沟通技巧分享"}),s.jsx("span",{className:"text-xs text-gray-600",children:"35分钟"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"工具和模板"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer text-center",children:[s.jsx("p",{className:"text-2xl mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-2",children:"客户档案模板"}),s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"下载"})]}),s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer text-center",children:[s.jsx("p",{className:"text-2xl mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-2",children:"销售报表模板"}),s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"下载"})]}),s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer text-center",children:[s.jsx("p",{className:"text-2xl mb-2"}),s.jsx("p",{className:"font-medium text-sm mb-2",children:"员工培训计划表"}),s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"下载"})]})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg p-8 text-white",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:"培训教育中心"}),s.jsx("p",{className:"text-lg opacity-90",children:"专业培训 • 直播互动 • AI导师 • 实时反馈"})]}),s.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[{key:"learning",label:" 在线课程",icon:lr},{key:"live",label:" 直播课堂",icon:cs},{key:"tutor",label:" AI导师",icon:wl},{key:"progress",label:" 学习进度",icon:nr},{key:"resources",label:" 学习资源",icon:Gc}].map(w=>s.jsx("button",{onClick:()=>t(w.key),className:`px-4 py-3 font-medium whitespace-nowrap border-b-2 transition-colors ${e===w.key?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:w.label},w.key))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-4",children:[s.jsx("p",{className:"text-sm text-blue-700 mb-1",children:"总课程数"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"18"}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"涵盖6大类别"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200 p-4",children:[s.jsx("p",{className:"text-sm text-red-700 mb-1",children:"直播课程"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:u.length}),s.jsx("p",{className:"text-xs text-red-600 mt-2",children:"本周开课"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 mb-1",children:"AI导师"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"3"}),s.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"24/7在线"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200 p-4",children:[s.jsx("p",{className:"text-sm text-green-700 mb-1",children:"我的进度"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"65%"}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"已完成5门课"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:" 快速入门"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>t("learning"),className:"p-4 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors text-left",children:[s.jsx("p",{className:"font-bold text-blue-600 mb-1",children:"选择课程开始学习"}),s.jsx("p",{className:"text-sm text-gray-600",children:"浏览18门专业课程，选择适合你的"})]}),s.jsxs("button",{onClick:()=>t("live"),className:"p-4 border border-red-200 rounded-lg hover:bg-red-50 transition-colors text-left",children:[s.jsx("p",{className:"font-bold text-red-600 mb-1",children:"加入直播互动"}),s.jsx("p",{className:"text-sm text-gray-600",children:"实时与讲师交流，解答疑惑"})]}),s.jsxs("button",{onClick:()=>t("tutor"),className:"p-4 border border-purple-200 rounded-lg hover:bg-purple-50 transition-colors text-left",children:[s.jsx("p",{className:"font-bold text-purple-600 mb-1",children:"咨询AI导师"}),s.jsx("p",{className:"text-sm text-gray-600",children:"即时答疑，获得个性化建议"})]})]})]})]})},Sy=()=>{const[e,t]=k.useState("appointments"),[r,n]=k.useState([]),[l,a]=k.useState([]),[o,i]=k.useState(!1),[c,d]=k.useState(null),[p,h]=k.useState({customerName:"",customerPhone:"",serviceType:"面部护理",appointmentDate:"",appointmentTime:"",serviceAddress:"",serviceArea:"",duration:60,price:168,staffName:"",notes:""});k.useEffect(()=>{x(),g()},[]);const x=()=>{const N=localStorage.getItem("onSiteAppointments");n(N?JSON.parse(N):[{id:"1",customerName:"王女士",customerPhone:"13800138000",serviceType:"面部护理",appointmentDate:"2024-10-25",appointmentTime:"14:00",serviceAddress:"高新区科技路100号",serviceArea:"高新区",duration:60,price:168,staffName:"李美容师",status:"confirmed",notes:"客户要求保湿护理，有敏感肌肤",createdAt:"2024-10-23"}])},g=()=>{const N=localStorage.getItem("onSiteServiceHistory");a(N?JSON.parse(N):[{id:"h1",customerName:"张女士",serviceType:"面部护理",completedDate:"2024-10-20",serviceAddress:"南山区中心路50号",staffName:"王美容师",price:168,duration:60,rating:5,feedback:"非常满意，服务专业，环境舒适"},{id:"h2",customerName:"李女士",serviceType:"深层清洁",completedDate:"2024-10-19",serviceAddress:"福田区华强北路",staffName:"陈美容师",price:128,duration:45,rating:5,feedback:"皮肤清洁效果明显，非常推荐"},{id:"h3",customerName:"刘女士",serviceType:"全身SPA",completedDate:"2024-10-18",serviceAddress:"罗湖区东门路",staffName:"李美容师",price:388,duration:120,rating:5,feedback:"放松身心，服务一流"}])},m=N=>{localStorage.setItem("onSiteAppointments",JSON.stringify(N)),n(N)},v=N=>{localStorage.setItem("onSiteServiceHistory",JSON.stringify(N)),a(N)},y=()=>{if(!p.customerName||!p.appointmentDate){alert("请填写必填项");return}if(c){const N=r.map(j=>j.id===c?{...j,...p,id:j.id,createdAt:j.createdAt}:j);m(N),d(null)}else{const N={id:Date.now().toString(),...p,status:"pending",createdAt:new Date().toISOString().split("T")[0]};m([...r,N])}T(),i(!1)},u=N=>{h({customerName:N.customerName,customerPhone:N.customerPhone,serviceType:N.serviceType,appointmentDate:N.appointmentDate,appointmentTime:N.appointmentTime,serviceAddress:N.serviceAddress,serviceArea:N.serviceArea,duration:N.duration,price:N.price,staffName:N.staffName,notes:N.notes}),d(N.id),i(!0)},f=N=>{confirm("确定要删除这个预约吗？")&&m(r.filter(j=>j.id!==N))},b=N=>{const j=r.map(O=>O.id===N.id?{...O,status:"completed"}:O);m(j);const P={id:"h"+Date.now(),customerName:N.customerName,serviceType:N.serviceType,completedDate:new Date().toISOString().split("T")[0],serviceAddress:N.serviceAddress,staffName:N.staffName,price:N.price,duration:N.duration,rating:5,feedback:""};v([...l,P]),alert("服务已标记为完成，已添加到历史记录")},S=N=>{if(confirm("确定要取消这个预约吗？")){const j=r.map(P=>P.id===N?{...P,status:"cancelled"}:P);m(j)}},C=N=>{const j=r.map(P=>P.id===N?{...P,status:"confirmed"}:P);m(j)},T=()=>{h({customerName:"",customerPhone:"",serviceType:"面部护理",appointmentDate:"",appointmentTime:"",serviceAddress:"",serviceArea:"",duration:60,price:168,staffName:"",notes:""}),d(null)},w=N=>({pending:{label:"待确认",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"已确认",color:"bg-blue-100 text-blue-800"},completed:{label:"已完成",color:"bg-green-100 text-green-800"},cancelled:{label:"已取消",color:"bg-red-100 text-red-800"}})[N]||{label:N,color:"bg-gray-100"},I=r.filter(N=>N.status==="pending").length,F=r.filter(N=>N.status==="completed").length;return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[s.jsx(gs,{className:"text-green-500",size:28}),"上门服务管理"]}),s.jsx("p",{className:"text-gray-600",children:"管理上门预约和服务历史记录"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"总预约数"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.length})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"待确认"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:I})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"已完成"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:F})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"历史记录数"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:l.length})]})]}),s.jsxs("div",{className:"flex gap-4 mb-6 border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>t("appointments"),className:`pb-3 font-semibold transition ${e==="appointments"?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-800"}`,children:["预约记录 (",r.length,")"]}),s.jsxs("button",{onClick:()=>t("history"),className:`pb-3 font-semibold transition ${e==="history"?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-800"}`,children:["历史记录 (",l.length,")"]})]}),e==="appointments"&&s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>{T(),i(!o)},className:"mb-6 bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition",children:[s.jsx(rs,{size:20}),o?"关闭表单":"新建预约"]}),o&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"编辑预约":"新建上门预约"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"客户姓名",value:p.customerName,onChange:N=>h({...p,customerName:N.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"tel",placeholder:"客户电话",value:p.customerPhone,onChange:N=>h({...p,customerPhone:N.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsxs("select",{value:p.serviceType,onChange:N=>h({...p,serviceType:N.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{children:"面部护理"}),s.jsx("option",{children:"深层清洁"}),s.jsx("option",{children:"扶痕护肤"}),s.jsx("option",{children:"眼部护理"}),s.jsx("option",{children:"全身SPA"})]}),s.jsx("input",{type:"date",value:p.appointmentDate,onChange:N=>h({...p,appointmentDate:N.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"time",value:p.appointmentTime,onChange:N=>h({...p,appointmentTime:N.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"text",placeholder:"服务地址",value:p.serviceAddress,onChange:N=>h({...p,serviceAddress:N.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"text",placeholder:"服务区域（如：高新区、南山区）",value:p.serviceArea,onChange:N=>h({...p,serviceArea:N.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"number",placeholder:"服务时长（分钟）",value:p.duration,onChange:N=>h({...p,duration:parseInt(N.target.value)}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"number",placeholder:"服务价格",value:p.price,onChange:N=>h({...p,price:parseFloat(N.target.value)}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("input",{type:"text",placeholder:"安排员工",value:p.staffName,onChange:N=>h({...p,staffName:N.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("textarea",{placeholder:"备注信息",value:p.notes,onChange:N=>h({...p,notes:N.target.value}),className:"col-span-2 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 resize-none h-20"})]}),s.jsxs("div",{className:"flex gap-4 mt-4",children:[s.jsx("button",{onClick:y,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition",children:c?"更新预约":"创建预约"}),s.jsx("button",{onClick:()=>{i(!1),T()},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg transition",children:"取消"})]})]}),s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"暂无预约记录"}):r.map(N=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg",children:N.customerName}),s.jsx("p",{className:"text-gray-600 text-sm",children:N.serviceType})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${w(N.status).color}`,children:w(N.status).label})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ws,{size:16}),N.appointmentDate," ",N.appointmentTime]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(gs,{size:16}),N.serviceArea]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(en,{size:16}),"¥",N.price]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ar,{size:16}),N.staffName]})]}),s.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:[s.jsx("span",{className:"font-semibold",children:"地址："}),N.serviceAddress]}),N.notes&&s.jsxs("p",{className:"text-gray-600 text-sm mb-3 bg-yellow-50 p-2 rounded",children:[s.jsx("span",{className:"font-semibold",children:"备注："}),N.notes]}),s.jsxs("div",{className:"flex gap-2",children:[N.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>C(N.id),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[s.jsx(Ao,{size:16})," 确认"]}),s.jsxs("button",{onClick:()=>u(N),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[s.jsx(Cl,{size:16})," 编辑"]})]}),N.status==="confirmed"&&s.jsxs("button",{onClick:()=>b(N),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[s.jsx(Ao,{size:16})," 完成服务"]}),N.status!=="completed"&&s.jsxs("button",{onClick:()=>S(N.id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[s.jsx(Tt,{size:16})," 取消"]}),s.jsxs("button",{onClick:()=>f(N.id),className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[s.jsx(Ss,{size:16})," 删除"]})]})]},N.id))})]}),e==="history"&&s.jsx("div",{children:s.jsx("div",{className:"space-y-4",children:l.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"暂无历史记录"}):l.map(N=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-green-50 hover:shadow-lg transition",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg text-green-900",children:N.customerName}),s.jsx("p",{className:"text-gray-600 text-sm",children:N.serviceType})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((j,P)=>s.jsx("span",{className:P<N.rating?"text-yellow-400":"text-gray-300"},P)),s.jsxs("span",{className:"ml-2 font-semibold text-yellow-600",children:[N.rating,".0"]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ws,{size:16}),N.completedDate]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(gs,{size:16}),N.serviceAddress]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(en,{size:16}),"¥",N.price]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ar,{size:16}),N.staffName]})]}),s.jsxs("p",{className:"text-gray-700 text-sm bg-white p-3 rounded mb-3 border border-green-200",children:[s.jsx("span",{className:"font-semibold",children:"评价："}),N.feedback||"暂无评价"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["服务时长：",N.duration,"分钟"]})]},N.id))})})]})};class Cy{getSystemPrompt(){return`你是美容院专属健康助手，根据用户输入的年龄、性别、肤质、生活习惯和目标，提供个性化护肤、健康、饮食建议。

重要规则：
- 回答简洁、专业、亲切
- 避免医学诊断
- 不推销产品
- 基于用户提供的信息给出建议
- 分类呈现建议（护肤、饮食、生活习惯）
- 每条建议控制在一句话内`}generateUserPrompt(t){const r=[];if(t.age&&r.push(`年龄：${t.age}岁`),t.gender){const n={male:"男性",female:"女性",other:"其他"};r.push(`性别：${n[t.gender]}`)}if(t.skinType){const n={dry:"干性",oily:"油性",combination:"混合性",sensitive:"敏感性"};r.push(`肤质：${n[t.skinType]}`)}if(t.sleepQuality){const n={good:"睡眠充足",fair:"睡眠一般",poor:"睡眠不足"};r.push(`睡眠：${n[t.sleepQuality]}`)}return t.stayUpLate&&r.push("经常熬夜"),t.dietPreference&&r.push(`饮食偏好：${t.dietPreference}`),t.goals&&t.goals.length>0&&r.push(`目标：${t.goals.join("、")}`),`用户信息：
${r.join(`
`)}

请基于以上信息提供详细的个性化建议，包括具体的护肤步骤、推荐的食物、生活调理方案。`}generateDetailedAdvice(t){let r="";return r+=this.generateSkinCareAdvice(t),r+=`

`,r+=this.generateDietAdvice(t),r+=`

`,r+=this.generateLifestyleAdvice(t),r}generateSkinCareAdvice(t){let r=`护肤建议：
`;const n=t.skinType||"oily",l=t.goals||[];return r+=`早上护肤步骤：洁面 → 爽肤水 → 精华液 → 乳液 → 防晒（必须）
`,r+=`晚间护肤步骤：洁面 → 爽肤水 → 精华液 → 面霜 → 眼霜
`,n==="oily"?(r+=`油性肤质：使用含烟酰胺、水杨酸的清爽型产品，每周2-3次深层清洁面膜。
`,r+=`重点护理：T 字区加强控油，使用吸油面纸和控油精华。
`):n==="dry"?(r+=`干性肤质：选择含透明质酸、甘油的滋润型产品，每周1次补水面膜。
`,r+=`重点护理：加强保湿，使用精油或面霜加强滋润度。
`):n==="combination"?(r+=`混合性肤质：分区护理，T 字区清爽型产品，面颊部位选择滋润型。
`,r+=`重点护理：平衡油水，使用平衡精华，定期深层清洁。
`):n==="sensitive"&&(r+=`敏感性肤质：使用温和无刺激的产品，避免含酒精和香精的产品。
`,r+=`重点护理：舒缓修复，使用含神经酰胺、泛醇的修复面膜。
`),l.includes("祛痘")&&(r+=`祛痘方案：使用含水杨酸、果酸的产品，每周1-2次深层清洁，避免用手挤压。
`,r+=`配合：口服维生素 B、锌补充剂，改善肠道健康。
`),l.includes("美白")&&(r+=`美白方案：使用含烟酰胺、传明酸、维生素C的产品，坚持使用6-8周可见效果。
`,r+=`配合：严格防晒，避免日晒，夜间使用美白精华。
`),l.includes("抗老")&&(r+=`抗老方案：使用含视黄醇、肽类的产品，每周使用2-3次，可配合面部提拉仪。
`,r+=`重点区域：眼周、法令纹、颈部加强护理。
`),l.includes("补水")&&(r+=`补水方案：每周做1-2次补水面膜，使用保湿喷雾定时补水，多喝水。
`,r+=`配合：使用加湿器，室内湿度保持在 40-60%。
`),r}generateDietAdvice(t){let r=`饮食建议：
`;const n=t.goals||[],l=t.age||25;return r+=`基础饮食：多吃新鲜蔬菜水果（日均500g），优质蛋白（鱼、鸡蛋、豆类），全谷物。
`,r+=`保健食材：黑芝麻、核桃、红枣、蜂蜜、绿茶、燕麦。
`,l>=25&&l<35?r+=`25-35岁：注重抗衰老营养，增加胶原蛋白摄入（鱼类、猪皮、骨汤）。
`:l>=35&&l<45&&(r+=`35-45岁：加强钙质吸收，多吃豆制品、牛奶，预防骨质流失。
`),t.skinType==="oily"?(r+=`油性肌肤：避免辛辣刺激、油腻食物，减少糖分和咖啡因摄入。
`,r+=`推荐食物：绿豆、冬瓜、薏米、苦瓜、黄瓜。
`):t.skinType==="dry"&&(r+=`干性肌肤：增加油脂摄入，多吃坚果、牛油果、橄榄油。
`,r+=`推荐食物：银耳、百合、蜂蜜、豆浆、鱼类。
`),n.includes("祛痘")&&(r+=`祛痘食谱：增加锌摄入（牡蛎、南瓜子、鸡蛋），维生素 A（胡萝卜、菠菜、红薯）。
`,r+=`忌口：油炸食物、巧克力、坚果类过量、辛辣刺激食物。
`),n.includes("美白")&&(r+=`美白食谱：高维生素 C 食物（柑橘、猕猴桃、草莓、番茄、西兰花）。
`,r+=`推荐饮品：柠檬蜂蜜水、番茄汁、绿茶。
`),n.includes("补水")&&(r+=`补水食谱：高水分食物（冬瓜、冰淇淋、西瓜），多喝温水，每天 8 杯以上。
`,r+=`推荐饮品：黄瓜汁、绿茶、白开水、骨汤。
`),n.includes("瘦身")&&(r+=`瘦身食谱：增加纤维素和蛋白质，减少精细碳水化合物。
`,r+=`推荐食物：鸡胸肉、鱼类、豆制品、燕麦、糙米。
`),r}generateLifestyleAdvice(t){let r=`生活习惯建议：
`;t.sleepQuality;const n=t.goals||[];return t.stayUpLate?(r+=`作息调理：建议11点前入睡，23点前睡眠为最佳，每晚保证7-8小时睡眠。
`,r+=`调理方法：使用褪黑素辅助、避免睡前看手机、使用眼罩和耳塞。
`):(r+=`睡眠维护：保持规律作息，每天同一时间入睡，周末最多晚睡2小时。
`,r+=`睡眠环境：室温18-22°C，避免光线和噪音干扰。
`),r+=`运动计划：每周3-5次运动，每次30-60分钟，可选有氧+力量结合。
`,r+=`推荐运动：快走、慢跑、瑜伽、普拉提、游泳、健身房锻炼。
`,r+=`压力管理：学习冥想和深呼吸，每天10分钟冥想有助于舒缓压力。
`,r+=`放松方式：泡澡、听音乐、阅读、与朋友聊天。
`,r+=`防晒措施：全年坚持防晒，SPF30以上，每2小时补涂一次。
`,r+=`防晒方式：物理防晒（帽子、墨镜）+ 化学防晒结合。
`,n.includes("祛痘")&&(r+=`痘肌护理：避免手部接触面部，定期更换枕套和毛巾。
`,r+=`调理周期：通常需要 4-8 周才能看到明显改善。
`),n.includes("抗老")&&(r+=`抗衰调理：定期进行专业面部护理（每月1-2次），坚持运动增加皮肤弹性。
`,r+=`预防措施：戒烟限酒，避免过度日晒，减少表情纹。
`),r+=`季节护理：春季控油预防过敏、夏季防晒补水、秋季加强保湿、冬季深层滋润。
`,r}generatePrompts(t){return{system:this.getSystemPrompt(),user:this.generateUserPrompt(t)}}generateDetailedAdvices(t){return this.generateDetailedAdvice(t)}parseAIResponse(t){if(!t)return{success:!1,error:"未获得有效的 AI 响应"};try{const r=t.match(/护肤[：:]([\s\S]*?)(?=饮食|生活|$)/),n=t.match(/饮食[：:]([\s\S]*?)(?=生活|护肤|$)/),l=t.match(/生活[：:]([\s\S]*?)(?=护肤|饮食|$)/);return{success:!0,advice:t,skinCare:r?r[1].trim():"详细护肤建议已包含在完整建议中",diet:n?n[1].trim():"详细饮食建议已包含在完整建议中",lifestyle:l?l[1].trim():"详细生活建议已包含在完整建议中"}}catch{return{success:!0,advice:t,skinCare:"",diet:"",lifestyle:""}}}getExampleProfile(){return{age:25,gender:"female",skinType:"oily",stayUpLate:!0,dietPreference:"喜欢吃辣",goals:["祛痘","控油"]}}getExampleOutput(){return this.generateDetailedAdvice(this.getExampleProfile())}validateProfile(t){return!t.age&&!t.gender&&!t.skinType?{valid:!1,message:"请至少填写一项信息"}:{valid:!0}}}const as=new Cy,Ey=()=>{const[e,t]=k.useState({}),[r,n]=k.useState(null),[l,a]=k.useState(!1),[o,i]=k.useState(!1),[c,d]=k.useState(!1),p=(b,S)=>{t(C=>({...C,[b]:S}))},h=b=>{t(S=>{const C=S.goals||[];return C.includes(b)?{...S,goals:C.filter(T=>T!==b)}:{...S,goals:[...C,b]}})},x=async()=>{const b=as.validateProfile(e);if(!b.valid){alert(b.message);return}a(!0);try{const S=as.generatePrompts(e);await new Promise(w=>setTimeout(w,1e3));const C=as.getExampleOutput(),T=as.parseAIResponse(C);n(T)}catch(S){console.error("生成建议失败:",S),n({success:!1,error:"生成建议失败，请重试"})}finally{a(!1)}},g=()=>{const b=as.getExampleProfile();t(b);const S=as.getExampleOutput(),C=as.parseAIResponse(S);n(C),i(!0)},m=()=>{r!=null&&r.advice&&(navigator.clipboard.writeText(r.advice),d(!0),setTimeout(()=>d(!1),2e3))},v=()=>{t({}),n(null),i(!1)},y=[{value:"dry",label:"干性"},{value:"oily",label:"油性"},{value:"combination",label:"混合性"},{value:"sensitive",label:"敏感性"}],u=[{value:"good",label:"睡眠充足"},{value:"fair",label:"睡眠一般"},{value:"poor",label:"睡眠不足"}],f=["美白","抗老","补水","祛痘","瘦身","控油","舒缓","紧致"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-purple-600 rounded-lg p-8 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(wl,{className:"w-8 h-8"}),s.jsx("h1",{className:"text-3xl font-bold",children:"AI 健康助手"})]}),s.jsx("p",{className:"text-violet-100 text-lg",children:"智能分析您的健康状态，提供个性化护肤、饮食和生活建议"})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-5",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5"}),"用户信息"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"年龄"}),s.jsx("input",{type:"number",min:"18",max:"100",value:e.age||"",onChange:b=>p("age",b.target.value?parseInt(b.target.value):void 0),placeholder:"请输入年龄",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"性别"}),s.jsxs("select",{value:e.gender||"",onChange:b=>p("gender",b.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent",children:[s.jsx("option",{value:"",children:"请选择性别"}),s.jsx("option",{value:"female",children:"女性"}),s.jsx("option",{value:"male",children:"男性"}),s.jsx("option",{value:"other",children:"其他"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"肤质"}),s.jsxs("select",{value:e.skinType||"",onChange:b=>p("skinType",b.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent",children:[s.jsx("option",{value:"",children:"请选择肤质"}),y.map(b=>s.jsx("option",{value:b.value,children:b.label},b.value))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(Fx,{className:"w-4 h-4"}),"睡眠情况"]}),s.jsxs("select",{value:e.sleepQuality||"",onChange:b=>p("sleepQuality",b.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent",children:[s.jsx("option",{value:"",children:"请选择睡眠情况"}),u.map(b=>s.jsx("option",{value:b.value,children:b.label},b.value))]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"stayUpLate",checked:e.stayUpLate||!1,onChange:b=>p("stayUpLate",b.target.checked),className:"rounded border-gray-300 text-violet-600 focus:ring-violet-600"}),s.jsx("label",{htmlFor:"stayUpLate",className:"text-sm font-medium text-gray-700",children:"经常熬夜"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[s.jsx(zx,{className:"w-4 h-4"}),"饮食偏好"]}),s.jsx("input",{type:"text",value:e.dietPreference||"",onChange:b=>p("dietPreference",b.target.value),placeholder:"例如：喜欢吃辣，素食者",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Qt,{className:"w-4 h-4"}),"目标（可多选）"]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(b=>{var S;return s.jsx("button",{onClick:()=>h(b),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${(S=e.goals)!=null&&S.includes(b)?"bg-violet-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:b},b)})})]}),s.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[s.jsxs("button",{onClick:x,disabled:l,className:"w-full bg-violet-600 hover:bg-violet-700 disabled:bg-gray-400 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[s.jsx(Mi,{className:"w-5 h-5"}),l?"生成中...":"生成建议"]}),s.jsx("button",{onClick:g,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 rounded-lg transition-colors text-sm",children:"查看示例"}),s.jsxs("button",{onClick:v,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[s.jsx(Jx,{className:"w-4 h-4"}),"清空"]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:r?s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-6",children:r.success?s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"您的个性化建议"}),s.jsxs("details",{className:"group bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg p-6 border border-violet-200 cursor-pointer",children:[s.jsxs("summary",{className:"font-bold text-gray-900 text-lg mb-4 flex items-center justify-between",children:[s.jsx("span",{children:"📋 完整建议"}),s.jsx("span",{className:"text-violet-600 group-open:rotate-180 transition-transform",children:"▼"})]}),s.jsx("div",{className:"space-y-3 text-gray-700 leading-relaxed text-sm",children:r.advice.split(`
`).map((b,S)=>b.trim()&&s.jsxs("p",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-violet-600 font-bold min-w-[1.5rem]",children:"✓"}),s.jsx("span",{children:b})]},S))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border-2 border-blue-200",children:[s.jsxs("h4",{className:"font-bold text-blue-900 mb-3 text-lg flex items-center gap-2",children:[s.jsx("span",{children:"💆"})," 护肤建议"]}),s.jsx("div",{className:"space-y-2 text-sm text-blue-800",children:r.skinCare.split(`
`).map((b,S)=>b.trim()&&s.jsxs("div",{className:"flex items-start gap-2 bg-white bg-opacity-50 p-2 rounded",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:"→"}),s.jsx("span",{children:b})]},S))})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-5 border-2 border-green-200",children:[s.jsxs("h4",{className:"font-bold text-green-900 mb-3 text-lg flex items-center gap-2",children:[s.jsx("span",{children:"🥗"})," 饮食建议"]}),s.jsx("div",{className:"space-y-2 text-sm text-green-800",children:r.diet.split(`
`).map((b,S)=>b.trim()&&s.jsxs("div",{className:"flex items-start gap-2 bg-white bg-opacity-50 p-2 rounded",children:[s.jsx("span",{className:"text-green-600 font-bold",children:"→"}),s.jsx("span",{children:b})]},S))})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-5 border-2 border-orange-200",children:[s.jsxs("h4",{className:"font-bold text-orange-900 mb-3 text-lg flex items-center gap-2",children:[s.jsx("span",{children:"⏰"})," 生活习惯"]}),s.jsx("div",{className:"space-y-2 text-sm text-orange-800",children:r.lifestyle.split(`
`).map((b,S)=>b.trim()&&s.jsxs("div",{className:"flex items-start gap-2 bg-white bg-opacity-50 p-2 rounded",children:[s.jsx("span",{className:"text-orange-600 font-bold",children:"→"}),s.jsx("span",{children:b})]},S))})]})]}),s.jsxs("button",{onClick:m,className:"w-full bg-violet-600 hover:bg-violet-700 text-white font-bold py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[s.jsx(kl,{className:"w-4 h-4"}),c?"已复制":"复制建议"]})]}):s.jsx("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:s.jsxs("p",{className:"text-red-700 font-semibold",children:["❌ ",r.error]})})}):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[s.jsx(wl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg",children:'填写左侧信息后，点击"生成建议"获取个性化的护肤和健康方案'})]})})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[s.jsx("h3",{className:"font-bold text-blue-900 mb-3",children:"ℹ️ 使用说明"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[s.jsx("li",{children:"• 系统是美容院专属健康助手，提供护肤、健康、饮食建议"}),s.jsx("li",{children:"• 建议简洁、专业、亲切，避免医学诊断"}),s.jsx("li",{children:"• 至少填写一项信息才能生成建议"}),s.jsx("li",{children:"• 可选字段留空不填，系统会基于已有信息生成建议"}),s.jsx("li",{children:"• 所有建议仅供参考，请咨询专业人士获得医学诊断"})]})]})]})},Py=({onSelectService:e})=>{const[t,r]=k.useState(null),n=[{id:"skincare-detection",title:"皮肤检测",description:"智能分析肤质状态，提供专业护肤建议",icon:s.jsx(Lr,{className:"w-12 h-12"}),features:["肤质诊断","问题识别","产品推荐"],color:"from-indigo-600 to-purple-600",bgColor:"from-indigo-50 to-purple-50"},{id:"beauty-diagnosis",title:"美容诊断",description:"多维度美容分析，获得个性化美容方案",icon:s.jsx(Sl,{className:"w-12 h-12"}),features:["美容评分","疗程方案","产品推荐"],color:"from-pink-600 to-red-600",bgColor:"from-pink-50 to-red-50"},{id:"tongue-coating-detection",title:"舌苔检测",description:"中医舌诊分析，了解体质和健康状况",icon:s.jsx(yt,{className:"w-12 h-12"}),features:["体质诊断","中医调理","食疗方案"],color:"from-amber-600 to-orange-600",bgColor:"from-amber-50 to-orange-50"},{id:"health-assistant-ai",title:"AI 健康助手",description:"基于个人信息，提供个性化护肤、饮食和生活建议",icon:s.jsx(wl,{className:"w-12 h-12"}),features:["个性化分析","护肤建议","饮食方案","生活指导"],color:"from-violet-600 to-purple-600",bgColor:"from-violet-50 to-purple-50"}];return t==="health-assistant-ai"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:()=>r(null),className:"flex items-center gap-2 text-violet-600 hover:text-violet-700 font-semibold mb-4",children:[s.jsx(Ut,{className:"w-4 h-4 rotate-180"}),"返回健康助手列表"]}),s.jsx(Ey,{})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-lg p-8 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(_e,{className:"w-8 h-8"}),s.jsx("h1",{className:"text-3xl font-bold",children:"智能拍照检测系列"})]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"一键拍照，多维诊断 • 皮肤 • 美容 • 健康 • AI助手"})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg border-2 border-blue-200 p-6",children:s.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"4"}),s.jsx("p",{className:"text-gray-700 font-semibold",children:"智能诊断服务"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"全面覆盖皮肤、美容、健康"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:"100%"}),s.jsx("p",{className:"text-gray-700 font-semibold",children:"专业分析"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI智能+中医理论"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"1分钟"}),s.jsx("p",{className:"text-gray-700 font-semibold",children:"快速诊断"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"获得完整检测报告"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"个性化"}),s.jsx("p",{className:"text-gray-700 font-semibold",children:"AI助手"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"专属美容院建议"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>s.jsx("div",{className:"group",children:s.jsx("button",{onClick:()=>{l.id==="health-assistant-ai"?r(l.id):e(l.id)},className:"w-full h-full",children:s.jsxs("div",{className:`bg-gradient-to-br ${l.bgColor} rounded-lg border-2 border-gray-200 p-6 hover:shadow-xl transition-all duration-300 group-hover:border-transparent h-full flex flex-col`,children:[s.jsx("div",{className:`bg-gradient-to-br ${l.color} rounded-lg p-3 text-white w-fit mx-auto mb-3 group-hover:scale-110 transition-transform`,children:l.icon}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:l.title}),s.jsx("p",{className:"text-gray-600 mb-3 flex-1 text-sm",children:l.description}),s.jsx("div",{className:"space-y-1 mb-4",children:l.features.map((a,o)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),a]},o))}),s.jsxs("div",{className:`bg-gradient-to-r ${l.color} text-white py-2 px-3 rounded-lg font-bold flex items-center justify-center gap-2 group-hover:shadow-lg transition-all text-sm`,children:[s.jsx(Lr,{className:"w-4 h-4"}),l.id==="health-assistant-ai"?"立即开始":"立即检测",s.jsx(Ut,{className:"w-4 h-4"})]})]})})},l.id))}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"使用步骤"}),s.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{step:"1",title:"选择检测",desc:"选择需要的诊断服务"},{step:"2",title:"拍照上传",desc:"清晰拍摄照片并上传"},{step:"3",title:"AI分析",desc:"智能系统快速分析"},{step:"4",title:"获得报告",desc:"获得详细的诊断报告"}].map((l,a)=>s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold flex items-center justify-center mb-3 text-lg",children:l.step}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.title}),s.jsx("p",{className:"text-sm text-gray-600",children:l.desc})]}),a<3&&s.jsx("div",{className:"hidden md:block absolute top-6 -right-4 text-gray-300",children:s.jsx(Ut,{className:"w-6 h-6"})})]},a))})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 overflow-x-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"功能对比"}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 font-bold text-gray-900",children:"功能"}),s.jsx("th",{className:"text-center py-3 px-4 font-bold text-gray-900",children:"皮肤检测"}),s.jsx("th",{className:"text-center py-3 px-4 font-bold text-gray-900",children:"美容诊断"}),s.jsx("th",{className:"text-center py-3 px-4 font-bold text-gray-900",children:"舌苔检测"})]})}),s.jsx("tbody",{children:[{feature:"智能拍照分析",skincare:!0,beauty:!0,tongue:!0},{feature:"肤质诊断",skincare:!0,beauty:!1,tongue:!1},{feature:"美容评分",skincare:!1,beauty:!0,tongue:!1},{feature:"中医诊断",skincare:!1,beauty:!1,tongue:!0},{feature:"产品推荐",skincare:!0,beauty:!0,tongue:!0},{feature:"调理方案",skincare:!0,beauty:!0,tongue:!0},{feature:"历史记录",skincare:!0,beauty:!0,tongue:!0}].map((l,a)=>s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:l.feature}),s.jsx("td",{className:"py-3 px-4 text-center",children:l.skincare?s.jsx("span",{className:"inline-block w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold"})}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("td",{className:"py-3 px-4 text-center",children:l.beauty?s.jsx("span",{className:"inline-block w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold"})}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("td",{className:"py-3 px-4 text-center",children:l.tongue?s.jsx("span",{className:"inline-block w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold"})}):s.jsx("span",{className:"text-gray-400",children:"-"})})]},a))})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"常见问题"}),s.jsx("div",{className:"space-y-4",children:[{q:"如何获得最准确的诊断结果？",a:"在良好光线下，清晰拍摄完整的检测对象。建议使用自然光线，避免过度曝光或昏暗。"},{q:"诊断结果多久更新一次？",a:"您可以随时进行诊断。建议每周检测一次以追踪效果变化。"},{q:"推荐的产品和方案安全吗？",a:"所有推荐都基于专业理论，但建议咨询专业医生或美容师进行个性化指导。"},{q:"三个诊断可以同时进行吗？",a:"可以。您可以分别进行皮肤检测、美容诊断和舌苔检测，获得全面的健康和美容评估。"}].map((l,a)=>s.jsxs("details",{className:"group border border-gray-200 rounded-lg p-4 hover:bg-white transition-colors cursor-pointer",children:[s.jsxs("summary",{className:"font-semibold text-gray-900 flex items-center justify-between",children:[l.q,s.jsx("span",{className:"text-gray-400 group-open:rotate-180 transition-transform",children:s.jsx(Ut,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-600 mt-3 leading-relaxed",children:l.a})]},a))})]})]})},$a="admin",bd=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"加载中..."})]})});function Ay(){const{user:e,isAuthenticated:t,logout:r,loading:n}=wp(),[l]=k.useState($a),[a,o]=k.useState("dashboard"),[i,c]=k.useState(!1),d=k.useCallback(x=>{o(x)},[]),p=k.useCallback(()=>{r(),c(!1),o("dashboard")},[r]);if(n)return s.jsx(bd,{});if(!t&&!i)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50",children:s.jsx(sg,{onLogin:x=>{console.log("管理员进入演示模式"),c(!0),o("dashboard")}})});const h=()=>s.jsxs(k.Suspense,{fallback:s.jsx(bd,{}),children:[a==="dashboard"&&s.jsx(gd,{}),a==="customermanagement"&&s.jsx(Zf,{}),a==="staff"&&s.jsx(Hf,{}),a==="shop"&&s.jsx(ey,{}),a==="mall-admin"&&s.jsx(ty,{}),a==="ai"&&s.jsx(my,{}),a==="promotion"&&s.jsx(py,{}),a==="promotion-plan"&&s.jsx(r0,{}),a==="training"&&s.jsx(ky,{}),a==="onsite"&&s.jsx(Sy,{}),a==="health-assistant"&&s.jsx(Py,{onSelectService:d}),!["dashboard","customermanagement","staff","shop","mall-admin","ai","promotion","promotion-plan","training","onsite","health-assistant"].includes(a)&&s.jsx(gd,{})]});return s.jsxs("div",{className:"min-h-screen bg-gradient-green",children:[s.jsx(rg,{currentPage:a,userRole:$a,onPageChange:d,onLogout:p}),s.jsx(ng,{currentPage:a,userRole:$a,onPageChange:d,onLogout:p}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8 md:py-8",children:h()}),s.jsx("footer",{className:"bg-white border-t border-green-200 mt-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 text-center text-sm text-gray-600",children:s.jsx("p",{children:"美容院管理系统 - 管理员端 | 淡绿色高端简洁设计 | 一台手机掌控整个美容院"})})}),s.jsx(wy,{})]})}function Ty(){return s.jsx(Lx,{children:s.jsx(Lf,{children:s.jsx(Ay,{})})})}console.log("main.tsx: Starting app...",{rootElement:document.getElementById("root"),timestamp:new Date().toISOString()});const vd=document.getElementById("root");vd?(console.log("main.tsx: root element found, mounting React..."),Oa.createRoot(vd).render(s.jsx(bu.StrictMode,{children:s.jsx(Ty,{})})),console.log("main.tsx: React mounted successfully")):(console.error("main.tsx: ERROR - root element not found!"),document.body.innerHTML='<div style="color: red; padding: 20px; font-size: 18px;">ERROR: root element not found</div>');
