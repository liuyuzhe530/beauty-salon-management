var fh=Object.defineProperty;var gh=(e,t,s)=>t in e?fh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var he=(e,t,s)=>gh(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),s}var ix={exports:{}},Ja={},ox={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var En=Symbol.for("react.element"),vh=Symbol.for("react.portal"),bh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),Nh=Symbol.for("react.profiler"),wh=Symbol.for("react.provider"),Ch=Symbol.for("react.context"),kh=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Eh=Symbol.for("react.memo"),Ah=Symbol.for("react.lazy"),t0=Symbol.iterator;function Bh(e){return e===null||typeof e!="object"?null:(e=t0&&e[t0]||e["@@iterator"],typeof e=="function"?e:null)}var cx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dx=Object.assign,ux={};function As(e,t,s){this.props=e,this.context=t,this.refs=ux,this.updater=s||cx}As.prototype.isReactComponent={};As.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};As.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xx(){}xx.prototype=As.prototype;function $o(e,t,s){this.props=e,this.context=t,this.refs=ux,this.updater=s||cx}var Lo=$o.prototype=new xx;Lo.constructor=$o;dx(Lo,As.prototype);Lo.isPureReactComponent=!0;var r0=Array.isArray,mx=Object.prototype.hasOwnProperty,zo={current:null},px={key:!0,ref:!0,__self:!0,__source:!0};function hx(e,t,s){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)mx.call(t,n)&&!px.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:En,type:e,key:l,ref:i,props:a,_owner:zo.current}}function Fh(e,t){return{$$typeof:En,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ho(e){return typeof e=="object"&&e!==null&&e.$$typeof===En}function Dh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var s0=/\/+/g;function vl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dh(""+e.key):t.toString(36)}function aa(e,t,s,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case En:case vh:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+vl(i,0):n,r0(a)?(s="",e!=null&&(s=e.replace(s0,"$&/")+"/"),aa(a,t,s,"",function(c){return c})):a!=null&&(Ho(a)&&(a=Fh(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(s0,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",r0(e))for(var o=0;o<e.length;o++){l=e[o];var d=n+vl(l,o);i+=aa(l,t,s,d,a)}else if(d=Bh(e),typeof d=="function")for(e=d.call(e),o=0;!(l=e.next()).done;)l=l.value,d=n+vl(l,o++),i+=aa(l,t,s,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Mn(e,t,s){if(e==null)return e;var n=[],a=0;return aa(e,n,"","",function(l){return t.call(s,l,a++)}),n}function _h(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},la={transition:null},Ph={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:la,ReactCurrentOwner:zo};function fx(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Mn,forEach:function(e,t,s){Mn(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Mn(e,function(){t++}),t},toArray:function(e){return Mn(e,function(t){return t})||[]},only:function(e){if(!Ho(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=As;Z.Fragment=bh;Z.Profiler=Nh;Z.PureComponent=$o;Z.StrictMode=jh;Z.Suspense=Sh;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ph;Z.act=fx;Z.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dx({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=zo.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)mx.call(t,d)&&!px.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=s;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:En,type:e.type,key:a,ref:l,props:n,_owner:i}};Z.createContext=function(e){return e={$$typeof:Ch,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wh,_context:e},e.Consumer=e};Z.createElement=hx;Z.createFactory=function(e){var t=hx.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:kh,render:e}};Z.isValidElement=Ho;Z.lazy=function(e){return{$$typeof:Ah,_payload:{_status:-1,_result:e},_init:_h}};Z.memo=function(e,t){return{$$typeof:Eh,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=la.transition;la.transition={};try{e()}finally{la.transition=t}};Z.unstable_act=fx;Z.useCallback=function(e,t){return Oe.current.useCallback(e,t)};Z.useContext=function(e){return Oe.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Oe.current.useEffect(e,t)};Z.useId=function(){return Oe.current.useId()};Z.useImperativeHandle=function(e,t,s){return Oe.current.useImperativeHandle(e,t,s)};Z.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Oe.current.useMemo(e,t)};Z.useReducer=function(e,t,s){return Oe.current.useReducer(e,t,s)};Z.useRef=function(e){return Oe.current.useRef(e)};Z.useState=function(e){return Oe.current.useState(e)};Z.useSyncExternalStore=function(e,t,s){return Oe.current.useSyncExternalStore(e,t,s)};Z.useTransition=function(){return Oe.current.useTransition()};Z.version="18.3.1";ox.exports=Z;var B=ox.exports;const Th=lx(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=B,Ih=Symbol.for("react.element"),Mh=Symbol.for("react.fragment"),Oh=Object.prototype.hasOwnProperty,$h=Rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lh={key:!0,ref:!0,__self:!0,__source:!0};function gx(e,t,s){var n,a={},l=null,i=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Oh.call(t,n)&&!Lh.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Ih,type:e,key:l,ref:i,props:a,_owner:$h.current}}Ja.Fragment=Mh;Ja.jsx=gx;Ja.jsxs=gx;ix.exports=Ja;var r=ix.exports,Ri={},yx={exports:{}},et={},vx={exports:{}},bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,U){var V=M.length;M.push(U);e:for(;0<V;){var P=V-1>>>1,I=M[P];if(0<a(I,U))M[P]=U,M[V]=I,V=P;else break e}}function s(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var U=M[0],V=M.pop();if(V!==U){M[0]=V;e:for(var P=0,I=M.length,L=I>>>1;P<L;){var $=2*(P+1)-1,te=M[$],Y=$+1,pe=M[Y];if(0>a(te,V))Y<I&&0>a(pe,te)?(M[P]=pe,M[Y]=V,P=Y):(M[P]=te,M[$]=V,P=$);else if(Y<I&&0>a(pe,V))M[P]=pe,M[Y]=V,P=Y;else break e}}return U}function a(M,U){var V=M.sortIndex-U.sortIndex;return V!==0?V:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],c=[],u=1,g=null,p=3,f=!1,h=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var U=s(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=M)n(c),U.sortIndex=U.expirationTime,t(d,U);else break;U=s(c)}}function j(M){if(b=!1,y(M),!h)if(s(d)!==null)h=!0,q(k);else{var U=s(c);U!==null&&G(j,U.startTime-M)}}function k(M,U){h=!1,b&&(b=!1,x(A),A=-1),f=!0;var V=p;try{for(y(U),g=s(d);g!==null&&(!(g.expirationTime>U)||M&&!w());){var P=g.callback;if(typeof P=="function"){g.callback=null,p=g.priorityLevel;var I=P(g.expirationTime<=U);U=e.unstable_now(),typeof I=="function"?g.callback=I:g===s(d)&&n(d),y(U)}else n(d);g=s(d)}if(g!==null)var L=!0;else{var $=s(c);$!==null&&G(j,$.startTime-U),L=!1}return L}finally{g=null,p=V,f=!1}}var S=!1,N=null,A=-1,_=5,C=-1;function w(){return!(e.unstable_now()-C<_)}function E(){if(N!==null){var M=e.unstable_now();C=M;var U=!0;try{U=N(!0,M)}finally{U?F():(S=!1,N=null)}}else S=!1}var F;if(typeof m=="function")F=function(){m(E)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,z=O.port2;O.port1.onmessage=E,F=function(){z.postMessage(null)}}else F=function(){v(E,0)};function q(M){N=M,S||(S=!0,F())}function G(M,U){A=v(function(){M(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){h||f||(h=!0,q(k))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return M()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=p;p=M;try{return U()}finally{p=V}},e.unstable_scheduleCallback=function(M,U,V){var P=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?P+V:P):V=P,M){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=V+I,M={id:u++,callback:U,priorityLevel:M,startTime:V,expirationTime:I,sortIndex:-1},V>P?(M.sortIndex=V,t(c,M),s(d)===null&&M===s(c)&&(b?(x(A),A=-1):b=!0,G(j,V-P))):(M.sortIndex=I,t(d,M),h||f||(h=!0,q(k))),M},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(M){var U=p;return function(){var V=p;p=U;try{return M.apply(this,arguments)}finally{p=V}}}})(bx);vx.exports=bx;var zh=vx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=B,Ye=zh;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jx=new Set,on={};function Ur(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(on[e]=t,e=0;e<t.length;e++)jx.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ii=Object.prototype.hasOwnProperty,Uh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n0={},a0={};function qh(e){return Ii.call(a0,e)?!0:Ii.call(n0,e)?!1:Uh.test(e)?a0[e]=!0:(n0[e]=!0,!1)}function Vh(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wh(e,t,s,n){if(t===null||typeof t>"u"||Vh(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,s,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uo=/[\-:]([a-z])/g;function qo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uo,qo);Fe[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uo,qo);Fe[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uo,qo);Fe[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vo(e,t,s,n){var a=Fe.hasOwnProperty(t)?Fe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wh(t,s,a,n)&&(s=null),n||a===null?qh(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var qt=Hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,On=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),Wo=Symbol.for("react.strict_mode"),Mi=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),wx=Symbol.for("react.context"),Ko=Symbol.for("react.forward_ref"),Oi=Symbol.for("react.suspense"),$i=Symbol.for("react.suspense_list"),Go=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Cx=Symbol.for("react.offscreen"),l0=Symbol.iterator;function Ms(e){return e===null||typeof e!="object"?null:(e=l0&&e[l0]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,bl;function Ks(e){if(bl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);bl=t&&t[1]||""}return`
`+bl+e}var jl=!1;function Nl(e,t){if(!e||jl)return"";jl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{jl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ks(e):""}function Kh(e){switch(e.tag){case 5:return Ks(e.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return e=Nl(e.type,!1),e;case 11:return e=Nl(e.type.render,!1),e;case 1:return e=Nl(e.type,!0),e;default:return""}}function Li(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zr:return"Fragment";case Yr:return"Portal";case Mi:return"Profiler";case Wo:return"StrictMode";case Oi:return"Suspense";case $i:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wx:return(e.displayName||"Context")+".Consumer";case Nx:return(e._context.displayName||"Context")+".Provider";case Ko:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Go:return t=e.displayName||null,t!==null?t:Li(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return Li(e(t))}catch{}}return null}function Gh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Li(t);case 8:return t===Wo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qh(e){var t=kx(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $n(e){e._valueTracker||(e._valueTracker=Qh(e))}function Sx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=kx(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zi(e,t){var s=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function i0(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=ur(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ex(e,t){t=t.checked,t!=null&&Vo(e,"checked",t,!1)}function Hi(e,t){Ex(e,t);var s=ur(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ui(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ui(e,t.type,ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function o0(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ui(e,t,s){(t!=="number"||ja(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Gs=Array.isArray;function ds(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+ur(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function c0(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(H(92));if(Gs(s)){if(1<s.length)throw Error(H(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ur(s)}}function Ax(e,t){var s=ur(t.value),n=ur(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function d0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ln,Fx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ln.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jh=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(e){Jh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xs[t]=Xs[e]})});function Dx(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Xs.hasOwnProperty(e)&&Xs[e]?(""+t).trim():t+"px"}function _x(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=Dx(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var Xh=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wi(e,t){if(t){if(Xh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Ki(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function Qo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,us=null,xs=null;function u0(e){if(e=Fn(e)){if(typeof Qi!="function")throw Error(H(280));var t=e.stateNode;t&&(t=tl(t),Qi(e.stateNode,e.type,t))}}function Px(e){us?xs?xs.push(e):xs=[e]:us=e}function Tx(){if(us){var e=us,t=xs;if(xs=us=null,u0(e),t)for(e=0;e<t.length;e++)u0(t[e])}}function Rx(e,t){return e(t)}function Ix(){}var wl=!1;function Mx(e,t,s){if(wl)return e(t,s);wl=!0;try{return Rx(e,t,s)}finally{wl=!1,(us!==null||xs!==null)&&(Ix(),Tx())}}function dn(e,t){var s=e.stateNode;if(s===null)return null;var n=tl(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(H(231,t,typeof s));return s}var Ji=!1;if(Ot)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Ji=!1}function Yh(e,t,s,n,a,l,i,o,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(u){this.onError(u)}}var Ys=!1,Na=null,wa=!1,Xi=null,Zh={onError:function(e){Ys=!0,Na=e}};function ef(e,t,s,n,a,l,i,o,d){Ys=!1,Na=null,Yh.apply(Zh,arguments)}function tf(e,t,s,n,a,l,i,o,d){if(ef.apply(this,arguments),Ys){if(Ys){var c=Na;Ys=!1,Na=null}else throw Error(H(198));wa||(wa=!0,Xi=c)}}function qr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ox(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x0(e){if(qr(e)!==e)throw Error(H(188))}function rf(e){var t=e.alternate;if(!t){if(t=qr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return x0(a),e;if(l===n)return x0(a),t;l=l.sibling}throw Error(H(188))}if(s.return!==n.return)s=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===s){i=!0,s=a,n=l;break}if(o===n){i=!0,n=a,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,n=a;break}if(o===n){i=!0,n=l,s=a;break}o=o.sibling}if(!i)throw Error(H(189))}}if(s.alternate!==n)throw Error(H(190))}if(s.tag!==3)throw Error(H(188));return s.stateNode.current===s?e:t}function $x(e){return e=rf(e),e!==null?Lx(e):null}function Lx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lx(e);if(t!==null)return t;e=e.sibling}return null}var zx=Ye.unstable_scheduleCallback,m0=Ye.unstable_cancelCallback,sf=Ye.unstable_shouldYield,nf=Ye.unstable_requestPaint,be=Ye.unstable_now,af=Ye.unstable_getCurrentPriorityLevel,Jo=Ye.unstable_ImmediatePriority,Hx=Ye.unstable_UserBlockingPriority,Ca=Ye.unstable_NormalPriority,lf=Ye.unstable_LowPriority,Ux=Ye.unstable_IdlePriority,Xa=null,Bt=null;function of(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Xa,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:uf,cf=Math.log,df=Math.LN2;function uf(e){return e>>>=0,e===0?32:31-(cf(e)/df|0)|0}var zn=64,Hn=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ka(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=s&268435455;if(i!==0){var o=i&~a;o!==0?n=Qs(o):(l&=i,l!==0&&(n=Qs(l)))}else i=s&~a,i!==0?n=Qs(i):l!==0&&(n=Qs(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-yt(t),a=1<<s,n|=e[s],t&=~a;return n}function xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mf(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-yt(l),o=1<<i,d=a[i];d===-1?(!(o&s)||o&n)&&(a[i]=xf(o,t)):d<=t&&(e.expiredLanes|=o),l&=~o}}function Yi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qx(){var e=zn;return zn<<=1,!(zn&4194240)&&(zn=64),e}function Cl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function An(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=s}function pf(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-yt(s),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~l}}function Xo(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-yt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var le=0;function Vx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wx,Yo,Kx,Gx,Qx,Zi=!1,Un=[],rr=null,sr=null,nr=null,un=new Map,xn=new Map,Yt=[],hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p0(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(t.pointerId)}}function $s(e,t,s,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Fn(t),t!==null&&Yo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ff(e,t,s,n,a){switch(t){case"focusin":return rr=$s(rr,e,t,s,n,a),!0;case"dragenter":return sr=$s(sr,e,t,s,n,a),!0;case"mouseover":return nr=$s(nr,e,t,s,n,a),!0;case"pointerover":var l=a.pointerId;return un.set(l,$s(un.get(l)||null,e,t,s,n,a)),!0;case"gotpointercapture":return l=a.pointerId,xn.set(l,$s(xn.get(l)||null,e,t,s,n,a)),!0}return!1}function Jx(e){var t=Er(e.target);if(t!==null){var s=qr(t);if(s!==null){if(t=s.tag,t===13){if(t=Ox(s),t!==null){e.blockedOn=t,Qx(e.priority,function(){Kx(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ia(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Gi=n,s.target.dispatchEvent(n),Gi=null}else return t=Fn(s),t!==null&&Yo(t),e.blockedOn=s,!1;t.shift()}return!0}function h0(e,t,s){ia(e)&&s.delete(t)}function gf(){Zi=!1,rr!==null&&ia(rr)&&(rr=null),sr!==null&&ia(sr)&&(sr=null),nr!==null&&ia(nr)&&(nr=null),un.forEach(h0),xn.forEach(h0)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,Zi||(Zi=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,gf)))}function mn(e){function t(a){return Ls(a,e)}if(0<Un.length){Ls(Un[0],e);for(var s=1;s<Un.length;s++){var n=Un[s];n.blockedOn===e&&(n.blockedOn=null)}}for(rr!==null&&Ls(rr,e),sr!==null&&Ls(sr,e),nr!==null&&Ls(nr,e),un.forEach(t),xn.forEach(t),s=0;s<Yt.length;s++)n=Yt[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yt.length&&(s=Yt[0],s.blockedOn===null);)Jx(s),s.blockedOn===null&&Yt.shift()}var ms=qt.ReactCurrentBatchConfig,Sa=!0;function yf(e,t,s,n){var a=le,l=ms.transition;ms.transition=null;try{le=1,Zo(e,t,s,n)}finally{le=a,ms.transition=l}}function vf(e,t,s,n){var a=le,l=ms.transition;ms.transition=null;try{le=4,Zo(e,t,s,n)}finally{le=a,ms.transition=l}}function Zo(e,t,s,n){if(Sa){var a=eo(e,t,s,n);if(a===null)Tl(e,t,n,Ea,s),p0(e,n);else if(ff(a,e,t,s,n))n.stopPropagation();else if(p0(e,n),t&4&&-1<hf.indexOf(e)){for(;a!==null;){var l=Fn(a);if(l!==null&&Wx(l),l=eo(e,t,s,n),l===null&&Tl(e,t,n,Ea,s),l===a)break;a=l}a!==null&&n.stopPropagation()}else Tl(e,t,n,null,s)}}var Ea=null;function eo(e,t,s,n){if(Ea=null,e=Qo(n),e=Er(e),e!==null)if(t=qr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ox(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ea=e,null}function Xx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(af()){case Jo:return 1;case Hx:return 4;case Ca:case lf:return 16;case Ux:return 536870912;default:return 16}default:return 16}}var er=null,ec=null,oa=null;function Yx(){if(oa)return oa;var e,t=ec,s=t.length,n,a="value"in er?er.value:er.textContent,l=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(n=1;n<=i&&t[s-n]===a[l-n];n++);return oa=a.slice(e,1<n?1-n:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qn(){return!0}function f0(){return!1}function tt(e){function t(s,n,a,l,i){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?qn:f0,this.isPropagationStopped=f0,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=tt(Bs),Bn=ye({},Bs,{view:0,detail:0}),bf=tt(Bn),kl,Sl,zs,Ya=ye({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(kl=e.screenX-zs.screenX,Sl=e.screenY-zs.screenY):Sl=kl=0,zs=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:Sl}}),g0=tt(Ya),jf=ye({},Ya,{dataTransfer:0}),Nf=tt(jf),wf=ye({},Bn,{relatedTarget:0}),El=tt(wf),Cf=ye({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),kf=tt(Cf),Sf=ye({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ef=tt(Sf),Af=ye({},Bs,{data:0}),y0=tt(Af),Bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Df={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _f(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Df[e])?!!t[e]:!1}function rc(){return _f}var Pf=ye({},Bn,{key:function(e){if(e.key){var t=Bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ff[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tf=tt(Pf),Rf=ye({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v0=tt(Rf),If=ye({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),Mf=tt(If),Of=ye({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$f=tt(Of),Lf=ye({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zf=tt(Lf),Hf=[9,13,27,32],sc=Ot&&"CompositionEvent"in window,Zs=null;Ot&&"documentMode"in document&&(Zs=document.documentMode);var Uf=Ot&&"TextEvent"in window&&!Zs,Zx=Ot&&(!sc||Zs&&8<Zs&&11>=Zs),b0=" ",j0=!1;function em(e,t){switch(e){case"keyup":return Hf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function qf(e,t){switch(e){case"compositionend":return tm(t);case"keypress":return t.which!==32?null:(j0=!0,b0);case"textInput":return e=t.data,e===b0&&j0?null:e;default:return null}}function Vf(e,t){if(es)return e==="compositionend"||!sc&&em(e,t)?(e=Yx(),oa=ec=er=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zx&&t.locale!=="ko"?null:t.data;default:return null}}var Wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wf[e.type]:t==="textarea"}function rm(e,t,s,n){Px(n),t=Aa(t,"onChange"),0<t.length&&(s=new tc("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var en=null,pn=null;function Kf(e){mm(e,0)}function Za(e){var t=ss(e);if(Sx(t))return e}function Gf(e,t){if(e==="change")return t}var sm=!1;if(Ot){var Al;if(Ot){var Bl="oninput"in document;if(!Bl){var w0=document.createElement("div");w0.setAttribute("oninput","return;"),Bl=typeof w0.oninput=="function"}Al=Bl}else Al=!1;sm=Al&&(!document.documentMode||9<document.documentMode)}function C0(){en&&(en.detachEvent("onpropertychange",nm),pn=en=null)}function nm(e){if(e.propertyName==="value"&&Za(pn)){var t=[];rm(t,pn,e,Qo(e)),Mx(Kf,t)}}function Qf(e,t,s){e==="focusin"?(C0(),en=t,pn=s,en.attachEvent("onpropertychange",nm)):e==="focusout"&&C0()}function Jf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Za(pn)}function Xf(e,t){if(e==="click")return Za(t)}function Yf(e,t){if(e==="input"||e==="change")return Za(t)}function Zf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Zf;function hn(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Ii.call(t,a)||!bt(e[a],t[a]))return!1}return!0}function k0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function S0(e,t){var s=k0(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=k0(s)}}function am(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?am(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lm(){for(var e=window,t=ja();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ja(e.document)}return t}function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eg(e){var t=lm(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&am(s.ownerDocument.documentElement,s)){if(n!==null&&nc(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=S0(s,l);var i=S0(s,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tg=Ot&&"documentMode"in document&&11>=document.documentMode,ts=null,to=null,tn=null,ro=!1;function E0(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ro||ts==null||ts!==ja(n)||(n=ts,"selectionStart"in n&&nc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tn&&hn(tn,n)||(tn=n,n=Aa(to,"onSelect"),0<n.length&&(t=new tc("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=ts)))}function Vn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var rs={animationend:Vn("Animation","AnimationEnd"),animationiteration:Vn("Animation","AnimationIteration"),animationstart:Vn("Animation","AnimationStart"),transitionend:Vn("Transition","TransitionEnd")},Fl={},im={};Ot&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function el(e){if(Fl[e])return Fl[e];if(!rs[e])return e;var t=rs[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in im)return Fl[e]=t[s];return e}var om=el("animationend"),cm=el("animationiteration"),dm=el("animationstart"),um=el("transitionend"),xm=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(e,t){xm.set(e,t),Ur(t,[e])}for(var Dl=0;Dl<A0.length;Dl++){var _l=A0[Dl],rg=_l.toLowerCase(),sg=_l[0].toUpperCase()+_l.slice(1);pr(rg,"on"+sg)}pr(om,"onAnimationEnd");pr(cm,"onAnimationIteration");pr(dm,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(um,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function B0(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,tf(n,t,void 0,e),e.currentTarget=null}function mm(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],d=o.instance,c=o.currentTarget;if(o=o.listener,d!==l&&a.isPropagationStopped())break e;B0(a,o,c),l=d}else for(i=0;i<n.length;i++){if(o=n[i],d=o.instance,c=o.currentTarget,o=o.listener,d!==l&&a.isPropagationStopped())break e;B0(a,o,c),l=d}}}if(wa)throw e=Xi,wa=!1,Xi=null,e}function oe(e,t){var s=t[io];s===void 0&&(s=t[io]=new Set);var n=e+"__bubble";s.has(n)||(pm(t,e,2,!1),s.add(n))}function Pl(e,t,s){var n=0;t&&(n|=4),pm(s,e,n,t)}var Wn="_reactListening"+Math.random().toString(36).slice(2);function fn(e){if(!e[Wn]){e[Wn]=!0,jx.forEach(function(s){s!=="selectionchange"&&(ng.has(s)||Pl(s,!1,e),Pl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wn]||(t[Wn]=!0,Pl("selectionchange",!1,t))}}function pm(e,t,s,n){switch(Xx(t)){case 1:var a=yf;break;case 4:a=vf;break;default:a=Zo}s=a.bind(null,t,s,e),a=void 0,!Ji||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Tl(e,t,s,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Er(o),i===null)return;if(d=i.tag,d===5||d===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Mx(function(){var c=l,u=Qo(s),g=[];e:{var p=xm.get(e);if(p!==void 0){var f=tc,h=e;switch(e){case"keypress":if(ca(s)===0)break e;case"keydown":case"keyup":f=Tf;break;case"focusin":h="focus",f=El;break;case"focusout":h="blur",f=El;break;case"beforeblur":case"afterblur":f=El;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=g0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Mf;break;case om:case cm:case dm:f=kf;break;case um:f=$f;break;case"scroll":f=bf;break;case"wheel":f=zf;break;case"copy":case"cut":case"paste":f=Ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=v0}var b=(t&4)!==0,v=!b&&e==="scroll",x=b?p!==null?p+"Capture":null:p;b=[];for(var m=c,y;m!==null;){y=m;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,x!==null&&(j=dn(m,x),j!=null&&b.push(gn(m,j,y)))),v)break;m=m.return}0<b.length&&(p=new f(p,h,null,s,u),g.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&s!==Gi&&(h=s.relatedTarget||s.fromElement)&&(Er(h)||h[$t]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(h=s.relatedTarget||s.toElement,f=c,h=h?Er(h):null,h!==null&&(v=qr(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(f=null,h=c),f!==h)){if(b=g0,j="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(b=v0,j="onPointerLeave",x="onPointerEnter",m="pointer"),v=f==null?p:ss(f),y=h==null?p:ss(h),p=new b(j,m+"leave",f,s,u),p.target=v,p.relatedTarget=y,j=null,Er(u)===c&&(b=new b(x,m+"enter",h,s,u),b.target=y,b.relatedTarget=v,j=b),v=j,f&&h)t:{for(b=f,x=h,m=0,y=b;y;y=Jr(y))m++;for(y=0,j=x;j;j=Jr(j))y++;for(;0<m-y;)b=Jr(b),m--;for(;0<y-m;)x=Jr(x),y--;for(;m--;){if(b===x||x!==null&&b===x.alternate)break t;b=Jr(b),x=Jr(x)}b=null}else b=null;f!==null&&F0(g,p,f,b,!1),h!==null&&v!==null&&F0(g,v,h,b,!0)}}e:{if(p=c?ss(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var k=Gf;else if(N0(p))if(sm)k=Yf;else{k=Jf;var S=Qf}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=Xf);if(k&&(k=k(e,c))){rm(g,k,s,u);break e}S&&S(e,p,c),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Ui(p,"number",p.value)}switch(S=c?ss(c):window,e){case"focusin":(N0(S)||S.contentEditable==="true")&&(ts=S,to=c,tn=null);break;case"focusout":tn=to=ts=null;break;case"mousedown":ro=!0;break;case"contextmenu":case"mouseup":case"dragend":ro=!1,E0(g,s,u);break;case"selectionchange":if(tg)break;case"keydown":case"keyup":E0(g,s,u)}var N;if(sc)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else es?em(e,s)&&(A="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(A="onCompositionStart");A&&(Zx&&s.locale!=="ko"&&(es||A!=="onCompositionStart"?A==="onCompositionEnd"&&es&&(N=Yx()):(er=u,ec="value"in er?er.value:er.textContent,es=!0)),S=Aa(c,A),0<S.length&&(A=new y0(A,e,null,s,u),g.push({event:A,listeners:S}),N?A.data=N:(N=tm(s),N!==null&&(A.data=N)))),(N=Uf?qf(e,s):Vf(e,s))&&(c=Aa(c,"onBeforeInput"),0<c.length&&(u=new y0("onBeforeInput","beforeinput",null,s,u),g.push({event:u,listeners:c}),u.data=N))}mm(g,t)})}function gn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Aa(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=dn(e,s),l!=null&&n.unshift(gn(e,l,a)),l=dn(e,t),l!=null&&n.push(gn(e,l,a))),e=e.return}return n}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function F0(e,t,s,n,a){for(var l=t._reactName,i=[];s!==null&&s!==n;){var o=s,d=o.alternate,c=o.stateNode;if(d!==null&&d===n)break;o.tag===5&&c!==null&&(o=c,a?(d=dn(s,l),d!=null&&i.unshift(gn(s,d,o))):a||(d=dn(s,l),d!=null&&i.push(gn(s,d,o)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var ag=/\r\n?/g,lg=/\u0000|\uFFFD/g;function D0(e){return(typeof e=="string"?e:""+e).replace(ag,`
`).replace(lg,"")}function Kn(e,t,s){if(t=D0(t),D0(e)!==t&&s)throw Error(H(425))}function Ba(){}var so=null,no=null;function ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lo=typeof setTimeout=="function"?setTimeout:void 0,ig=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,og=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(e){return _0.resolve(null).then(e).catch(cg)}:lo;function cg(e){setTimeout(function(){throw e})}function Rl(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),mn(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);mn(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function P0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),At="__reactFiber$"+Fs,yn="__reactProps$"+Fs,$t="__reactContainer$"+Fs,io="__reactEvents$"+Fs,dg="__reactListeners$"+Fs,ug="__reactHandles$"+Fs;function Er(e){var t=e[At];if(t)return t;for(var s=e.parentNode;s;){if(t=s[$t]||s[At]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=P0(e);e!==null;){if(s=e[At])return s;e=P0(e)}return t}e=s,s=e.parentNode}return null}function Fn(e){return e=e[At]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function tl(e){return e[yn]||null}var oo=[],ns=-1;function hr(e){return{current:e}}function ce(e){0>ns||(e.current=oo[ns],oo[ns]=null,ns--)}function ie(e,t){ns++,oo[ns]=e.current,e.current=t}var xr={},Re=hr(xr),He=hr(!1),Rr=xr;function gs(e,t){var s=e.type.contextTypes;if(!s)return xr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ue(e){return e=e.childContextTypes,e!=null}function Fa(){ce(He),ce(Re)}function T0(e,t,s){if(Re.current!==xr)throw Error(H(168));ie(Re,t),ie(He,s)}function hm(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(H(108,Gh(e)||"Unknown",a));return ye({},s,n)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,Rr=Re.current,ie(Re,e),ie(He,He.current),!0}function R0(e,t,s){var n=e.stateNode;if(!n)throw Error(H(169));s?(e=hm(e,t,Rr),n.__reactInternalMemoizedMergedChildContext=e,ce(He),ce(Re),ie(Re,e)):ce(He),ie(He,s)}var Tt=null,rl=!1,Il=!1;function fm(e){Tt===null?Tt=[e]:Tt.push(e)}function xg(e){rl=!0,fm(e)}function fr(){if(!Il&&Tt!==null){Il=!0;var e=0,t=le;try{var s=Tt;for(le=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Tt=null,rl=!1}catch(a){throw Tt!==null&&(Tt=Tt.slice(e+1)),zx(Jo,fr),a}finally{le=t,Il=!1}}return null}var as=[],ls=0,_a=null,Pa=0,st=[],nt=0,Ir=null,Rt=1,It="";function Cr(e,t){as[ls++]=Pa,as[ls++]=_a,_a=e,Pa=t}function gm(e,t,s){st[nt++]=Rt,st[nt++]=It,st[nt++]=Ir,Ir=e;var n=Rt;e=It;var a=32-yt(n)-1;n&=~(1<<a),s+=1;var l=32-yt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Rt=1<<32-yt(t)+a|s<<a|n,It=l+e}else Rt=1<<l|s<<a|n,It=e}function ac(e){e.return!==null&&(Cr(e,1),gm(e,1,0))}function lc(e){for(;e===_a;)_a=as[--ls],as[ls]=null,Pa=as[--ls],as[ls]=null;for(;e===Ir;)Ir=st[--nt],st[nt]=null,It=st[--nt],st[nt]=null,Rt=st[--nt],st[nt]=null}var Je=null,Qe=null,me=!1,ft=null;function ym(e,t){var s=at(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function I0(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Qe=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Ir!==null?{id:Rt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=at(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Je=e,Qe=null,!0):!1;default:return!1}}function co(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uo(e){if(me){var t=Qe;if(t){var s=t;if(!I0(e,t)){if(co(e))throw Error(H(418));t=ar(s.nextSibling);var n=Je;t&&I0(e,t)?ym(n,s):(e.flags=e.flags&-4097|2,me=!1,Je=e)}}else{if(co(e))throw Error(H(418));e.flags=e.flags&-4097|2,me=!1,Je=e}}}function M0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Gn(e){if(e!==Je)return!1;if(!me)return M0(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ao(e.type,e.memoizedProps)),t&&(t=Qe)){if(co(e))throw vm(),Error(H(418));for(;t;)ym(e,t),t=ar(t.nextSibling)}if(M0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Qe=ar(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Je?ar(e.stateNode.nextSibling):null;return!0}function vm(){for(var e=Qe;e;)e=ar(e.nextSibling)}function ys(){Qe=Je=null,me=!1}function ic(e){ft===null?ft=[e]:ft.push(e)}var mg=qt.ReactCurrentBatchConfig;function Hs(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(H(309));var n=s.stateNode}if(!n)throw Error(H(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(H(284));if(!s._owner)throw Error(H(290,e))}return e}function Qn(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function O0(e){var t=e._init;return t(e._payload)}function bm(e){function t(x,m){if(e){var y=x.deletions;y===null?(x.deletions=[m],x.flags|=16):y.push(m)}}function s(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function n(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function a(x,m){return x=cr(x,m),x.index=0,x.sibling=null,x}function l(x,m,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<m?(x.flags|=2,m):y):(x.flags|=2,m)):(x.flags|=1048576,m)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,m,y,j){return m===null||m.tag!==6?(m=Ul(y,x.mode,j),m.return=x,m):(m=a(m,y),m.return=x,m)}function d(x,m,y,j){var k=y.type;return k===Zr?u(x,m,y.props.children,j,y.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jt&&O0(k)===m.type)?(j=a(m,y.props),j.ref=Hs(x,m,y),j.return=x,j):(j=fa(y.type,y.key,y.props,null,x.mode,j),j.ref=Hs(x,m,y),j.return=x,j)}function c(x,m,y,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=ql(y,x.mode,j),m.return=x,m):(m=a(m,y.children||[]),m.return=x,m)}function u(x,m,y,j,k){return m===null||m.tag!==7?(m=_r(y,x.mode,j,k),m.return=x,m):(m=a(m,y),m.return=x,m)}function g(x,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ul(""+m,x.mode,y),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case On:return y=fa(m.type,m.key,m.props,null,x.mode,y),y.ref=Hs(x,null,m),y.return=x,y;case Yr:return m=ql(m,x.mode,y),m.return=x,m;case Jt:var j=m._init;return g(x,j(m._payload),y)}if(Gs(m)||Ms(m))return m=_r(m,x.mode,y,null),m.return=x,m;Qn(x,m)}return null}function p(x,m,y,j){var k=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:o(x,m,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case On:return y.key===k?d(x,m,y,j):null;case Yr:return y.key===k?c(x,m,y,j):null;case Jt:return k=y._init,p(x,m,k(y._payload),j)}if(Gs(y)||Ms(y))return k!==null?null:u(x,m,y,j,null);Qn(x,y)}return null}function f(x,m,y,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(y)||null,o(m,x,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case On:return x=x.get(j.key===null?y:j.key)||null,d(m,x,j,k);case Yr:return x=x.get(j.key===null?y:j.key)||null,c(m,x,j,k);case Jt:var S=j._init;return f(x,m,y,S(j._payload),k)}if(Gs(j)||Ms(j))return x=x.get(y)||null,u(m,x,j,k,null);Qn(m,j)}return null}function h(x,m,y,j){for(var k=null,S=null,N=m,A=m=0,_=null;N!==null&&A<y.length;A++){N.index>A?(_=N,N=null):_=N.sibling;var C=p(x,N,y[A],j);if(C===null){N===null&&(N=_);break}e&&N&&C.alternate===null&&t(x,N),m=l(C,m,A),S===null?k=C:S.sibling=C,S=C,N=_}if(A===y.length)return s(x,N),me&&Cr(x,A),k;if(N===null){for(;A<y.length;A++)N=g(x,y[A],j),N!==null&&(m=l(N,m,A),S===null?k=N:S.sibling=N,S=N);return me&&Cr(x,A),k}for(N=n(x,N);A<y.length;A++)_=f(N,x,A,y[A],j),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?A:_.key),m=l(_,m,A),S===null?k=_:S.sibling=_,S=_);return e&&N.forEach(function(w){return t(x,w)}),me&&Cr(x,A),k}function b(x,m,y,j){var k=Ms(y);if(typeof k!="function")throw Error(H(150));if(y=k.call(y),y==null)throw Error(H(151));for(var S=k=null,N=m,A=m=0,_=null,C=y.next();N!==null&&!C.done;A++,C=y.next()){N.index>A?(_=N,N=null):_=N.sibling;var w=p(x,N,C.value,j);if(w===null){N===null&&(N=_);break}e&&N&&w.alternate===null&&t(x,N),m=l(w,m,A),S===null?k=w:S.sibling=w,S=w,N=_}if(C.done)return s(x,N),me&&Cr(x,A),k;if(N===null){for(;!C.done;A++,C=y.next())C=g(x,C.value,j),C!==null&&(m=l(C,m,A),S===null?k=C:S.sibling=C,S=C);return me&&Cr(x,A),k}for(N=n(x,N);!C.done;A++,C=y.next())C=f(N,x,A,C.value,j),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?A:C.key),m=l(C,m,A),S===null?k=C:S.sibling=C,S=C);return e&&N.forEach(function(E){return t(x,E)}),me&&Cr(x,A),k}function v(x,m,y,j){if(typeof y=="object"&&y!==null&&y.type===Zr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case On:e:{for(var k=y.key,S=m;S!==null;){if(S.key===k){if(k=y.type,k===Zr){if(S.tag===7){s(x,S.sibling),m=a(S,y.props.children),m.return=x,x=m;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jt&&O0(k)===S.type){s(x,S.sibling),m=a(S,y.props),m.ref=Hs(x,S,y),m.return=x,x=m;break e}s(x,S);break}else t(x,S);S=S.sibling}y.type===Zr?(m=_r(y.props.children,x.mode,j,y.key),m.return=x,x=m):(j=fa(y.type,y.key,y.props,null,x.mode,j),j.ref=Hs(x,m,y),j.return=x,x=j)}return i(x);case Yr:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){s(x,m.sibling),m=a(m,y.children||[]),m.return=x,x=m;break e}else{s(x,m);break}else t(x,m);m=m.sibling}m=ql(y,x.mode,j),m.return=x,x=m}return i(x);case Jt:return S=y._init,v(x,m,S(y._payload),j)}if(Gs(y))return h(x,m,y,j);if(Ms(y))return b(x,m,y,j);Qn(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(s(x,m.sibling),m=a(m,y),m.return=x,x=m):(s(x,m),m=Ul(y,x.mode,j),m.return=x,x=m),i(x)):s(x,m)}return v}var vs=bm(!0),jm=bm(!1),Ta=hr(null),Ra=null,is=null,oc=null;function cc(){oc=is=Ra=null}function dc(e){var t=Ta.current;ce(Ta),e._currentValue=t}function xo(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function ps(e,t){Ra=e,oc=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(oc!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(Ra===null)throw Error(H(308));is=e,Ra.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var Ar=null;function uc(e){Ar===null?Ar=[e]:Ar.push(e)}function Nm(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,uc(t)):(s.next=a.next,a.next=s),t.interleaved=s,Lt(e,n)}function Lt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Xt=!1;function xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ne&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Lt(e,s)}return a=n.interleaved,a===null?(t.next=t,uc(n)):(t.next=a.next,a.next=t),n.interleaved=t,Lt(e,s)}function da(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Xo(e,s)}}function $0(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=i:l=l.next=i,s=s.next}while(s!==null);l===null?a=l=t:l=l.next=t}else a=l=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ia(e,t,s,n){var a=e.updateQueue;Xt=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,c=d.next;d.next=null,i===null?l=c:i.next=c,i=d;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=d))}if(l!==null){var g=a.baseState;i=0,u=c=d=null,o=l;do{var p=o.lane,f=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,b=o;switch(p=t,f=s,b.tag){case 1:if(h=b.payload,typeof h=="function"){g=h.call(f,g,p);break e}g=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=b.payload,p=typeof h=="function"?h.call(f,g,p):h,p==null)break e;g=ye({},g,p);break e;case 2:Xt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else f={eventTime:f,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,d=g):u=u.next=f,i|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(u===null&&(d=g),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Or|=i,e.lanes=i,e.memoizedState=g}}function L0(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(H(191,a));a.call(n)}}}var Dn={},Ft=hr(Dn),vn=hr(Dn),bn=hr(Dn);function Br(e){if(e===Dn)throw Error(H(174));return e}function mc(e,t){switch(ie(bn,t),ie(vn,e),ie(Ft,Dn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vi(t,e)}ce(Ft),ie(Ft,t)}function bs(){ce(Ft),ce(vn),ce(bn)}function Cm(e){Br(bn.current);var t=Br(Ft.current),s=Vi(t,e.type);t!==s&&(ie(vn,e),ie(Ft,s))}function pc(e){vn.current===e&&(ce(Ft),ce(vn))}var fe=hr(0);function Ma(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function hc(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var ua=qt.ReactCurrentDispatcher,Ol=qt.ReactCurrentBatchConfig,Mr=0,ge=null,Ne=null,Ce=null,Oa=!1,rn=!1,jn=0,pg=0;function De(){throw Error(H(321))}function fc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!bt(e[s],t[s]))return!1;return!0}function gc(e,t,s,n,a,l){if(Mr=l,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=e===null||e.memoizedState===null?yg:vg,e=s(n,a),rn){l=0;do{if(rn=!1,jn=0,25<=l)throw Error(H(301));l+=1,Ce=Ne=null,t.updateQueue=null,ua.current=bg,e=s(n,a)}while(rn)}if(ua.current=$a,t=Ne!==null&&Ne.next!==null,Mr=0,Ce=Ne=ge=null,Oa=!1,t)throw Error(H(300));return e}function yc(){var e=jn!==0;return jn=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ge.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function dt(){if(Ne===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ce===null?ge.memoizedState:Ce.next;if(t!==null)Ce=t,Ne=e;else{if(e===null)throw Error(H(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ce===null?ge.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Nn(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=dt(),s=t.queue;if(s===null)throw Error(H(311));s.lastRenderedReducer=e;var n=Ne,a=n.baseQueue,l=s.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,d=null,c=l;do{var u=c.lane;if((Mr&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var g={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(o=d=g,i=n):d=d.next=g,ge.lanes|=u,Or|=u}c=c.next}while(c!==null&&c!==l);d===null?i=n:d.next=o,bt(n,t.memoizedState)||(ze=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=d,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do l=a.lane,ge.lanes|=l,Or|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ll(e){var t=dt(),s=t.queue;if(s===null)throw Error(H(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,l=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);bt(l,t.memoizedState)||(ze=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,n]}function km(){}function Sm(e,t){var s=ge,n=dt(),a=t(),l=!bt(n.memoizedState,a);if(l&&(n.memoizedState=a,ze=!0),n=n.queue,vc(Bm.bind(null,s,n,e),[e]),n.getSnapshot!==t||l||Ce!==null&&Ce.memoizedState.tag&1){if(s.flags|=2048,wn(9,Am.bind(null,s,n,a,t),void 0,null),ke===null)throw Error(H(349));Mr&30||Em(s,t,a)}return a}function Em(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Am(e,t,s,n){t.value=s,t.getSnapshot=n,Fm(t)&&Dm(e)}function Bm(e,t,s){return s(function(){Fm(t)&&Dm(e)})}function Fm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!bt(e,s)}catch{return!0}}function Dm(e){var t=Lt(e,1);t!==null&&vt(t,e,1,-1)}function z0(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t.queue=e,e=e.dispatch=gg.bind(null,ge,e),[t.memoizedState,e]}function wn(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function _m(){return dt().memoizedState}function xa(e,t,s,n){var a=Et();ge.flags|=e,a.memoizedState=wn(1|t,s,void 0,n===void 0?null:n)}function sl(e,t,s,n){var a=dt();n=n===void 0?null:n;var l=void 0;if(Ne!==null){var i=Ne.memoizedState;if(l=i.destroy,n!==null&&fc(n,i.deps)){a.memoizedState=wn(t,s,l,n);return}}ge.flags|=e,a.memoizedState=wn(1|t,s,l,n)}function H0(e,t){return xa(8390656,8,e,t)}function vc(e,t){return sl(2048,8,e,t)}function Pm(e,t){return sl(4,2,e,t)}function Tm(e,t){return sl(4,4,e,t)}function Rm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Im(e,t,s){return s=s!=null?s.concat([e]):null,sl(4,4,Rm.bind(null,t,e),s)}function bc(){}function Mm(e,t){var s=dt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&fc(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Om(e,t){var s=dt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&fc(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function $m(e,t,s){return Mr&21?(bt(s,t)||(s=qx(),ge.lanes|=s,Or|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=s)}function hg(e,t){var s=le;le=s!==0&&4>s?s:4,e(!0);var n=Ol.transition;Ol.transition={};try{e(!1),t()}finally{le=s,Ol.transition=n}}function Lm(){return dt().memoizedState}function fg(e,t,s){var n=or(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},zm(e))Hm(t,s);else if(s=Nm(e,t,s,n),s!==null){var a=Me();vt(s,e,n,a),Um(s,t,n)}}function gg(e,t,s){var n=or(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(zm(e))Hm(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,s);if(a.hasEagerState=!0,a.eagerState=o,bt(o,i)){var d=t.interleaved;d===null?(a.next=a,uc(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}s=Nm(e,t,a,n),s!==null&&(a=Me(),vt(s,e,n,a),Um(s,t,n))}}function zm(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Hm(e,t){rn=Oa=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Um(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Xo(e,s)}}var $a={readContext:ct,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},yg={readContext:ct,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:H0,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,xa(4194308,4,Rm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var s=Et();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Et();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fg.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:z0,useDebugValue:bc,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=z0(!1),t=e[0];return e=hg.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=ge,a=Et();if(me){if(s===void 0)throw Error(H(407));s=s()}else{if(s=t(),ke===null)throw Error(H(349));Mr&30||Em(n,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,H0(Bm.bind(null,n,l,e),[e]),n.flags|=2048,wn(9,Am.bind(null,n,l,s,t),void 0,null),s},useId:function(){var e=Et(),t=ke.identifierPrefix;if(me){var s=It,n=Rt;s=(n&~(1<<32-yt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=jn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=pg++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vg={readContext:ct,useCallback:Mm,useContext:ct,useEffect:vc,useImperativeHandle:Im,useInsertionEffect:Pm,useLayoutEffect:Tm,useMemo:Om,useReducer:$l,useRef:_m,useState:function(){return $l(Nn)},useDebugValue:bc,useDeferredValue:function(e){var t=dt();return $m(t,Ne.memoizedState,e)},useTransition:function(){var e=$l(Nn)[0],t=dt().memoizedState;return[e,t]},useMutableSource:km,useSyncExternalStore:Sm,useId:Lm,unstable_isNewReconciler:!1},bg={readContext:ct,useCallback:Mm,useContext:ct,useEffect:vc,useImperativeHandle:Im,useInsertionEffect:Pm,useLayoutEffect:Tm,useMemo:Om,useReducer:Ll,useRef:_m,useState:function(){return Ll(Nn)},useDebugValue:bc,useDeferredValue:function(e){var t=dt();return Ne===null?t.memoizedState=e:$m(t,Ne.memoizedState,e)},useTransition:function(){var e=Ll(Nn)[0],t=dt().memoizedState;return[e,t]},useMutableSource:km,useSyncExternalStore:Sm,useId:Lm,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function mo(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:ye({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nl={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Me(),a=or(e),l=Mt(n,a);l.payload=t,s!=null&&(l.callback=s),t=lr(e,l,a),t!==null&&(vt(t,e,a,n),da(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Me(),a=or(e),l=Mt(n,a);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=lr(e,l,a),t!==null&&(vt(t,e,a,n),da(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Me(),n=or(e),a=Mt(s,n);a.tag=2,t!=null&&(a.callback=t),t=lr(e,a,n),t!==null&&(vt(t,e,n,s),da(t,e,n))}};function U0(e,t,s,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!hn(s,n)||!hn(a,l):!0}function qm(e,t,s){var n=!1,a=xr,l=t.contextType;return typeof l=="object"&&l!==null?l=ct(l):(a=Ue(t)?Rr:Re.current,n=t.contextTypes,l=(n=n!=null)?gs(e,a):xr),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function q0(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&nl.enqueueReplaceState(t,t.state,null)}function po(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},xc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=ct(l):(l=Ue(t)?Rr:Re.current,a.context=gs(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(mo(e,t,l,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nl.enqueueReplaceState(a,a.state,null),Ia(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var s="",n=t;do s+=Kh(n),n=n.return;while(n);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function zl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ho(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var jg=typeof WeakMap=="function"?WeakMap:Map;function Vm(e,t,s){s=Mt(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){za||(za=!0,ko=n),ho(e,t)},s}function Wm(e,t,s){s=Mt(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){ho(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){ho(e,t),typeof n!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function V0(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new jg;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Rg.bind(null,e,t,s),t.then(e,e))}function W0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K0(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Mt(-1,1),t.tag=2,lr(s,t,1))),s.lanes|=1),e)}var Ng=qt.ReactCurrentOwner,ze=!1;function Ie(e,t,s,n){t.child=e===null?jm(t,null,s,n):vs(t,e.child,s,n)}function G0(e,t,s,n,a){s=s.render;var l=t.ref;return ps(t,a),n=gc(e,t,s,n,l,a),s=yc(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(me&&s&&ac(t),t.flags|=1,Ie(e,t,n,a),t.child)}function Q0(e,t,s,n,a){if(e===null){var l=s.type;return typeof l=="function"&&!Ac(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,Km(e,t,l,n,a)):(e=fa(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(s=s.compare,s=s!==null?s:hn,s(i,n)&&e.ref===t.ref)return zt(e,t,a)}return t.flags|=1,e=cr(l,n),e.ref=t.ref,e.return=t,t.child=e}function Km(e,t,s,n,a){if(e!==null){var l=e.memoizedProps;if(hn(l,n)&&e.ref===t.ref)if(ze=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,zt(e,t,a)}return fo(e,t,s,n,a)}function Gm(e,t,s){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(cs,Ge),Ge|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(cs,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:s,ie(cs,Ge),Ge|=n}else l!==null?(n=l.baseLanes|s,t.memoizedState=null):n=s,ie(cs,Ge),Ge|=n;return Ie(e,t,a,s),t.child}function Qm(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function fo(e,t,s,n,a){var l=Ue(s)?Rr:Re.current;return l=gs(t,l),ps(t,a),s=gc(e,t,s,n,l,a),n=yc(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zt(e,t,a)):(me&&n&&ac(t),t.flags|=1,Ie(e,t,s,a),t.child)}function J0(e,t,s,n,a){if(Ue(s)){var l=!0;Da(t)}else l=!1;if(ps(t,a),t.stateNode===null)ma(e,t),qm(t,s,n),po(t,s,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,c=s.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=Ue(s)?Rr:Re.current,c=gs(t,c));var u=s.getDerivedStateFromProps,g=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||d!==c)&&q0(t,i,n,c),Xt=!1;var p=t.memoizedState;i.state=p,Ia(t,n,i,a),d=t.memoizedState,o!==n||p!==d||He.current||Xt?(typeof u=="function"&&(mo(t,s,u,n),d=t.memoizedState),(o=Xt||U0(t,s,o,n,p,d,c))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),i.props=n,i.state=d,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,wm(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:pt(t.type,o),i.props=c,g=t.pendingProps,p=i.context,d=s.contextType,typeof d=="object"&&d!==null?d=ct(d):(d=Ue(s)?Rr:Re.current,d=gs(t,d));var f=s.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||p!==d)&&q0(t,i,n,d),Xt=!1,p=t.memoizedState,i.state=p,Ia(t,n,i,a);var h=t.memoizedState;o!==g||p!==h||He.current||Xt?(typeof f=="function"&&(mo(t,s,f,n),h=t.memoizedState),(c=Xt||U0(t,s,c,n,p,h,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,h,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,h,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),i.props=n,i.state=h,i.context=d,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return go(e,t,s,n,l,a)}function go(e,t,s,n,a,l){Qm(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&R0(t,s,!1),zt(e,t,l);n=t.stateNode,Ng.current=t;var o=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=vs(t,e.child,null,l),t.child=vs(t,null,o,l)):Ie(e,t,o,l),t.memoizedState=n.state,a&&R0(t,s,!0),t.child}function Jm(e){var t=e.stateNode;t.pendingContext?T0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&T0(e,t.context,!1),mc(e,t.containerInfo)}function X0(e,t,s,n,a){return ys(),ic(a),t.flags|=256,Ie(e,t,s,n),t.child}var yo={dehydrated:null,treeContext:null,retryLane:0};function vo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xm(e,t,s){var n=t.pendingProps,a=fe.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ie(fe,a&1),e===null)return uo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=il(i,n,0,null),e=_r(e,n,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=vo(s),t.memoizedState=yo,e):jc(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return wg(e,t,i,n,o,a,s);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=cr(a,d),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=cr(o,l):(l=_r(l,i,s,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?vo(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~s,t.memoizedState=yo,n}return l=e.child,e=l.sibling,n=cr(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function jc(e,t){return t=il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jn(e,t,s,n){return n!==null&&ic(n),vs(t,e.child,null,s),e=jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wg(e,t,s,n,a,l,i){if(s)return t.flags&256?(t.flags&=-257,n=zl(Error(H(422))),Jn(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=il({mode:"visible",children:n.children},a,0,null),l=_r(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&vs(t,e.child,null,i),t.child.memoizedState=vo(i),t.memoizedState=yo,l);if(!(t.mode&1))return Jn(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(H(419)),n=zl(l,n,void 0),Jn(e,t,i,n)}if(o=(i&e.childLanes)!==0,ze||o){if(n=ke,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Lt(e,a),vt(n,e,a,-1))}return Ec(),n=zl(Error(H(421))),Jn(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Ig.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Qe=ar(a.nextSibling),Je=t,me=!0,ft=null,e!==null&&(st[nt++]=Rt,st[nt++]=It,st[nt++]=Ir,Rt=e.id,It=e.overflow,Ir=t),t=jc(t,n.children),t.flags|=4096,t)}function Y0(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xo(e.return,t,s)}function Hl(e,t,s,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=s,l.tailMode=a)}function Ym(e,t,s){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(Ie(e,t,n.children,s),n=fe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Y0(e,s,t);else if(e.tag===19)Y0(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ie(fe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Ma(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Hl(t,!1,a,s,l);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ma(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Hl(t,!0,s,null,l);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ma(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,s=cr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=cr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Cg(e,t,s){switch(t.tag){case 3:Jm(t),ys();break;case 5:Cm(t);break;case 1:Ue(t.type)&&Da(t);break;case 4:mc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ie(Ta,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ie(fe,fe.current&1),t.flags|=128,null):s&t.child.childLanes?Xm(e,t,s):(ie(fe,fe.current&1),e=zt(e,t,s),e!==null?e.sibling:null);ie(fe,fe.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Ym(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ie(fe,fe.current),n)break;return null;case 22:case 23:return t.lanes=0,Gm(e,t,s)}return zt(e,t,s)}var Zm,bo,ep,tp;Zm=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};bo=function(){};ep=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Br(Ft.current);var l=null;switch(s){case"input":a=zi(e,a),n=zi(e,n),l=[];break;case"select":a=ye({},a,{value:void 0}),n=ye({},n,{value:void 0}),l=[];break;case"textarea":a=qi(e,a),n=qi(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ba)}Wi(s,n);var i;s=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(on.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in n){var d=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&d!==o&&(d!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(s||(s={}),s[i]=d[i])}else s||(l||(l=[]),l.push(c,s)),s=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(l=l||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(on.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&oe("scroll",e),l||o===d||(l=[])):(l=l||[]).push(c,d))}s&&(l=l||[]).push("style",s);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};tp=function(e,t,s,n){s!==n&&(t.flags|=4)};function Us(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function kg(e,t,s){var n=t.pendingProps;switch(lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ue(t.type)&&Fa(),_e(t),null;case 3:return n=t.stateNode,bs(),ce(He),ce(Re),hc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Ao(ft),ft=null))),bo(e,t),_e(t),null;case 5:pc(t);var a=Br(bn.current);if(s=t.type,e!==null&&t.stateNode!=null)ep(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return _e(t),null}if(e=Br(Ft.current),Gn(t)){n=t.stateNode,s=t.type;var l=t.memoizedProps;switch(n[At]=t,n[yn]=l,e=(t.mode&1)!==0,s){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(a=0;a<Js.length;a++)oe(Js[a],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":i0(n,l),oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},oe("invalid",n);break;case"textarea":c0(n,l),oe("invalid",n)}Wi(s,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Kn(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Kn(n.textContent,o,e),a=["children",""+o]):on.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&oe("scroll",n)}switch(s){case"input":$n(n),o0(n,l,!0);break;case"textarea":$n(n),d0(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Ba)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bx(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[At]=t,e[yn]=n,Zm(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ki(s,n),s){case"dialog":oe("cancel",e),oe("close",e),a=n;break;case"iframe":case"object":case"embed":oe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Js.length;a++)oe(Js[a],e);a=n;break;case"source":oe("error",e),a=n;break;case"img":case"image":case"link":oe("error",e),oe("load",e),a=n;break;case"details":oe("toggle",e),a=n;break;case"input":i0(e,n),a=zi(e,n),oe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ye({},n,{value:void 0}),oe("invalid",e);break;case"textarea":c0(e,n),a=qi(e,n),oe("invalid",e);break;default:a=n}Wi(s,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="style"?_x(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Fx(e,d)):l==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&cn(e,d):typeof d=="number"&&cn(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(on.hasOwnProperty(l)?d!=null&&l==="onScroll"&&oe("scroll",e):d!=null&&Vo(e,l,d,i))}switch(s){case"input":$n(e),o0(e,n,!1);break;case"textarea":$n(e),d0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ur(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?ds(e,!!n.multiple,l,!1):n.defaultValue!=null&&ds(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ba)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)tp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(s=Br(bn.current),Br(Ft.current),Gn(t)){if(n=t.stateNode,s=t.memoizedProps,n[At]=t,(l=n.nodeValue!==s)&&(e=Je,e!==null))switch(e.tag){case 3:Kn(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kn(n.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[At]=t,t.stateNode=n}return _e(t),null;case 13:if(ce(fe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&Qe!==null&&t.mode&1&&!(t.flags&128))vm(),ys(),t.flags|=98560,l=!1;else if(l=Gn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(H(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(H(317));l[At]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),l=!1}else ft!==null&&(Ao(ft),ft=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?we===0&&(we=3):Ec())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return bs(),bo(e,t),e===null&&fn(t.stateNode.containerInfo),_e(t),null;case 10:return dc(t.type._context),_e(t),null;case 17:return Ue(t.type)&&Fa(),_e(t),null;case 19:if(ce(fe),l=t.memoizedState,l===null)return _e(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Us(l,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ma(e),i!==null){for(t.flags|=128,Us(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)l=s,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ie(fe,fe.current&1|2),t.child}e=e.sibling}l.tail!==null&&be()>Ns&&(t.flags|=128,n=!0,Us(l,!1),t.lanes=4194304)}else{if(!n)if(e=Ma(i),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Us(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!me)return _e(t),null}else 2*be()-l.renderingStartTime>Ns&&s!==1073741824&&(t.flags|=128,n=!0,Us(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(s=l.last,s!==null?s.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=be(),t.sibling=null,s=fe.current,ie(fe,n?s&1|2:s&1),t):(_e(t),null);case 22:case 23:return Sc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ge&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Sg(e,t){switch(lc(t),t.tag){case 1:return Ue(t.type)&&Fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(),ce(He),ce(Re),hc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pc(t),null;case 13:if(ce(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(fe),null;case 4:return bs(),null;case 10:return dc(t.type._context),null;case 22:case 23:return Sc(),null;case 24:return null;default:return null}}var Xn=!1,Pe=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,W=null;function os(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ve(e,t,n)}else s.current=null}function jo(e,t,s){try{s()}catch(n){ve(e,t,n)}}var Z0=!1;function Ag(e,t){if(so=Sa,e=lm(),nc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var i=0,o=-1,d=-1,c=0,u=0,g=e,p=null;t:for(;;){for(var f;g!==s||a!==0&&g.nodeType!==3||(o=i+a),g!==l||n!==0&&g.nodeType!==3||(d=i+n),g.nodeType===3&&(i+=g.nodeValue.length),(f=g.firstChild)!==null;)p=g,g=f;for(;;){if(g===e)break t;if(p===s&&++c===a&&(o=i),p===l&&++u===n&&(d=i),(f=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=f}s=o===-1||d===-1?null:{start:o,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(no={focusedElem:e,selectionRange:s},Sa=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var b=h.memoizedProps,v=h.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:pt(t.type,b),v);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(j){ve(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return h=Z0,Z0=!1,h}function sn(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&jo(t,s,l)}a=a.next}while(a!==n)}}function al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function No(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function rp(e){var t=e.alternate;t!==null&&(e.alternate=null,rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[yn],delete t[io],delete t[dg],delete t[ug])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sp(e){return e.tag===5||e.tag===3||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Ba));else if(n!==4&&(e=e.child,e!==null))for(wo(e,t,s),e=e.sibling;e!==null;)wo(e,t,s),e=e.sibling}function Co(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Co(e,t,s),e=e.sibling;e!==null;)Co(e,t,s),e=e.sibling}var Ee=null,ht=!1;function Kt(e,t,s){for(s=s.child;s!==null;)np(e,t,s),s=s.sibling}function np(e,t,s){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Xa,s)}catch{}switch(s.tag){case 5:Pe||os(s,t);case 6:var n=Ee,a=ht;Ee=null,Kt(e,t,s),Ee=n,ht=a,Ee!==null&&(ht?(e=Ee,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ee.removeChild(s.stateNode));break;case 18:Ee!==null&&(ht?(e=Ee,s=s.stateNode,e.nodeType===8?Rl(e.parentNode,s):e.nodeType===1&&Rl(e,s),mn(e)):Rl(Ee,s.stateNode));break;case 4:n=Ee,a=ht,Ee=s.stateNode.containerInfo,ht=!0,Kt(e,t,s),Ee=n,ht=a;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&jo(s,t,i),a=a.next}while(a!==n)}Kt(e,t,s);break;case 1:if(!Pe&&(os(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){ve(s,t,o)}Kt(e,t,s);break;case 21:Kt(e,t,s);break;case 22:s.mode&1?(Pe=(n=Pe)||s.memoizedState!==null,Kt(e,t,s),Pe=n):Kt(e,t,s);break;default:Kt(e,t,s)}}function td(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Eg),t.forEach(function(n){var a=Mg.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function mt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ee=o.stateNode,ht=!1;break e;case 3:Ee=o.stateNode.containerInfo,ht=!0;break e;case 4:Ee=o.stateNode.containerInfo,ht=!0;break e}o=o.return}if(Ee===null)throw Error(H(160));np(l,i,a),Ee=null,ht=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){ve(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ap(t,e),t=t.sibling}function ap(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Ct(e),n&4){try{sn(3,e,e.return),al(3,e)}catch(b){ve(e,e.return,b)}try{sn(5,e,e.return)}catch(b){ve(e,e.return,b)}}break;case 1:mt(t,e),Ct(e),n&512&&s!==null&&os(s,s.return);break;case 5:if(mt(t,e),Ct(e),n&512&&s!==null&&os(s,s.return),e.flags&32){var a=e.stateNode;try{cn(a,"")}catch(b){ve(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=s!==null?s.memoizedProps:l,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Ex(a,l),Ki(o,i);var c=Ki(o,l);for(i=0;i<d.length;i+=2){var u=d[i],g=d[i+1];u==="style"?_x(a,g):u==="dangerouslySetInnerHTML"?Fx(a,g):u==="children"?cn(a,g):Vo(a,u,g,c)}switch(o){case"input":Hi(a,l);break;case"textarea":Ax(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var f=l.value;f!=null?ds(a,!!l.multiple,f,!1):p!==!!l.multiple&&(l.defaultValue!=null?ds(a,!!l.multiple,l.defaultValue,!0):ds(a,!!l.multiple,l.multiple?[]:"",!1))}a[yn]=l}catch(b){ve(e,e.return,b)}}break;case 6:if(mt(t,e),Ct(e),n&4){if(e.stateNode===null)throw Error(H(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(b){ve(e,e.return,b)}}break;case 3:if(mt(t,e),Ct(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{mn(t.containerInfo)}catch(b){ve(e,e.return,b)}break;case 4:mt(t,e),Ct(e);break;case 13:mt(t,e),Ct(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Cc=be())),n&4&&td(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Pe=(c=Pe)||u,mt(t,e),Pe=c):mt(t,e),Ct(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(g=W=u;W!==null;){switch(p=W,f=p.child,p.tag){case 0:case 11:case 14:case 15:sn(4,p,p.return);break;case 1:os(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){n=p,s=p.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(b){ve(n,s,b)}}break;case 5:os(p,p.return);break;case 22:if(p.memoizedState!==null){sd(g);continue}}f!==null?(f.return=p,W=f):sd(g)}u=u.sibling}e:for(u=null,g=e;;){if(g.tag===5){if(u===null){u=g;try{a=g.stateNode,c?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=g.stateNode,d=g.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=Dx("display",i))}catch(b){ve(e,e.return,b)}}}else if(g.tag===6){if(u===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(b){ve(e,e.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;u===g&&(u=null),g=g.return}u===g&&(u=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:mt(t,e),Ct(e),n&4&&td(e);break;case 21:break;default:mt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(sp(s)){var n=s;break e}s=s.return}throw Error(H(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(cn(a,""),n.flags&=-33);var l=ed(e);Co(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=ed(e);wo(e,o,i);break;default:throw Error(H(161))}}catch(d){ve(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bg(e,t,s){W=e,lp(e)}function lp(e,t,s){for(var n=(e.mode&1)!==0;W!==null;){var a=W,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Xn;if(!i){var o=a.alternate,d=o!==null&&o.memoizedState!==null||Pe;o=Xn;var c=Pe;if(Xn=i,(Pe=d)&&!c)for(W=a;W!==null;)i=W,d=i.child,i.tag===22&&i.memoizedState!==null?nd(a):d!==null?(d.return=i,W=d):nd(a);for(;l!==null;)W=l,lp(l),l=l.sibling;W=a,Xn=o,Pe=c}rd(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,W=l):rd(e)}}function rd(e){for(;W!==null;){var t=W;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||al(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pe)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:pt(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&L0(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}L0(t,i,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var g=u.dehydrated;g!==null&&mn(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Pe||t.flags&512&&No(t)}catch(p){ve(t,t.return,p)}}if(t===e){W=null;break}if(s=t.sibling,s!==null){s.return=t.return,W=s;break}W=t.return}}function sd(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var s=t.sibling;if(s!==null){s.return=t.return,W=s;break}W=t.return}}function nd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{al(4,t)}catch(d){ve(t,s,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(d){ve(t,a,d)}}var l=t.return;try{No(t)}catch(d){ve(t,l,d)}break;case 5:var i=t.return;try{No(t)}catch(d){ve(t,i,d)}}}catch(d){ve(t,t.return,d)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var Fg=Math.ceil,La=qt.ReactCurrentDispatcher,Nc=qt.ReactCurrentOwner,it=qt.ReactCurrentBatchConfig,ne=0,ke=null,je=null,Ae=0,Ge=0,cs=hr(0),we=0,Cn=null,Or=0,ll=0,wc=0,nn=null,Le=null,Cc=0,Ns=1/0,Pt=null,za=!1,ko=null,ir=null,Yn=!1,tr=null,Ha=0,an=0,So=null,pa=-1,ha=0;function Me(){return ne&6?be():pa!==-1?pa:pa=be()}function or(e){return e.mode&1?ne&2&&Ae!==0?Ae&-Ae:mg.transition!==null?(ha===0&&(ha=qx()),ha):(e=le,e!==0||(e=window.event,e=e===void 0?16:Xx(e.type)),e):1}function vt(e,t,s,n){if(50<an)throw an=0,So=null,Error(H(185));An(e,s,n),(!(ne&2)||e!==ke)&&(e===ke&&(!(ne&2)&&(ll|=s),we===4&&Zt(e,Ae)),qe(e,n),s===1&&ne===0&&!(t.mode&1)&&(Ns=be()+500,rl&&fr()))}function qe(e,t){var s=e.callbackNode;mf(e,t);var n=ka(e,e===ke?Ae:0);if(n===0)s!==null&&m0(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&m0(s),t===1)e.tag===0?xg(ad.bind(null,e)):fm(ad.bind(null,e)),og(function(){!(ne&6)&&fr()}),s=null;else{switch(Vx(n)){case 1:s=Jo;break;case 4:s=Hx;break;case 16:s=Ca;break;case 536870912:s=Ux;break;default:s=Ca}s=pp(s,ip.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ip(e,t){if(pa=-1,ha=0,ne&6)throw Error(H(327));var s=e.callbackNode;if(hs()&&e.callbackNode!==s)return null;var n=ka(e,e===ke?Ae:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ua(e,n);else{t=n;var a=ne;ne|=2;var l=cp();(ke!==e||Ae!==t)&&(Pt=null,Ns=be()+500,Dr(e,t));do try{Pg();break}catch(o){op(e,o)}while(!0);cc(),La.current=l,ne=a,je!==null?t=0:(ke=null,Ae=0,t=we)}if(t!==0){if(t===2&&(a=Yi(e),a!==0&&(n=a,t=Eo(e,a))),t===1)throw s=Cn,Dr(e,0),Zt(e,n),qe(e,be()),s;if(t===6)Zt(e,n);else{if(a=e.current.alternate,!(n&30)&&!Dg(a)&&(t=Ua(e,n),t===2&&(l=Yi(e),l!==0&&(n=l,t=Eo(e,l))),t===1))throw s=Cn,Dr(e,0),Zt(e,n),qe(e,be()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:kr(e,Le,Pt);break;case 3:if(Zt(e,n),(n&130023424)===n&&(t=Cc+500-be(),10<t)){if(ka(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Me(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=lo(kr.bind(null,e,Le,Pt),t);break}kr(e,Le,Pt);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-yt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fg(n/1960))-n,10<n){e.timeoutHandle=lo(kr.bind(null,e,Le,Pt),n);break}kr(e,Le,Pt);break;case 5:kr(e,Le,Pt);break;default:throw Error(H(329))}}}return qe(e,be()),e.callbackNode===s?ip.bind(null,e):null}function Eo(e,t){var s=nn;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=Ua(e,t),e!==2&&(t=Le,Le=s,t!==null&&Ao(t)),e}function Ao(e){Le===null?Le=e:Le.push.apply(Le,e)}function Dg(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],l=a.getSnapshot;a=a.value;try{if(!bt(l(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~wc,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-yt(t),n=1<<s;e[s]=-1,t&=~n}}function ad(e){if(ne&6)throw Error(H(327));hs();var t=ka(e,0);if(!(t&1))return qe(e,be()),null;var s=Ua(e,t);if(e.tag!==0&&s===2){var n=Yi(e);n!==0&&(t=n,s=Eo(e,n))}if(s===1)throw s=Cn,Dr(e,0),Zt(e,t),qe(e,be()),s;if(s===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,Le,Pt),qe(e,be()),null}function kc(e,t){var s=ne;ne|=1;try{return e(t)}finally{ne=s,ne===0&&(Ns=be()+500,rl&&fr())}}function $r(e){tr!==null&&tr.tag===0&&!(ne&6)&&hs();var t=ne;ne|=1;var s=it.transition,n=le;try{if(it.transition=null,le=1,e)return e()}finally{le=n,it.transition=s,ne=t,!(ne&6)&&fr()}}function Sc(){Ge=cs.current,ce(cs)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ig(s)),je!==null)for(s=je.return;s!==null;){var n=s;switch(lc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fa();break;case 3:bs(),ce(He),ce(Re),hc();break;case 5:pc(n);break;case 4:bs();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:dc(n.type._context);break;case 22:case 23:Sc()}s=s.return}if(ke=e,je=e=cr(e.current,null),Ae=Ge=t,we=0,Cn=null,wc=ll=Or=0,Le=nn=null,Ar!==null){for(t=0;t<Ar.length;t++)if(s=Ar[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,l=s.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}s.pending=n}Ar=null}return e}function op(e,t){do{var s=je;try{if(cc(),ua.current=$a,Oa){for(var n=ge.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Oa=!1}if(Mr=0,Ce=Ne=ge=null,rn=!1,jn=0,Nc.current=null,s===null||s.return===null){we=1,Cn=t,je=null;break}e:{var l=e,i=s.return,o=s,d=t;if(t=Ae,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=o,g=u.tag;if(!(u.mode&1)&&(g===0||g===11||g===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=W0(i);if(f!==null){f.flags&=-257,K0(f,i,o,l,t),f.mode&1&&V0(l,c,t),t=f,d=c;var h=t.updateQueue;if(h===null){var b=new Set;b.add(d),t.updateQueue=b}else h.add(d);break e}else{if(!(t&1)){V0(l,c,t),Ec();break e}d=Error(H(426))}}else if(me&&o.mode&1){var v=W0(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),K0(v,i,o,l,t),ic(js(d,o));break e}}l=d=js(d,o),we!==4&&(we=2),nn===null?nn=[l]:nn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=Vm(l,d,t);$0(l,x);break e;case 1:o=d;var m=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ir===null||!ir.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=Wm(l,o,t);$0(l,j);break e}}l=l.return}while(l!==null)}up(s)}catch(k){t=k,je===s&&s!==null&&(je=s=s.return);continue}break}while(!0)}function cp(){var e=La.current;return La.current=$a,e===null?$a:e}function Ec(){(we===0||we===3||we===2)&&(we=4),ke===null||!(Or&268435455)&&!(ll&268435455)||Zt(ke,Ae)}function Ua(e,t){var s=ne;ne|=2;var n=cp();(ke!==e||Ae!==t)&&(Pt=null,Dr(e,t));do try{_g();break}catch(a){op(e,a)}while(!0);if(cc(),ne=s,La.current=n,je!==null)throw Error(H(261));return ke=null,Ae=0,we}function _g(){for(;je!==null;)dp(je)}function Pg(){for(;je!==null&&!sf();)dp(je)}function dp(e){var t=mp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?up(e):je=t,Nc.current=null}function up(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Sg(s,t),s!==null){s.flags&=32767,je=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,je=null;return}}else if(s=kg(s,t,Ge),s!==null){je=s;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);we===0&&(we=5)}function kr(e,t,s){var n=le,a=it.transition;try{it.transition=null,le=1,Tg(e,t,s,n)}finally{it.transition=a,le=n}return null}function Tg(e,t,s,n){do hs();while(tr!==null);if(ne&6)throw Error(H(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(pf(e,l),e===ke&&(je=ke=null,Ae=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Yn||(Yn=!0,pp(Ca,function(){return hs(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=it.transition,it.transition=null;var i=le;le=1;var o=ne;ne|=4,Nc.current=null,Ag(e,s),ap(s,e),eg(no),Sa=!!so,no=so=null,e.current=s,Bg(s),nf(),ne=o,le=i,it.transition=l}else e.current=s;if(Yn&&(Yn=!1,tr=e,Ha=a),l=e.pendingLanes,l===0&&(ir=null),of(s.stateNode),qe(e,be()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(za)throw za=!1,e=ko,ko=null,e;return Ha&1&&e.tag!==0&&hs(),l=e.pendingLanes,l&1?e===So?an++:(an=0,So=e):an=0,fr(),null}function hs(){if(tr!==null){var e=Vx(Ha),t=it.transition,s=le;try{if(it.transition=null,le=16>e?16:e,tr===null)var n=!1;else{if(e=tr,tr=null,Ha=0,ne&6)throw Error(H(331));var a=ne;for(ne|=4,W=e.current;W!==null;){var l=W,i=l.child;if(W.flags&16){var o=l.deletions;if(o!==null){for(var d=0;d<o.length;d++){var c=o[d];for(W=c;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:sn(8,u,l)}var g=u.child;if(g!==null)g.return=u,W=g;else for(;W!==null;){u=W;var p=u.sibling,f=u.return;if(rp(u),u===c){W=null;break}if(p!==null){p.return=f,W=p;break}W=f}}}var h=l.alternate;if(h!==null){var b=h.child;if(b!==null){h.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}W=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,W=i;else e:for(;W!==null;){if(l=W,l.flags&2048)switch(l.tag){case 0:case 11:case 15:sn(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,W=x;break e}W=l.return}}var m=e.current;for(W=m;W!==null;){i=W;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,W=y;else e:for(i=m;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:al(9,o)}}catch(k){ve(o,o.return,k)}if(o===i){W=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,W=j;break e}W=o.return}}if(ne=a,fr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Xa,e)}catch{}n=!0}return n}finally{le=s,it.transition=t}}return!1}function ld(e,t,s){t=js(s,t),t=Vm(e,t,1),e=lr(e,t,1),t=Me(),e!==null&&(An(e,1,t),qe(e,t))}function ve(e,t,s){if(e.tag===3)ld(e,e,s);else for(;t!==null;){if(t.tag===3){ld(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ir===null||!ir.has(n))){e=js(s,e),e=Wm(t,e,1),t=lr(t,e,1),e=Me(),t!==null&&(An(t,1,e),qe(t,e));break}}t=t.return}}function Rg(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Me(),e.pingedLanes|=e.suspendedLanes&s,ke===e&&(Ae&s)===s&&(we===4||we===3&&(Ae&130023424)===Ae&&500>be()-Cc?Dr(e,0):wc|=s),qe(e,t)}function xp(e,t){t===0&&(e.mode&1?(t=Hn,Hn<<=1,!(Hn&130023424)&&(Hn=4194304)):t=1);var s=Me();e=Lt(e,t),e!==null&&(An(e,t,s),qe(e,s))}function Ig(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),xp(e,s)}function Mg(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),xp(e,s)}var mp;mp=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)ze=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ze=!1,Cg(e,t,s);ze=!!(e.flags&131072)}else ze=!1,me&&t.flags&1048576&&gm(t,Pa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ma(e,t),e=t.pendingProps;var a=gs(t,Re.current);ps(t,s),a=gc(null,t,n,e,a,s);var l=yc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(n)?(l=!0,Da(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,xc(t),a.updater=nl,t.stateNode=a,a._reactInternals=t,po(t,n,e,s),t=go(null,t,n,!0,l,s)):(t.tag=0,me&&l&&ac(t),Ie(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(ma(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=$g(n),e=pt(n,e),a){case 0:t=fo(null,t,n,e,s);break e;case 1:t=J0(null,t,n,e,s);break e;case 11:t=G0(null,t,n,e,s);break e;case 14:t=Q0(null,t,n,pt(n.type,e),s);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:pt(n,a),fo(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:pt(n,a),J0(e,t,n,a,s);case 3:e:{if(Jm(t),e===null)throw Error(H(387));n=t.pendingProps,l=t.memoizedState,a=l.element,wm(e,t),Ia(t,n,null,s);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=js(Error(H(423)),t),t=X0(e,t,n,s,a);break e}else if(n!==a){a=js(Error(H(424)),t),t=X0(e,t,n,s,a);break e}else for(Qe=ar(t.stateNode.containerInfo.firstChild),Je=t,me=!0,ft=null,s=jm(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ys(),n===a){t=zt(e,t,s);break e}Ie(e,t,n,s)}t=t.child}return t;case 5:return Cm(t),e===null&&uo(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,ao(n,a)?i=null:l!==null&&ao(n,l)&&(t.flags|=32),Qm(e,t),Ie(e,t,i,s),t.child;case 6:return e===null&&uo(t),null;case 13:return Xm(e,t,s);case 4:return mc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vs(t,null,n,s):Ie(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:pt(n,a),G0(e,t,n,a,s);case 7:return Ie(e,t,t.pendingProps,s),t.child;case 8:return Ie(e,t,t.pendingProps.children,s),t.child;case 12:return Ie(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ie(Ta,n._currentValue),n._currentValue=i,l!==null)if(bt(l.value,i)){if(l.children===a.children&&!He.current){t=zt(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var d=o.firstContext;d!==null;){if(d.context===n){if(l.tag===1){d=Mt(-1,s&-s),d.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}l.lanes|=s,d=l.alternate,d!==null&&(d.lanes|=s),xo(l.return,s,t),o.lanes|=s;break}d=d.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(H(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),xo(i,s,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ie(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ps(t,s),a=ct(a),n=n(a),t.flags|=1,Ie(e,t,n,s),t.child;case 14:return n=t.type,a=pt(n,t.pendingProps),a=pt(n.type,a),Q0(e,t,n,a,s);case 15:return Km(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:pt(n,a),ma(e,t),t.tag=1,Ue(n)?(e=!0,Da(t)):e=!1,ps(t,s),qm(t,n,a),po(t,n,a,s),go(null,t,n,!0,e,s);case 19:return Ym(e,t,s);case 22:return Gm(e,t,s)}throw Error(H(156,t.tag))};function pp(e,t){return zx(e,t)}function Og(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,s,n){return new Og(e,t,s,n)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $g(e){if(typeof e=="function")return Ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ko)return 11;if(e===Go)return 14}return 2}function cr(e,t){var s=e.alternate;return s===null?(s=at(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function fa(e,t,s,n,a,l){var i=2;if(n=e,typeof e=="function")Ac(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Zr:return _r(s.children,a,l,t);case Wo:i=8,a|=8;break;case Mi:return e=at(12,s,t,a|2),e.elementType=Mi,e.lanes=l,e;case Oi:return e=at(13,s,t,a),e.elementType=Oi,e.lanes=l,e;case $i:return e=at(19,s,t,a),e.elementType=$i,e.lanes=l,e;case Cx:return il(s,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nx:i=10;break e;case wx:i=9;break e;case Ko:i=11;break e;case Go:i=14;break e;case Jt:i=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=at(i,s,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function _r(e,t,s,n){return e=at(7,e,n,t),e.lanes=s,e}function il(e,t,s,n){return e=at(22,e,n,t),e.elementType=Cx,e.lanes=s,e.stateNode={isHidden:!1},e}function Ul(e,t,s){return e=at(6,e,null,t),e.lanes=s,e}function ql(e,t,s){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lg(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,s,n,a,l,i,o,d){return e=new Lg(e,t,s,o,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=at(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},xc(l),e}function zg(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function hp(e){if(!e)return xr;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var s=e.type;if(Ue(s))return hm(e,s,t)}return t}function fp(e,t,s,n,a,l,i,o,d){return e=Bc(s,n,!0,e,a,l,i,o,d),e.context=hp(null),s=e.current,n=Me(),a=or(s),l=Mt(n,a),l.callback=t??null,lr(s,l,a),e.current.lanes=a,An(e,a,n),qe(e,n),e}function ol(e,t,s,n){var a=t.current,l=Me(),i=or(a);return s=hp(s),t.context===null?t.context=s:t.pendingContext=s,t=Mt(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=lr(a,t,i),e!==null&&(vt(e,a,i,l),da(e,a,i)),i}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Fc(e,t){id(e,t),(e=e.alternate)&&id(e,t)}function Hg(){return null}var gp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dc(e){this._internalRoot=e}cl.prototype.render=Dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));ol(e,t,null,null)};cl.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$r(function(){ol(null,e,null,null)}),t[$t]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gx();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Yt.length&&t!==0&&t<Yt[s].priority;s++);Yt.splice(s,0,e),s===0&&Jx(e)}};function _c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function od(){}function Ug(e,t,s,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var c=qa(i);l.call(c)}}var i=fp(t,n,e,0,null,!1,!1,"",od);return e._reactRootContainer=i,e[$t]=i.current,fn(e.nodeType===8?e.parentNode:e),$r(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=qa(d);o.call(c)}}var d=Bc(e,0,!1,null,null,!1,!1,"",od);return e._reactRootContainer=d,e[$t]=d.current,fn(e.nodeType===8?e.parentNode:e),$r(function(){ol(t,d,s,n)}),d}function ul(e,t,s,n,a){var l=s._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var d=qa(i);o.call(d)}}ol(t,i,e,a)}else i=Ug(s,t,e,a,n);return qa(i)}Wx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Qs(t.pendingLanes);s!==0&&(Xo(t,s|1),qe(t,be()),!(ne&6)&&(Ns=be()+500,fr()))}break;case 13:$r(function(){var n=Lt(e,1);if(n!==null){var a=Me();vt(n,e,1,a)}}),Fc(e,1)}};Yo=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var s=Me();vt(t,e,134217728,s)}Fc(e,134217728)}};Kx=function(e){if(e.tag===13){var t=or(e),s=Lt(e,t);if(s!==null){var n=Me();vt(s,e,t,n)}Fc(e,t)}};Gx=function(){return le};Qx=function(e,t){var s=le;try{return le=e,t()}finally{le=s}};Qi=function(e,t,s){switch(t){case"input":if(Hi(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=tl(n);if(!a)throw Error(H(90));Sx(n),Hi(n,a)}}}break;case"textarea":Ax(e,s);break;case"select":t=s.value,t!=null&&ds(e,!!s.multiple,t,!1)}};Rx=kc;Ix=$r;var qg={usingClientEntryPoint:!1,Events:[Fn,ss,tl,Px,Tx,kc]},qs={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vg={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$x(e),e===null?null:e.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||Hg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zn.isDisabled&&Zn.supportsFiber)try{Xa=Zn.inject(Vg),Bt=Zn}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qg;et.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(t))throw Error(H(200));return zg(e,t,null,s)};et.createRoot=function(e,t){if(!_c(e))throw Error(H(299));var s=!1,n="",a=gp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,null,s,!1,n,a),e[$t]=t.current,fn(e.nodeType===8?e.parentNode:e),new Dc(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=$x(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return $r(e)};et.hydrate=function(e,t,s){if(!dl(t))throw Error(H(200));return ul(null,e,t,!0,s)};et.hydrateRoot=function(e,t,s){if(!_c(e))throw Error(H(405));var n=s!=null&&s.hydratedSources||null,a=!1,l="",i=gp;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=fp(t,null,e,1,s??null,a,!1,l,i),e[$t]=t.current,fn(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new cl(t)};et.render=function(e,t,s){if(!dl(t))throw Error(H(200));return ul(null,e,t,!1,s)};et.unmountComponentAtNode=function(e){if(!dl(e))throw Error(H(40));return e._reactRootContainer?($r(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};et.unstable_batchedUpdates=kc;et.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!dl(s))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return ul(e,t,s,!1,n)};et.version="18.3.1-next-f1338f8080-20240426";function yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yp)}catch(e){console.error(e)}}yp(),yx.exports=et;var Wg=yx.exports,cd=Wg;Ri.createRoot=cd.createRoot,Ri.hydrateRoot=cd.hydrateRoot;const Kg="http://localhost:3001/api",Vl="authToken",Wl="currentUser";class Gg{constructor(){he(this,"baseURL");he(this,"token");he(this,"user");this.baseURL=Kg,this.token=this.getStoredToken(),this.user=this.getStoredUser()}getStoredToken(){return typeof window>"u"?null:localStorage.getItem(Vl)}getStoredUser(){if(typeof window>"u")return null;const t=localStorage.getItem(Wl);return t?JSON.parse(t):null}saveToken(t){this.token=t,localStorage.setItem(Vl,t)}saveUser(t){this.user=t,localStorage.setItem(Wl,JSON.stringify(t))}clearAuth(){this.token=null,this.user=null,localStorage.removeItem(Vl),localStorage.removeItem(Wl)}async request(t,s,n){const a=`${this.baseURL}${s}`,l={"Content-Type":"application/json"};this.token&&(l.Authorization=`Bearer ${this.token}`);try{const i=await fetch(a,{method:t,headers:l,body:n?JSON.stringify(n):void 0});if(i.status===401)throw this.clearAuth(),window.location.href="/login",new Error("Authentication failed. Please login again.");if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.message||`HTTP Error: ${i.status}`)}return await i.json()}catch(i){throw console.error(`API Error [${t} ${s}]:`,i),i}}async register(t){const s=await this.request("POST","/auth/register",t);return this.saveToken(s.token),this.saveUser(s.user),s}async login(t,s){const n=await this.request("POST","/auth/login",{username:t,password:s});return this.saveToken(n.token),this.saveUser(n.user),n}async verify(){return this.request("GET","/auth/verify")}async getCurrentUser(){return this.request("GET","/auth/me")}async changePassword(t,s){return this.request("POST","/auth/change-password",{oldPassword:t,newPassword:s})}async logout(){this.clearAuth()}async createCustomer(t){return this.request("POST","/customers",t)}async getCustomers(t=1,s=10){return this.request("GET",`/customers?page=${t}&limit=${s}`)}async getCustomer(t){return this.request("GET",`/customers/${t}`)}async updateCustomer(t,s){return this.request("PUT",`/customers/${t}`,s)}async deleteCustomer(t){return this.request("DELETE",`/customers/${t}`)}async deleteCustomersBatch(t){return this.request("POST","/customers/batch/delete",{ids:t})}async getActiveCustomers(){return this.request("GET","/customers/status/active")}async getAtRiskCustomers(){return this.request("GET","/customers/status/atrisk")}async searchCustomers(t){return this.request("GET",`/customers/search?q=${encodeURIComponent(t)}`)}async updateCustomerSpending(t,s){return this.request("PUT",`/customers/${t}/spending`,{amount:s})}async getCustomerStatistics(){return this.request("GET","/customers/statistics")}async createAppointment(t){return this.request("POST","/appointments",t)}async getAppointments(t=1,s=10){return this.request("GET",`/appointments?page=${t}&limit=${s}`)}async getAppointment(t){return this.request("GET",`/appointments/${t}`)}async updateAppointment(t,s){return this.request("PUT",`/appointments/${t}`,s)}async deleteAppointment(t){return this.request("DELETE",`/appointments/${t}`)}async deleteAppointmentsBatch(t){return this.request("POST","/appointments/batch/delete",{ids:t})}async getTodayAppointments(){return this.request("GET","/appointments/today")}async getPendingAppointments(){return this.request("GET","/appointments/pending")}async getCustomerAppointments(t){return this.request("GET",`/appointments/customer/${t}`)}async getStaffAppointments(t){return this.request("GET",`/appointments/staff/${t}`)}async confirmAppointment(t){return this.request("PUT",`/appointments/${t}/confirm`)}async completeAppointment(t){return this.request("PUT",`/appointments/${t}/complete`)}async cancelAppointment(t){return this.request("PUT",`/appointments/${t}/cancel`)}async getAppointmentStatistics(){return this.request("GET","/appointments/statistics")}async createStaff(t){return this.request("POST","/staff",t)}async getStaff(t=1,s=10){return this.request("GET",`/staff?page=${t}&limit=${s}`)}async getStaffMember(t){return this.request("GET",`/staff/${t}`)}async updateStaff(t,s){return this.request("PUT",`/staff/${t}`,s)}async deleteStaff(t){return this.request("DELETE",`/staff/${t}`)}async deleteStaffBatch(t){return this.request("POST","/staff/batch/delete",{ids:t})}async getActiveStaff(){return this.request("GET","/staff/active")}async getTopRatedStaff(){return this.request("GET","/staff/top-rated")}async searchStaff(t){return this.request("GET",`/staff/search?q=${encodeURIComponent(t)}`)}async updateStaffRating(t,s){return this.request("PUT",`/staff/${t}/rating`,{rating:s})}async getStaffStatistics(){return this.request("GET","/staff/statistics")}async createProduct(t){return this.request("POST","/products",t)}async getProducts(t=1,s=10){return this.request("GET",`/products?page=${t}&limit=${s}`)}async getProduct(t){return this.request("GET",`/products/${t}`)}async updateProduct(t,s){return this.request("PUT",`/products/${t}`,s)}async deleteProduct(t){return this.request("DELETE",`/products/${t}`)}async deleteProductsBatch(t){return this.request("POST","/products/batch/delete",{ids:t})}async getProductsByCategory(t){return this.request("GET",`/products/category/${encodeURIComponent(t)}`)}async searchProducts(t){return this.request("GET",`/products/search?q=${encodeURIComponent(t)}`)}async getLowStockProducts(){return this.request("GET","/products/low-stock")}async getTopSellingProducts(){return this.request("GET","/products/top-selling")}async decreaseProductStock(t,s){return this.request("PUT",`/products/${t}/decrease-stock`,{quantity:s})}async increaseProductStock(t,s){return this.request("PUT",`/products/${t}/increase-stock`,{quantity:s})}async getProductStatistics(){return this.request("GET","/products/statistics")}async getProductCategories(){return this.request("GET","/products/categories")}async getLiveClasses(){return this.request("GET","/live-classes")}async getLiveClass(t){return this.request("GET",`/live-classes/${t}`)}isAuthenticated(){return!!this.token}getCurrentUserInfo(){return this.user}getToken(){return this.token}setToken(t){this.saveToken(t)}}const Xr=new Gg,vp=B.createContext(void 0),Qg=({children:e})=>{const[t,s]=B.useState(null),[n,a]=B.useState(null),[l,i]=B.useState(!0),[o,d]=B.useState(null);B.useEffect(()=>{const h=localStorage.getItem("authToken"),b=localStorage.getItem("currentUser");if(h&&b)try{a(h),s(JSON.parse(b)),Xr.setToken(h)}catch(v){console.error("Failed to restore auth state:",v),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser")}i(!1)},[]);const f={user:t,token:n,isAuthenticated:!!n&&!!t,loading:l,error:o,login:async(h,b)=>{i(!0),d(null);try{const v=await Xr.login(h,b);a(v.token),s(v.user),localStorage.setItem("authToken",v.token),localStorage.setItem("currentUser",JSON.stringify(v.user)),Xr.setToken(v.token)}catch(v){const x=v instanceof Error?v.message:"Login failed";throw d(x),new Error(x)}finally{i(!1)}},register:async h=>{i(!0),d(null);try{const b=await Xr.register(h);a(b.token),s(b.user),localStorage.setItem("authToken",b.token),localStorage.setItem("currentUser",JSON.stringify(b.user)),Xr.setToken(b.token)}catch(b){const v=b instanceof Error?b.message:"Registration failed";throw d(v),new Error(v)}finally{i(!1)}},logout:()=>{s(null),a(null),d(null),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),Xr.logout()},clearError:()=>{d(null)}};return r.jsx(vp.Provider,{value:f,children:e})},Jg=()=>{const e=B.useContext(vp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const s=B.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:d,...c},u)=>B.createElement("svg",{ref:u,...Xg,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Yg(e)}`,o].join(" "),...c},[...t.map(([g,p])=>B.createElement(g,p)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=K("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=K("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=K("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=K("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=K("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=K("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=K("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=K("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=K("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=K("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=K("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=K("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=K("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=K("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=K("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=K("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=K("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=K("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=K("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=K("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=K("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=K("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=K("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=K("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=K("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=K("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=K("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=K("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function wp(e,t){return function(){return e.apply(t,arguments)}}const{toString:f1}=Object.prototype,{getPrototypeOf:Mc}=Object,{iterator:xl,toStringTag:Cp}=Symbol,ml=(e=>t=>{const s=f1.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),jt=e=>(e=e.toLowerCase(),t=>ml(t)===e),pl=e=>t=>typeof t===e,{isArray:_s}=Array,Es=pl("undefined");function _n(e){return e!==null&&!Es(e)&&e.constructor!==null&&!Es(e.constructor)&&Ve(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kp=jt("ArrayBuffer");function g1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kp(e.buffer),t}const y1=pl("string"),Ve=pl("function"),Sp=pl("number"),Pn=e=>e!==null&&typeof e=="object",v1=e=>e===!0||e===!1,ya=e=>{if(ml(e)!=="object")return!1;const t=Mc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cp in e)&&!(xl in e)},b1=e=>{if(!Pn(e)||_n(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},j1=jt("Date"),N1=jt("File"),w1=jt("Blob"),C1=jt("FileList"),k1=e=>Pn(e)&&Ve(e.pipe),S1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ve(e.append)&&((t=ml(e))==="formdata"||t==="object"&&Ve(e.toString)&&e.toString()==="[object FormData]"))},E1=jt("URLSearchParams"),[A1,B1,F1,D1]=["ReadableStream","Request","Response","Headers"].map(jt),_1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tn(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),_s(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(_n(e))return;const l=s?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],t.call(null,e[o],o,e)}}function Ep(e,t){if(_n(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const Fr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ap=e=>!Es(e)&&e!==Fr;function Po(){const{caseless:e,skipUndefined:t}=Ap(this)&&this||{},s={},n=(a,l)=>{const i=e&&Ep(s,l)||l;ya(s[i])&&ya(a)?s[i]=Po(s[i],a):ya(a)?s[i]=Po({},a):_s(a)?s[i]=a.slice():(!t||!Es(a))&&(s[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Tn(arguments[a],n);return s}const P1=(e,t,s,{allOwnKeys:n}={})=>(Tn(t,(a,l)=>{s&&Ve(a)?e[l]=wp(a,s):e[l]=a},{allOwnKeys:n}),e),T1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),R1=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},I1=(e,t,s,n)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=s!==!1&&Mc(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},M1=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},O1=e=>{if(!e)return null;if(_s(e))return e;let t=e.length;if(!Sp(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},$1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Mc(Uint8Array)),L1=(e,t)=>{const n=(e&&e[xl]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},z1=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},H1=jt("HTMLFormElement"),U1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),xd=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),q1=jt("RegExp"),Bp=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Tn(s,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(n[l]=i||a)}),Object.defineProperties(e,n)},V1=e=>{Bp(e,(t,s)=>{if(Ve(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(Ve(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},W1=(e,t)=>{const s={},n=a=>{a.forEach(l=>{s[l]=!0})};return _s(e)?n(e):n(String(e).split(t)),s},K1=()=>{},G1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Q1(e){return!!(e&&Ve(e.append)&&e[Cp]==="FormData"&&e[xl])}const J1=e=>{const t=new Array(10),s=(n,a)=>{if(Pn(n)){if(t.indexOf(n)>=0)return;if(_n(n))return n;if(!("toJSON"in n)){t[a]=n;const l=_s(n)?[]:{};return Tn(n,(i,o)=>{const d=s(i,a+1);!Es(d)&&(l[o]=d)}),t[a]=void 0,l}}return n};return s(e,0)},X1=jt("AsyncFunction"),Y1=e=>e&&(Pn(e)||Ve(e))&&Ve(e.then)&&Ve(e.catch),Fp=((e,t)=>e?setImmediate:t?((s,n)=>(Fr.addEventListener("message",({source:a,data:l})=>{a===Fr&&l===s&&n.length&&n.shift()()},!1),a=>{n.push(a),Fr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ve(Fr.postMessage)),Z1=typeof queueMicrotask<"u"?queueMicrotask.bind(Fr):typeof process<"u"&&process.nextTick||Fp,ey=e=>e!=null&&Ve(e[xl]),T={isArray:_s,isArrayBuffer:kp,isBuffer:_n,isFormData:S1,isArrayBufferView:g1,isString:y1,isNumber:Sp,isBoolean:v1,isObject:Pn,isPlainObject:ya,isEmptyObject:b1,isReadableStream:A1,isRequest:B1,isResponse:F1,isHeaders:D1,isUndefined:Es,isDate:j1,isFile:N1,isBlob:w1,isRegExp:q1,isFunction:Ve,isStream:k1,isURLSearchParams:E1,isTypedArray:$1,isFileList:C1,forEach:Tn,merge:Po,extend:P1,trim:_1,stripBOM:T1,inherits:R1,toFlatObject:I1,kindOf:ml,kindOfTest:jt,endsWith:M1,toArray:O1,forEachEntry:L1,matchAll:z1,isHTMLForm:H1,hasOwnProperty:xd,hasOwnProp:xd,reduceDescriptors:Bp,freezeMethods:V1,toObjectSet:W1,toCamelCase:U1,noop:K1,toFiniteNumber:G1,findKey:Ep,global:Fr,isContextDefined:Ap,isSpecCompliantForm:Q1,toJSONObject:J1,isAsyncFn:X1,isThenable:Y1,setImmediate:Fp,asap:Z1,isIterable:ey};function J(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Dp=J.prototype,_p={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_p[e]={value:e}});Object.defineProperties(J,_p);Object.defineProperty(Dp,"isAxiosError",{value:!0});J.from=(e,t,s,n,a,l)=>{const i=Object.create(Dp);T.toFlatObject(e,i,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return J.call(i,o,d,s,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const ty=null;function To(e){return T.isPlainObject(e)||T.isArray(e)}function Pp(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function md(e,t,s){return e?e.concat(t).map(function(a,l){return a=Pp(a),!s&&l?"["+a+"]":a}).join(s?".":""):t}function ry(e){return T.isArray(e)&&!e.some(To)}const sy=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function hl(e,t,s){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=T.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!T.isUndefined(v[b])});const n=s.metaTokens,a=s.visitor||u,l=s.dots,i=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(T.isDate(h))return h.toISOString();if(T.isBoolean(h))return h.toString();if(!d&&T.isBlob(h))throw new J("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(h)||T.isTypedArray(h)?d&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,b,v){let x=h;if(h&&!v&&typeof h=="object"){if(T.endsWith(b,"{}"))b=n?b:b.slice(0,-2),h=JSON.stringify(h);else if(T.isArray(h)&&ry(h)||(T.isFileList(h)||T.endsWith(b,"[]"))&&(x=T.toArray(h)))return b=Pp(b),x.forEach(function(y,j){!(T.isUndefined(y)||y===null)&&t.append(i===!0?md([b],j,l):i===null?b:b+"[]",c(y))}),!1}return To(h)?!0:(t.append(md(v,b,l),c(h)),!1)}const g=[],p=Object.assign(sy,{defaultVisitor:u,convertValue:c,isVisitable:To});function f(h,b){if(!T.isUndefined(h)){if(g.indexOf(h)!==-1)throw Error("Circular reference detected in "+b.join("."));g.push(h),T.forEach(h,function(x,m){(!(T.isUndefined(x)||x===null)&&a.call(t,x,T.isString(m)?m.trim():m,b,p))===!0&&f(x,b?b.concat(m):[m])}),g.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return f(e),t}function pd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Oc(e,t){this._pairs=[],e&&hl(e,this,t)}const Tp=Oc.prototype;Tp.append=function(t,s){this._pairs.push([t,s])};Tp.toString=function(t){const s=t?function(n){return t.call(this,n,pd)}:pd;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function ny(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rp(e,t,s){if(!t)return e;const n=s&&s.encode||ny;T.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let l;if(a?l=a(t,s):l=T.isURLSearchParams(t)?t.toString():new Oc(t,s).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class hd{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ip={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ay=typeof URLSearchParams<"u"?URLSearchParams:Oc,ly=typeof FormData<"u"?FormData:null,iy=typeof Blob<"u"?Blob:null,oy={isBrowser:!0,classes:{URLSearchParams:ay,FormData:ly,Blob:iy},protocols:["http","https","file","blob","url","data"]},$c=typeof window<"u"&&typeof document<"u",Ro=typeof navigator=="object"&&navigator||void 0,cy=$c&&(!Ro||["ReactNative","NativeScript","NS"].indexOf(Ro.product)<0),dy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uy=$c&&window.location.href||"http://localhost",xy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$c,hasStandardBrowserEnv:cy,hasStandardBrowserWebWorkerEnv:dy,navigator:Ro,origin:uy},Symbol.toStringTag,{value:"Module"})),Te={...xy,...oy};function my(e,t){return hl(e,new Te.classes.URLSearchParams,{visitor:function(s,n,a,l){return Te.isNode&&T.isBuffer(s)?(this.append(n,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function py(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function hy(e){const t={},s=Object.keys(e);let n;const a=s.length;let l;for(n=0;n<a;n++)l=s[n],t[l]=e[l];return t}function Mp(e){function t(s,n,a,l){let i=s[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),d=l>=s.length;return i=!i&&T.isArray(a)?a.length:i,d?(T.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!T.isObject(a[i]))&&(a[i]=[]),t(s,n,a[i],l)&&T.isArray(a[i])&&(a[i]=hy(a[i])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const s={};return T.forEachEntry(e,(n,a)=>{t(py(n),a,s,0)}),s}return null}function fy(e,t,s){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Rn={transitional:Ip,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,l=T.isObject(t);if(l&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(Mp(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return my(t,this.formSerializer).toString();if((o=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return hl(o?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||a?(s.setContentType("application/json",!1),fy(t)):t}],transformResponse:[function(t){const s=this.transitional||Rn.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?J.from(o,J.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Rn.headers[e]={}});const gy=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yy=e=>{const t={};let s,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!s||t[s]&&gy[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},fd=Symbol("internals");function Vs(e){return e&&String(e).trim().toLowerCase()}function va(e){return e===!1||e==null?e:T.isArray(e)?e.map(va):String(e)}function vy(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const by=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kl(e,t,s,n,a){if(T.isFunction(n))return n.call(this,t,s);if(a&&(t=s),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function jy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Ny(e,t){const s=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,l,i){return this[n].call(this,t,a,l,i)},configurable:!0})})}let We=class{constructor(t){t&&this.set(t)}set(t,s,n){const a=this;function l(o,d,c){const u=Vs(d);if(!u)throw new Error("header name must be a non-empty string");const g=T.findKey(a,u);(!g||a[g]===void 0||c===!0||c===void 0&&a[g]!==!1)&&(a[g||d]=va(o))}const i=(o,d)=>T.forEach(o,(c,u)=>l(c,u,d));if(T.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(T.isString(t)&&(t=t.trim())&&!by(t))i(yy(t),s);else if(T.isObject(t)&&T.isIterable(t)){let o={},d,c;for(const u of t){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(d=o[c])?T.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}i(o,s)}else t!=null&&l(s,t,n);return this}get(t,s){if(t=Vs(t),t){const n=T.findKey(this,t);if(n){const a=this[n];if(!s)return a;if(s===!0)return vy(a);if(T.isFunction(s))return s.call(this,a,n);if(T.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Vs(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Kl(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let a=!1;function l(i){if(i=Vs(i),i){const o=T.findKey(n,i);o&&(!s||Kl(n,n[o],o,s))&&(delete n[o],a=!0)}}return T.isArray(t)?t.forEach(l):l(t),a}clear(t){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const l=s[n];(!t||Kl(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const s=this,n={};return T.forEach(this,(a,l)=>{const i=T.findKey(n,l);if(i){s[i]=va(a),delete s[l];return}const o=t?jy(l):String(l).trim();o!==l&&delete s[l],s[o]=va(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return T.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=t&&T.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[fd]=this[fd]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Vs(i);n[o]||(Ny(a,i),n[o]=!0)}return T.isArray(t)?t.forEach(l):l(t),this}};We.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(We.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});T.freezeMethods(We);function Gl(e,t){const s=this||Rn,n=t||s,a=We.from(n.headers);let l=n.data;return T.forEach(e,function(o){l=o.call(s,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function Op(e){return!!(e&&e.__CANCEL__)}function Ps(e,t,s){J.call(this,e??"canceled",J.ERR_CANCELED,t,s),this.name="CanceledError"}T.inherits(Ps,J,{__CANCEL__:!0});function $p(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new J("Request failed with status code "+s.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function wy(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Cy(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[l];i||(i=c),s[a]=d,n[a]=c;let g=l,p=0;for(;g!==a;)p+=s[g++],g=g%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),c-i<t)return;const f=u&&c-u;return f?Math.round(p*1e3/f):void 0}}function ky(e,t){let s=0,n=1e3/t,a,l;const i=(c,u=Date.now())=>{s=u,a=null,l&&(clearTimeout(l),l=null),e(...c)};return[(...c)=>{const u=Date.now(),g=u-s;g>=n?i(c,u):(a=c,l||(l=setTimeout(()=>{l=null,i(a)},n-g)))},()=>a&&i(a)]}const Qa=(e,t,s=3)=>{let n=0;const a=Cy(50,250);return ky(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,d=i-n,c=a(d),u=i<=o;n=i;const g={loaded:i,total:o,progress:o?i/o:void 0,bytes:d,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(g)},s)},gd=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},yd=e=>(...t)=>T.asap(()=>e(...t)),Sy=Te.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Te.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Te.origin),Te.navigator&&/(msie|trident)/i.test(Te.navigator.userAgent)):()=>!0,Ey=Te.hasStandardBrowserEnv?{write(e,t,s,n,a,l){const i=[e+"="+encodeURIComponent(t)];T.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),T.isString(n)&&i.push("path="+n),T.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ay(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function By(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Lp(e,t,s){let n=!Ay(t);return e&&(n||s==!1)?By(e,t):t}const vd=e=>e instanceof We?{...e}:e;function Hr(e,t){t=t||{};const s={};function n(c,u,g,p){return T.isPlainObject(c)&&T.isPlainObject(u)?T.merge.call({caseless:p},c,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function a(c,u,g,p){if(T.isUndefined(u)){if(!T.isUndefined(c))return n(void 0,c,g,p)}else return n(c,u,g,p)}function l(c,u){if(!T.isUndefined(u))return n(void 0,u)}function i(c,u){if(T.isUndefined(u)){if(!T.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,g){if(g in t)return n(c,u);if(g in e)return n(void 0,c)}const d={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,u,g)=>a(vd(c),vd(u),g,!0)};return T.forEach(Object.keys({...e,...t}),function(u){const g=d[u]||a,p=g(e[u],t[u],u);T.isUndefined(p)&&g!==o||(s[u]=p)}),s}const zp=e=>{const t=Hr({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=We.from(i),t.url=Rp(Lp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(s)){if(Te.hasStandardBrowserEnv||Te.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(T.isFunction(s.getHeaders)){const d=s.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,g])=>{c.includes(u.toLowerCase())&&i.set(u,g)})}}if(Te.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&Sy(t.url))){const d=a&&l&&Ey.read(l);d&&i.set(a,d)}return t},Fy=typeof XMLHttpRequest<"u",Dy=Fy&&function(e){return new Promise(function(s,n){const a=zp(e);let l=a.data;const i=We.from(a.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:c}=a,u,g,p,f,h;function b(){f&&f(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function x(){if(!v)return;const y=We.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:y,config:e,request:v};$p(function(N){s(N),b()},function(N){n(N),b()},k),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new J("Request aborted",J.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",S=new J(k,J.ERR_NETWORK,e,v);S.event=j||null,n(S),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||Ip;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new J(j,k.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,v)),v=null},l===void 0&&i.setContentType(null),"setRequestHeader"in v&&T.forEach(i.toJSON(),function(j,k){v.setRequestHeader(k,j)}),T.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),c&&([p,h]=Qa(c,!0),v.addEventListener("progress",p)),d&&v.upload&&([g,f]=Qa(d),v.upload.addEventListener("progress",g),v.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(u=y=>{v&&(n(!y||y.type?new Ps(null,e,v):y),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const m=wy(a.url);if(m&&Te.protocols.indexOf(m)===-1){n(new J("Unsupported protocol "+m+":",J.ERR_BAD_REQUEST,e));return}v.send(l||null)})},_y=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,a;const l=function(c){if(!a){a=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof J?u:new Ps(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,l(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(l):c.removeEventListener("abort",l)}),e=null)};e.forEach(c=>c.addEventListener("abort",l));const{signal:d}=n;return d.unsubscribe=()=>T.asap(o),d}},Py=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,a;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},Ty=async function*(e,t){for await(const s of Ry(e))yield*Py(s,t)},Ry=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},bd=(e,t,s,n)=>{const a=Ty(e,t);let l=0,i,o=d=>{i||(i=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){o(),d.close();return}let g=u.byteLength;if(s){let p=l+=g;s(p)}d.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(d){return o(d),a.return()}},{highWaterMark:2})},jd=64*1024,{isFunction:ea}=T,Iy=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:Nd,TextEncoder:wd}=T.global,Cd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},My=e=>{e=T.merge.call({skipUndefined:!0},Iy,e);const{fetch:t,Request:s,Response:n}=e,a=t?ea(t):typeof fetch=="function",l=ea(s),i=ea(n);if(!a)return!1;const o=a&&ea(Nd),d=a&&(typeof wd=="function"?(h=>b=>h.encode(b))(new wd):async h=>new Uint8Array(await new s(h).arrayBuffer())),c=l&&o&&Cd(()=>{let h=!1;const b=new s(Te.origin,{body:new Nd,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!b}),u=i&&o&&Cd(()=>T.isReadableStream(new n("").body)),g={stream:u&&(h=>h.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!g[h]&&(g[h]=(b,v)=>{let x=b&&b[h];if(x)return x.call(b);throw new J(`Response type '${h}' is not supported`,J.ERR_NOT_SUPPORT,v)})});const p=async h=>{if(h==null)return 0;if(T.isBlob(h))return h.size;if(T.isSpecCompliantForm(h))return(await new s(Te.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(T.isArrayBufferView(h)||T.isArrayBuffer(h))return h.byteLength;if(T.isURLSearchParams(h)&&(h=h+""),T.isString(h))return(await d(h)).byteLength},f=async(h,b)=>{const v=T.toFiniteNumber(h.getContentLength());return v??p(b)};return async h=>{let{url:b,method:v,data:x,signal:m,cancelToken:y,timeout:j,onDownloadProgress:k,onUploadProgress:S,responseType:N,headers:A,withCredentials:_="same-origin",fetchOptions:C}=zp(h),w=t||fetch;N=N?(N+"").toLowerCase():"text";let E=_y([m,y&&y.toAbortSignal()],j),F=null;const O=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let z;try{if(S&&c&&v!=="get"&&v!=="head"&&(z=await f(A,x))!==0){let P=new s(b,{method:"POST",body:x,duplex:"half"}),I;if(T.isFormData(x)&&(I=P.headers.get("content-type"))&&A.setContentType(I),P.body){const[L,$]=gd(z,Qa(yd(S)));x=bd(P.body,jd,L,$)}}T.isString(_)||(_=_?"include":"omit");const q=l&&"credentials"in s.prototype,G={...C,signal:E,method:v.toUpperCase(),headers:A.normalize().toJSON(),body:x,duplex:"half",credentials:q?_:void 0};F=l&&new s(b,G);let M=await(l?w(F,C):w(b,G));const U=u&&(N==="stream"||N==="response");if(u&&(k||U&&O)){const P={};["status","statusText","headers"].forEach(te=>{P[te]=M[te]});const I=T.toFiniteNumber(M.headers.get("content-length")),[L,$]=k&&gd(I,Qa(yd(k),!0))||[];M=new n(bd(M.body,jd,L,()=>{$&&$(),O&&O()}),P)}N=N||"text";let V=await g[T.findKey(g,N)||"text"](M,h);return!U&&O&&O(),await new Promise((P,I)=>{$p(P,I,{data:V,headers:We.from(M.headers),status:M.status,statusText:M.statusText,config:h,request:F})})}catch(q){throw O&&O(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,h,F),{cause:q.cause||q}):J.from(q,q&&q.code,h,F)}}},Oy=new Map,Hp=e=>{let t=e?e.env:{};const{fetch:s,Request:n,Response:a}=t,l=[n,a,s];let i=l.length,o=i,d,c,u=Oy;for(;o--;)d=l[o],c=u.get(d),c===void 0&&u.set(d,c=o?new Map:My(t)),u=c;return c};Hp();const Io={http:ty,xhr:Dy,fetch:{get:Hp}};T.forEach(Io,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kd=e=>`- ${e}`,$y=e=>T.isFunction(e)||e===null||e===!1,Up={getAdapter:(e,t)=>{e=T.isArray(e)?e:[e];const{length:s}=e;let n,a;const l={};for(let i=0;i<s;i++){n=e[i];let o;if(a=n,!$y(n)&&(a=Io[(o=String(n)).toLowerCase()],a===void 0))throw new J(`Unknown adapter '${o}'`);if(a&&(T.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=s?i.length>1?`since :
`+i.map(kd).join(`
`):" "+kd(i[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Io};function Ql(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ps(null,e)}function Sd(e){return Ql(e),e.headers=We.from(e.headers),e.data=Gl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Up.getAdapter(e.adapter||Rn.adapter,e)(e).then(function(n){return Ql(e),n.data=Gl.call(e,e.transformResponse,n),n.headers=We.from(n.headers),n},function(n){return Op(n)||(Ql(e),n&&n.response&&(n.response.data=Gl.call(e,e.transformResponse,n.response),n.response.headers=We.from(n.response.headers))),Promise.reject(n)})}const qp="1.12.2",fl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ed={};fl.transitional=function(t,s,n){function a(l,i){return"[Axios v"+qp+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(t===!1)throw new J(a(i," has been removed"+(s?" in "+s:"")),J.ERR_DEPRECATED);return s&&!Ed[i]&&(Ed[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(l,i,o):!0}};fl.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Ly(e,t,s){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],i=t[l];if(i){const o=e[l],d=o===void 0||i(o,l,e);if(d!==!0)throw new J("option "+l+" must be "+d,J.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new J("Unknown option "+l,J.ERR_BAD_OPTION)}}const ba={assertOptions:Ly,validators:fl},kt=ba.validators;let Tr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new hd,response:new hd}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Hr(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:l}=s;n!==void 0&&ba.assertOptions(n,{silentJSONParsing:kt.transitional(kt.boolean),forcedJSONParsing:kt.transitional(kt.boolean),clarifyTimeoutError:kt.transitional(kt.boolean)},!1),a!=null&&(T.isFunction(a)?s.paramsSerializer={serialize:a}:ba.assertOptions(a,{encode:kt.function,serialize:kt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ba.assertOptions(s,{baseUrl:kt.spelling("baseURL"),withXsrfToken:kt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=l&&T.merge(l.common,l[s.method]);l&&T.forEach(["delete","get","head","post","put","patch","common"],h=>{delete l[h]}),s.headers=We.concat(i,l);const o=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(d=d&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,g=0,p;if(!d){const h=[Sd.bind(this),void 0];for(h.unshift(...o),h.push(...c),p=h.length,u=Promise.resolve(s);g<p;)u=u.then(h[g++],h[g++]);return u}p=o.length;let f=s;for(;g<p;){const h=o[g++],b=o[g++];try{f=h(f)}catch(v){b.call(this,v);break}}try{u=Sd.call(this,f)}catch(h){return Promise.reject(h)}for(g=0,p=c.length;g<p;)u=u.then(c[g++],c[g++]);return u}getUri(t){t=Hr(this.defaults,t);const s=Lp(t.baseURL,t.url,t.allowAbsoluteUrls);return Rp(s,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Tr.prototype[t]=function(s,n){return this.request(Hr(n||{},{method:t,url:s,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function s(n){return function(l,i,o){return this.request(Hr(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Tr.prototype[t]=s(),Tr.prototype[t+"Form"]=s(!0)});let zy=class Vp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},t(function(l,i,o){n.reason||(n.reason=new Ps(l,i,o),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Vp(function(a){t=a}),cancel:t}}};function Hy(e){return function(s){return e.apply(null,s)}}function Uy(e){return T.isObject(e)&&e.isAxiosError===!0}const Mo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mo).forEach(([e,t])=>{Mo[t]=e});function Wp(e){const t=new Tr(e),s=wp(Tr.prototype.request,t);return T.extend(s,Tr.prototype,t,{allOwnKeys:!0}),T.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Wp(Hr(e,a))},s}const de=Wp(Rn);de.Axios=Tr;de.CanceledError=Ps;de.CancelToken=zy;de.isCancel=Op;de.VERSION=qp;de.toFormData=hl;de.AxiosError=J;de.Cancel=de.CanceledError;de.all=function(t){return Promise.all(t)};de.spread=Hy;de.isAxiosError=Uy;de.mergeConfig=Hr;de.AxiosHeaders=We;de.formToJSON=e=>Mp(T.isHTMLForm(e)?new FormData(e):e);de.getAdapter=Up.getAdapter;de.HttpStatusCode=Mo;de.default=de;const{Axios:Ev,AxiosError:Av,CanceledError:Bv,isCancel:Fv,CancelToken:Dv,VERSION:_v,all:Pv,Cancel:Tv,isAxiosError:Rv,spread:Iv,toFormData:Mv,AxiosHeaders:Ov,HttpStatusCode:$v,formToJSON:Lv,getAdapter:zv,mergeConfig:Hv}=de,re=de.create({baseURL:"http://localhost:3001/api",timeout:1e4,headers:{"Content-Type":"application/json"}});re.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("请求错误:",e),Promise.reject(e)));re.interceptors.response.use(e=>e,e=>{var t,s,n;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login",console.warn("认证已过期，请重新登录")),((s=e.response)==null?void 0:s.status)===403&&console.warn("权限不足:",(n=e.response.data)==null?void 0:n.message),Promise.reject(e)});const Ad={async login(e){var t;try{const s=await re.post("/auth/login",e);return(t=s.data.data)!=null&&t.token&&(localStorage.setItem("authToken",s.data.data.token),localStorage.setItem("user",JSON.stringify(s.data.data.user))),s.data}catch(s){throw console.error("登录失败:",s),s}},async register(e){var t;try{const s=await re.post("/auth/register",e);return(t=s.data.data)!=null&&t.token&&(localStorage.setItem("authToken",s.data.data.token),localStorage.setItem("user",JSON.stringify(s.data.data.user))),s.data}catch(s){throw console.error("注册失败:",s),s}},async verify(){try{return(await re.get("/auth/verify")).data}catch(e){throw console.error("验证失败:",e),e}},logout(){localStorage.removeItem("authToken"),localStorage.removeItem("user")},getToken(){return localStorage.getItem("authToken")},getUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated(){return!!localStorage.getItem("authToken")},hasRole(e){const t=this.getUser();return(t==null?void 0:t.role)===e}},ta={async getAll(){try{return(await re.get("/customers")).data.data||[]}catch(e){throw console.error("获取客户列表失败:",e),e}},async getById(e){try{return(await re.get(`/customers/${e}`)).data.data}catch(t){throw console.error("获取客户详情失败:",t),t}},async create(e){try{return(await re.post("/customers",e)).data.data}catch(t){throw console.error("创建客户失败:",t),t}},async update(e,t){try{return(await re.put(`/customers/${e}`,t)).data.data}catch(s){throw console.error("更新客户失败:",s),s}},async delete(e){try{return await re.delete(`/customers/${e}`),!0}catch(t){throw console.error("删除客户失败:",t),t}},async getByPhone(e){try{return(await re.get(`/customers/phone/${e}`)).data.data}catch(t){throw console.error("按电话查询客户失败:",t),t}},async getStats(){try{return(await re.get("/customers/stats")).data.data}catch(e){throw console.error("获取客户统计失败:",e),e}}},Bd={async getAll(){try{return(await re.get("/appointments")).data.data||[]}catch(e){throw console.error("获取预约列表失败:",e),e}},async getById(e){try{return(await re.get(`/appointments/${e}`)).data.data}catch(t){throw console.error("获取预约详情失败:",t),t}},async create(e){try{return(await re.post("/appointments",e)).data.data}catch(t){throw console.error("创建预约失败:",t),t}},async update(e,t){try{return(await re.put(`/appointments/${e}`,t)).data.data}catch(s){throw console.error("更新预约失败:",s),s}},async delete(e){try{return await re.delete(`/appointments/${e}`),!0}catch(t){throw console.error("删除预约失败:",t),t}},async getByCustomer(e){try{return(await re.get(`/appointments/customer/${e}`)).data.data||[]}catch(t){throw console.error("获取客户预约失败:",t),t}},async getUpcoming(e=7){try{return(await re.get(`/appointments/upcoming?days=${e}`)).data.data||[]}catch(t){throw console.error("获取即将到来的预约失败:",t),t}},async getStats(){try{return(await re.get("/appointments/stats")).data.data}catch(e){throw console.error("获取预约统计失败:",e),e}}},Fd={async getAll(){try{return(await re.get("/staff")).data.data||[]}catch(e){throw console.error("获取美容师列表失败:",e),e}},async getById(e){try{return(await re.get(`/staff/${e}`)).data.data}catch(t){throw console.error("获取美容师详情失败:",t),t}},async create(e){try{return(await re.post("/staff",e)).data.data}catch(t){throw console.error("创建美容师失败:",t),t}},async update(e,t){try{return(await re.put(`/staff/${e}`,t)).data.data}catch(s){throw console.error("更新美容师失败:",s),s}},async delete(e){try{return await re.delete(`/staff/${e}`),!0}catch(t){throw console.error("删除美容师失败:",t),t}},async getAvailable(){try{return(await re.get("/staff/available")).data.data||[]}catch(e){throw console.error("获取可用美容师失败:",e),e}},async getStats(){try{return(await re.get("/staff/stats")).data.data}catch(e){throw console.error("获取美容师统计失败:",e),e}}},Jl={async getAll(){try{return(await re.get("/products")).data.data||[]}catch(e){throw console.error("获取产品列表失败:",e),e}},async getById(e){try{return(await re.get(`/products/${e}`)).data.data}catch(t){throw console.error("获取产品详情失败:",t),t}},async create(e){try{return(await re.post("/products",e)).data.data}catch(t){throw console.error("创建产品失败:",t),t}},async update(e,t){try{return(await re.put(`/products/${e}`,t)).data.data}catch(s){throw console.error("更新产品失败:",s),s}},async delete(e){try{return await re.delete(`/products/${e}`),!0}catch(t){throw console.error("删除产品失败:",t),t}},async getByCategory(e){try{return(await re.get(`/products/category/${e}`)).data.data||[]}catch(t){throw console.error("按分类查询产品失败:",t),t}},async search(e){try{return(await re.get(`/products/search?name=${e}`)).data.data||[]}catch(t){throw console.error("搜索产品失败:",t),t}},async getStats(){try{return(await re.get("/products/stats")).data.data}catch(e){throw console.error("获取产品统计失败:",e),e}}},qy=({onLogin:e})=>{const[t,s]=B.useState(!0),[n,a]=B.useState(""),[l,i]=B.useState(""),[o,d]=B.useState(""),[c,u]=B.useState(""),[g,p]=B.useState("customer"),[f,h]=B.useState(!1),[b,v]=B.useState(""),[x,m]=B.useState(!1),y=async S=>{var N,A,_,C,w,E;S.preventDefault(),m(!0),v("");try{if(!l||!o){v("请输入用户名和密码"),m(!1);return}const F=await Ad.login({username:l,password:o});console.log("登录响应:",F),F&&F.success&&((N=F.data)!=null&&N.user)?(console.log("登录成功:",F.data.user),e(F.data.user.role)):F&&((A=F.data)!=null&&A.user)?(console.log("登录成功(备选):",F.data.user),e(F.data.user.role)):v((F==null?void 0:F.message)||"登录失败，请重试")}catch(F){console.error("登录错误详情:",{message:F.message,response:(_=F.response)==null?void 0:_.data,status:(C=F.response)==null?void 0:C.status,error:F});const O=((E=(w=F.response)==null?void 0:w.data)==null?void 0:E.message)||F.message||"登录失败，请检查后端服务";v(O)}finally{m(!1)}},j=async S=>{var N,A,_,C,w;S.preventDefault(),m(!0),v("");try{if(!l||!n||!o){v("请填写所有必要字段"),m(!1);return}if(o!==c){v("密码不匹配"),m(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){v("请输入有效的邮箱地址"),m(!1);return}const F=await Ad.register({username:l,email:n,password:o,confirmPassword:c,role:g});console.log("注册响应:",F),F&&F.success?(v(""),s(!0),i(""),a(""),d(""),u(""),(N=F.data)!=null&&N.user&&e(F.data.user.role)):v((F==null?void 0:F.message)||"注册失败，请重试")}catch(E){console.error("注册错误详情:",{message:E.message,response:(A=E.response)==null?void 0:A.data,status:(_=E.response)==null?void 0:_.status,error:E});const F=((w=(C=E.response)==null?void 0:C.data)==null?void 0:w.message)||E.message||"注册失败，请检查后端服务";v(F)}finally{m(!1)}},k=S=>{console.log("进入演示模式:",S),e(S)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[r.jsx(Be,{className:"w-8 h-8 text-green-600"}),r.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"Beauty Studio"})]}),r.jsx("p",{className:"text-gray-600",children:"专业美容院管理系统"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsx("button",{onClick:()=>s(!0),className:`flex-1 py-2 rounded-lg font-semibold transition-colors ${t?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"登录"}),r.jsx("button",{onClick:()=>s(!1),className:`flex-1 py-2 rounded-lg font-semibold transition-colors ${t?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-600 text-white"}`,children:"注册"})]}),r.jsxs("form",{onSubmit:t?y:j,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"用户名"}),r.jsx("input",{type:"text",value:l,onChange:S=>i(S.target.value),placeholder:"输入用户名",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:x})]}),!t&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"邮箱"}),r.jsx("input",{type:"email",value:n,onChange:S=>a(S.target.value),placeholder:"输入邮箱地址",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:x})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:f?"text":"password",value:o,onChange:S=>d(S.target.value),placeholder:"输入密码",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 pr-10",disabled:x}),r.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:f?r.jsx(r1,{className:"w-5 h-5"}):r.jsx(Pc,{className:"w-5 h-5"})})]})]}),!t&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"确认密码"}),r.jsx("input",{type:f?"text":"password",value:c,onChange:S=>u(S.target.value),placeholder:"确认密码",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:x})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"角色"}),r.jsxs("select",{value:g,onChange:S=>p(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:x,children:[r.jsx("option",{value:"customer",children:"客户"}),r.jsx("option",{value:"staff",children:"美容师"}),r.jsx("option",{value:"admin",children:"管理员"})]})]})]}),b&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:b}),r.jsx("button",{type:"submit",disabled:x,className:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:bg-gray-400",children:x?"处理中...":t?"登录":"注册"})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-600 text-center mb-4",children:"快速访问选项："}),r.jsx("div",{className:"space-y-2",children:[{role:"admin",label:"以管理员身份进入"},{role:"staff",label:"以美容师身份进入"},{role:"customer",label:"以客户身份进入"}].map(S=>r.jsx("button",{onClick:()=>k(S.role),className:"w-full py-2 bg-gray-50 hover:bg-gray-100 text-gray-700 rounded-lg text-sm font-medium transition-colors border border-gray-200",disabled:x,children:S.label},S.role))}),r.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"提示：使用演示模式可立即体验系统"})]})]}),r.jsx("p",{className:"text-center text-sm text-gray-600 mt-4",children:"美容院管理系统 v1.0 | 后端 API 集成版"})]})})},Vy=({currentPage:e,userRole:t,onPageChange:s,onLogout:n})=>{const l={admin:[{id:"dashboard",label:"仪表盘",icon:ws},{id:"customermanagement",label:"客户管理",icon:xe},{id:"staff",label:"美容师",icon:xe},{id:"shop",label:"商城装修",icon:lt},{id:"training",label:"培训教育",icon:Cs},{id:"ai",label:"AI",icon:Be},{id:"health-assistant",label:"健康助手",icon:ot}],staff:[{id:"dashboard",label:"我的日程",icon:xe},{id:"customermanagement",label:"我的客户",icon:xe},{id:"training",label:"培训学习",icon:Cs},{id:"health-assistant",label:"健康助手",icon:ot}],customer:[{id:"onsite-booking",label:"上门服务",icon:Sn},{id:"customermanagement",label:"我的预约",icon:xe},{id:"shop",label:"美容商城",icon:lt},{id:"health-assistant",label:"健康助手",icon:ot}]}[t];return r.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(u1,{className:"w-6 h-6 text-gray-900"}),r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"美容院"})]}),r.jsx("div",{className:"hidden md:flex items-center gap-1",children:l.map(i=>{const o=i.icon,d=e===i.id;return r.jsxs("button",{onClick:()=>s(i.id),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${d?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(o,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:i.label})]},i.id)})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[t==="admin"&&"管理员",t==="staff"&&"美容师",t==="customer"&&"客户"]}),r.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(jp,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"md:hidden flex overflow-x-auto gap-2 pb-2",children:l.map(i=>{const o=e===i.id;return r.jsx("button",{onClick:()=>s(i.id),className:`px-3 py-1 rounded-lg text-xs font-medium whitespace-nowrap transition-colors ${o?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:i.label},i.id)})})]})})},Wy=({currentPage:e,userRole:t,onPageChange:s,onLogout:n})=>{const[a,l]=B.useState(!1),o={admin:[{id:"dashboard",label:"仪表盘",icon:ws},{id:"customermanagement",label:"客户",icon:xe},{id:"staff",label:"美容师",icon:xe},{id:"shop",label:"商城",icon:lt},{id:"ai",label:"AI",icon:Be},{id:"procurement",label:"采购",icon:lt},{id:"health-assistant",label:"健康助手",icon:xe}],staff:[{id:"dashboard",label:"日程",icon:xe},{id:"customermanagement",label:"客户",icon:xe},{id:"ai",label:"AI建议",icon:Be},{id:"shop",label:"产品",icon:lt},{id:"health-assistant",label:"健康助手",icon:xe}],customer:[{id:"onsite-booking",label:"上门服务",icon:Sn},{id:"customermanagement",label:"预约",icon:xe},{id:"shop",label:"商城",icon:lt},{id:"ai",label:"推荐",icon:Be},{id:"health-assistant",label:"健康助手",icon:xe}]}[t],d=o.slice(0,5),c=o.length>5,u=c?4:-1,g=p=>{s(p),l(!1)};return r.jsxs(r.Fragment,{children:[r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-green-200 shadow-lg md:hidden z-40 safe-bottom",children:r.jsx("div",{className:"flex items-center justify-around h-16 relative",children:d.map((p,f)=>{const h=p.icon,b=e===p.id;return f===u&&c?r.jsxs("div",{className:"relative flex-1 flex items-center justify-center",children:[r.jsxs("button",{onClick:()=>l(!a),className:`flex flex-col items-center justify-center py-2 px-3 w-full transition-colors ${b||a?"text-green-600 bg-green-50":"text-gray-600 hover:text-green-500"}`,children:[r.jsx(h,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs mt-0.5 font-medium",children:"更多"})]}),a&&r.jsx("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-lg border border-green-200 mb-2 z-50 w-40",children:o.slice(5).map(v=>{const x=v.icon,m=e===v.id;return r.jsxs("button",{onClick:()=>g(v.id),className:`w-full px-4 py-3 text-left text-sm transition-colors flex items-center gap-2 border-b border-green-100 last:border-0 ${m?"bg-green-50 text-green-600 font-medium":"text-gray-700 hover:bg-green-50 hover:text-green-600"}`,children:[r.jsx(x,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"flex-1",children:v.label})]},v.id)})})]},"more"):r.jsxs("button",{onClick:()=>{g(p.id),l(!1)},className:`flex flex-col items-center justify-center py-2 px-3 flex-1 transition-colors ${b?"text-green-600 bg-green-50":"text-gray-600 hover:text-green-500"}`,children:[r.jsx(h,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs mt-0.5 font-medium truncate",children:p.label})]},p.id)})})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-0 md:hidden z-30",onClick:()=>l(!1)}),r.jsx("div",{className:"fixed bottom-20 right-4 md:hidden z-30",children:r.jsx("button",{onClick:n,className:"p-2 bg-green-500 text-white rounded-full shadow-lg hover:bg-green-600 transition-colors",title:"登出",children:r.jsx(jp,{className:"w-5 h-5"})})})]})},Ws=[{id:"c-1",name:"李美女",phone:"13800138000",totalSpending:8500,lastVisit:"2025-10-20",appointmentCount:12,visitCount:15,preferredStaff:"王美容师",status:"active",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"},{id:"c-2",name:"张丽",phone:"13900139000",totalSpending:2200,lastVisit:"2025-08-15",appointmentCount:4,visitCount:5,preferredStaff:"李美容师",status:"atrisk",photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=400&fit=crop"},{id:"c-3",name:"王琳",phone:"14000140000",totalSpending:6200,lastVisit:"2025-10-18",appointmentCount:10,visitCount:12,preferredStaff:"陈美容师",status:"active",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop"},{id:"c-4",name:"刘静",phone:"14100141000",totalSpending:1800,lastVisit:"2025-07-20",appointmentCount:3,visitCount:4,preferredStaff:"周美容师",status:"atrisk",photo:"https://images.unsplash.com/photo-1517841905240-c2400cd9e44f?w=400&h=400&fit=crop"},{id:"c-5",name:"陈芳",phone:"14200142000",totalSpending:900,lastVisit:"2025-05-10",appointmentCount:1,visitCount:2,preferredStaff:"王美容师",status:"inactive",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop"},{id:"c-6",name:"夏燕",phone:"14300143000",totalSpending:5800,lastVisit:"2025-10-19",appointmentCount:9,visitCount:11,preferredStaff:"李美容师",status:"active",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"}],St="beauty_salon_customers",Kp=()=>{const[e,t]=B.useState([]),[s,n]=B.useState(!0),[a,l]=B.useState(null);B.useEffect(()=>{(async()=>{try{n(!0),l(null);try{const b=await ta.getAll();if(b&&b.length>0){t(b),localStorage.setItem(St,JSON.stringify(b));return}}catch(b){console.warn("API加载客户失败，使用本地缓存:",b)}const h=localStorage.getItem(St);h?t(JSON.parse(h)):(t(Ws),localStorage.setItem(St,JSON.stringify(Ws)))}catch(h){console.error("Failed to load customers:",h),l("加载客户数据失败"),t(Ws)}finally{n(!1)}})()},[]);const i=B.useCallback(async f=>{try{try{const v=await ta.create(f);return t(x=>{const m=[...x,v];return localStorage.setItem(St,JSON.stringify(m)),m}),v}catch(v){console.warn("API添加客户失败，使用本地方式:",v)}const h=Date.now().toString(),b={...f,id:h};return t(v=>{const x=[...v,b];return localStorage.setItem(St,JSON.stringify(x)),x}),b}catch(h){throw console.error("Failed to add customer:",h),h}},[]),o=B.useCallback(async(f,h)=>{try{try{return await ta.update(f,h),t(b=>{const v=b.map(x=>x.id===f?{...x,...h}:x);return localStorage.setItem(St,JSON.stringify(v)),v}),!0}catch(b){console.warn("API更新客户失败，使用本地方式:",b)}return t(b=>{const v=b.map(x=>x.id===f?{...x,...h}:x);return localStorage.setItem(St,JSON.stringify(v)),v}),!0}catch(b){throw console.error("Failed to update customer:",b),b}},[]),d=B.useCallback(async f=>{try{try{await ta.delete(f),t(h=>{const b=h.filter(v=>v.id!==f);return localStorage.setItem(St,JSON.stringify(b)),b});return}catch(h){console.warn("API删除客户失败，使用本地方式:",h)}t(h=>{const b=h.filter(v=>v.id!==f);return localStorage.setItem(St,JSON.stringify(b)),b})}catch(h){throw console.error("Failed to delete customer:",h),h}},[]),c=B.useCallback(f=>e.find(h=>h.id===f),[e]),u=B.useCallback(f=>{if(!f.trim())return e;const h=f.toLowerCase();return e.filter(b=>b.name.toLowerCase().includes(h)||b.phone.toLowerCase().includes(h))},[e]),g=B.useCallback(f=>e.filter(h=>h.status===f),[e]),p=B.useCallback(()=>{t(Ws),localStorage.setItem(St,JSON.stringify(Ws))},[]);return{customers:e,isLoading:s,error:a,addCustomer:i,updateCustomer:o,deleteCustomer:d,getCustomer:c,searchCustomers:u,filterByStatus:g,resetToInitial:p}},Xl=[{id:"1",customerName:"赵晓月",staffName:"李美娟",service:"深层护肤套餐",date:"2025-10-21",time:"10:00",duration:120,status:"confirmed",price:398,notes:"首次客户，建议做皮肤测试"},{id:"2",customerName:"许文雯",staffName:"王雨晴",service:"美甲+美睫套餐",date:"2025-10-21",time:"14:00",duration:90,status:"confirmed",price:280,notes:""},{id:"3",customerName:"郑可欣",staffName:"张琳琳",service:"经典SPA护理",date:"2025-10-22",time:"15:30",duration:150,status:"confirmed",price:520,notes:"客户对玫瑰精油过敏，请避免"},{id:"4",customerName:"黄思琪",staffName:"李美娟",service:"皮肤管理课程",date:"2025-10-20",time:"11:00",duration:90,status:"completed",price:450,notes:"满意度：5星"},{id:"5",customerName:"李雨欣",staffName:"陈思语",service:"日常妆容",date:"2025-10-15",time:"16:00",duration:60,status:"completed",price:180,notes:""},{id:"6",customerName:"赵晓月",staffName:"王雨晴",service:"美甲护理",date:"2025-10-14",time:"13:00",duration:45,status:"completed",price:150,notes:"要求保留现有美甲基础"},{id:"7",customerName:"郑可欣",staffName:"刘心怡",service:"头皮护理+烫染",date:"2025-10-23",time:"09:00",duration:180,status:"confirmed",price:680,notes:"准备新产品烫卷试用"}],jr="beauty_salon_appointments",Gp=()=>{const[e,t]=B.useState([]),[s,n]=B.useState(!0);B.useEffect(()=>{(async()=>{try{try{const h=await Bd.getAll();if(h&&h.length>0){t(h),localStorage.setItem(jr,JSON.stringify(h));return}}catch(h){console.warn("API加载预约失败，使用本地缓存:",h)}const f=localStorage.getItem(jr);f?t(JSON.parse(f)):(t(Xl),localStorage.setItem(jr,JSON.stringify(Xl)))}catch(f){console.error("Failed to load appointments from localStorage:",f),t(Xl)}finally{n(!1)}})()},[]);const a=B.useCallback(async p=>{try{const f=p,h=Date.now().toString(),b={...f,id:h,customerId:f.customerId||"",staffId:f.staffId||"",appointmentDate:f.appointmentDate||new Date().toISOString()};return t(v=>{const x=[...v,b];return localStorage.setItem(jr,JSON.stringify(x)),x}),b}catch(f){throw console.error("Failed to add appointment:",f),f}},[]),l=B.useCallback((p,f)=>{t(h=>{const b=h.map(v=>v.id===p?{...v,...f}:v);return localStorage.setItem(jr,JSON.stringify(b)),b})},[]),i=B.useCallback(async p=>{try{try{await Bd.delete(p),t(f=>{const h=f.filter(b=>b.id!==p);return localStorage.setItem(jr,JSON.stringify(h)),h});return}catch(f){console.warn("API删除预约失败，使用本地方式:",f)}t(f=>{const h=f.filter(b=>b.id!==p);return localStorage.setItem(jr,JSON.stringify(h)),h})}catch(f){throw console.error("Failed to delete appointment:",f),f}},[]),o=B.useCallback(p=>e.find(f=>f.id===p),[e]),d=B.useCallback(p=>{if(!p.trim())return e;const f=p.toLowerCase();return e.filter(h=>h.customerName.toLowerCase().includes(f))},[e]),c=B.useCallback(p=>e.filter(f=>f.status===p),[e]),u=B.useCallback((p,f)=>e.filter(h=>h.date>=p&&h.date<=f),[e]),g=B.useCallback(p=>e.filter(f=>f.staffName===p),[e]);return{appointments:e,isLoading:s,addAppointment:a,updateAppointment:l,deleteAppointment:i,getAppointment:o,searchByCustomer:d,filterByStatus:c,filterByDate:u,filterByStaff:g}},Yl=[{id:"1",name:"李美娟",phone:"13812345678",specialty:["护肤","美妆","皮肤管理"],experience:5,rating:4.9,totalRevenue:18500,clientCount:87,status:"active",startDate:"2020-03-15",photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=400&fit=crop"},{id:"2",name:"王雨晴",phone:"13912345679",specialty:["美甲","美睫","半永久纹绣"],experience:4,rating:4.8,totalRevenue:16200,clientCount:72,status:"active",startDate:"2021-05-20",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"},{id:"3",name:"张琳琳",phone:"13812345680",specialty:["按摩","SPA","拔罐刮痧"],experience:6,rating:4.7,totalRevenue:15800,clientCount:68,status:"active",startDate:"2019-08-10",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop"},{id:"4",name:"陈思语",phone:"13712345681",specialty:["化妆","婚礼妆容","风格咨询"],experience:3,rating:4.6,totalRevenue:14500,clientCount:62,status:"active",startDate:"2022-01-18",photo:"https://images.unsplash.com/photo-1463453091185-61582044d556?w=400&h=400&fit=crop"},{id:"5",name:"刘心怡",phone:"13612345682",specialty:["头皮护理","烫染","剪裁"],experience:2,rating:4.5,totalRevenue:13800,clientCount:58,status:"active",startDate:"2023-02-28",photo:"https://images.unsplash.com/photo-1507152832860-ce0eca3a8285?w=400&h=400&fit=crop"}],Nr="beauty_salon_staff",Lc=()=>{const[e,t]=B.useState([]),[s,n]=B.useState(!0);B.useEffect(()=>{(async()=>{try{try{const h=await Fd.getAll();if(h&&h.length>0){t(h),localStorage.setItem(Nr,JSON.stringify(h));return}}catch(h){console.warn("API加载美容师失败，使用本地缓存:",h)}const f=localStorage.getItem(Nr);f?t(JSON.parse(f)):(t(Yl),localStorage.setItem(Nr,JSON.stringify(Yl)))}catch(f){console.error("Failed to load staff from localStorage:",f),t(Yl)}finally{n(!1)}})()},[]);const a=B.useCallback(p=>{const f=Date.now().toString(),h={...p,id:f};return t(b=>{const v=[...b,h];return localStorage.setItem(Nr,JSON.stringify(v)),v}),h},[]),l=B.useCallback((p,f)=>{t(h=>{const b=h.map(v=>v.id===p?{...v,...f}:v);return localStorage.setItem(Nr,JSON.stringify(b)),b})},[]),i=B.useCallback(async p=>{try{try{await Fd.delete(p),t(f=>{const h=f.filter(b=>b.id!==p);return localStorage.setItem(Nr,JSON.stringify(h)),h});return}catch(f){console.warn("API删除美容师失败，使用本地方式:",f)}t(f=>{const h=f.filter(b=>b.id!==p);return localStorage.setItem(Nr,JSON.stringify(h)),h})}catch(f){throw console.error("Failed to delete staff:",f),f}},[]),o=B.useCallback(p=>e.find(f=>f.id===p),[e]),d=B.useCallback(p=>{if(!p.trim())return e;const f=p.toLowerCase();return e.filter(h=>h.name.toLowerCase().includes(f)||h.phone.toLowerCase().includes(f))},[e]),c=B.useCallback(p=>e.filter(f=>f.specialty.includes(p)),[e]),u=B.useCallback(p=>e.filter(f=>f.status===p),[e]),g=B.useCallback((p=5)=>[...e].sort((f,h)=>h.rating-f.rating).slice(0,p),[e]);return{staff:e,isLoading:s,addStaff:a,updateStaff:l,deleteStaff:i,getStaff:o,searchStaff:d,filterBySpecialty:c,filterByStatus:u,getTopStaff:g}},Zl=[{id:"1",name:"高效保湿面膜",category:"护肤品",stock:145,price:89,cost:30,sold:144,description:"深层保湿，修复肌肤屏障",image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop"},{id:"2",name:"精油护肤套装",category:"护肤品",stock:68,price:199,cost:70,sold:68,description:"天然精油，专业护肤",image:"https://images.unsplash.com/photo-1556228482-6e6aef1b5b34?w=300&h=300&fit=crop"},{id:"3",name:"专业美甲油胶",category:"美甲用品",stock:234,price:45,cost:15,sold:234,description:"专业美甲师推荐",image:"https://images.unsplash.com/photo-1604654894610-df63bc536371?w=300&h=300&fit=crop"},{id:"4",name:"睫毛生长精华液",category:"美睫用品",stock:89,price:128,cost:45,sold:89,description:"激活睫毛生长，浓密有型",image:"https://images.unsplash.com/photo-1596462502278-af407713661d?w=300&h=300&fit=crop"},{id:"5",name:"高级护肤精华",category:"护肤品",stock:45,price:168,cost:60,sold:45,description:"抗衰老，改善肤质",image:"https://images.unsplash.com/photo-1597318911123-c9d4e7b7e2d6?w=300&h=300&fit=crop"},{id:"6",name:"香薰精油组合",category:"SPA用品",stock:156,price:79,cost:25,sold:156,description:"放松身心，舒缓压力",image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop"},{id:"7",name:"专业化妆刷套装",category:"化妆工具",stock:92,price:256,cost:90,sold:92,description:"专业级化妆工具",image:"https://images.unsplash.com/photo-1556228482-6e6aef1b5b34?w=300&h=300&fit=crop"},{id:"8",name:"烫染护理套装",category:"护肤品",stock:78,price:198,cost:70,sold:78,description:"修复烫染伤害，护理头皮",image:"https://images.unsplash.com/photo-1604654894610-df63bc536371?w=300&h=300&fit=crop"}],Gt="beauty_salon_products",Ky=()=>{const[e,t]=B.useState([]),[s,n]=B.useState(!0);B.useEffect(()=>{(async()=>{try{try{const b=await Jl.getAll();if(b&&b.length>0){t(b),localStorage.setItem(Gt,JSON.stringify(b));return}}catch(b){console.warn("API加载产品失败，使用本地缓存:",b)}const h=localStorage.getItem(Gt);h?t(JSON.parse(h)):(t(Zl),localStorage.setItem(Gt,JSON.stringify(Zl)))}catch(h){console.error("Failed to load products from localStorage:",h),t(Zl)}finally{n(!1)}})()},[]);const a=B.useCallback(async f=>{try{try{const v=await Jl.create(f);return t(x=>{const m=[...x,v];return localStorage.setItem(Gt,JSON.stringify(m)),m}),v}catch(v){console.warn("API添加产品失败，使用本地方式:",v)}const h=Date.now().toString(),b={...f,id:h};return t(v=>{const x=[...v,b];return localStorage.setItem(Gt,JSON.stringify(x)),x}),b}catch(h){throw console.error("Failed to add product:",h),h}},[]),l=B.useCallback((f,h)=>{t(b=>{const v=b.map(x=>x.id===f?{...x,...h}:x);return localStorage.setItem(Gt,JSON.stringify(v)),v})},[]),i=B.useCallback(async f=>{try{try{await Jl.delete(f),t(h=>{const b=h.filter(v=>v.id!==f);return localStorage.setItem(Gt,JSON.stringify(b)),b});return}catch(h){console.warn("API删除产品失败，使用本地方式:",h)}t(h=>{const b=h.filter(v=>v.id!==f);return localStorage.setItem(Gt,JSON.stringify(b)),b})}catch(h){throw console.error("Failed to delete product:",h),h}},[]),o=B.useCallback(f=>e.find(h=>h.id===f),[e]),d=B.useCallback(f=>{if(!f.trim())return e;const h=f.toLowerCase();return e.filter(b=>b.name.toLowerCase().includes(h)||b.category.toLowerCase().includes(h))},[e]),c=B.useCallback(f=>f?e.filter(h=>h.category===f):e,[e]),u=B.useCallback(()=>{const f=new Set(e.map(h=>h.category));return Array.from(f)},[e]),g=B.useCallback((f=20)=>e.filter(h=>h.stock<=f),[e]),p=B.useCallback((f=5)=>[...e].sort((h,b)=>b.sold-h.sold).slice(0,f),[e]);return{products:e,isLoading:s,addProduct:a,updateProduct:l,deleteProduct:i,getProduct:o,searchProducts:d,filterByCategory:c,getCategories:u,getLowStockProducts:g,getTopSellingProducts:p}},Dd=()=>{const{customers:e}=Kp(),{appointments:t}=Gp(),{staff:s}=Lc(),{products:n}=Ky(),a=e.filter(x=>x.status==="active").length,l=e.filter(x=>x.status==="atrisk").length,i=t.filter(x=>x.status==="confirmed").length,o=t.filter(x=>x.status==="pending").length,d=s.filter(x=>x.status==="active").length,c=t.reduce((x,m)=>x+m.price,0),u=n.reduce((x,m)=>x+m.price*m.sold,0),g=c+u,p=n.reduce((x,m)=>x+m.price*m.stock,0),f=n.filter(x=>x.stock<=20).length,h=[...s].sort((x,m)=>m.rating-x.rating).slice(0,3),b=t.slice(-5).reverse(),v=[{label:"总营收",value:`¥${g.toLocaleString()}`,change:`预约: ¥${c.toLocaleString()}, 产品: ¥${u.toLocaleString()}`,icon:_t,color:"text-green-600"},{label:"确认预约",value:i.toString(),change:`待确认: ${o}`,icon:Ht,color:"text-blue-600"},{label:"活跃客户",value:a.toString(),change:`风险客户: ${l}`,icon:xe,color:"text-purple-600"},{label:"在职美容师",value:d.toString(),change:`总人数: ${s.length}`,icon:xe,color:"text-amber-600"},{label:"库存价值",value:`¥${p.toLocaleString()}`,change:`产品数: ${n.length}`,icon:lt,color:"text-cyan-600"},{label:"库存预警",value:f.toString(),change:"需要补货的产品",icon:Dt,color:"text-red-600"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"仪表盘"}),r.jsx("p",{className:"text-green-600 mt-1",children:"实时业务数据概览"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map((x,m)=>{const y=x.icon;return r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6 hover:shadow-md transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:x.label}),r.jsx(y,{className:`w-5 h-5 ${x.color} opacity-50`})]}),r.jsx("div",{className:"mb-2",children:r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.value})}),r.jsx("p",{className:"text-xs text-gray-500",children:x.change})]},m)})}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(_t,{className:"w-5 h-5 text-green-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"顶级美容师"})]}),r.jsx("div",{className:"space-y-3",children:h.length>0?h.map((x,m)=>r.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200 last:border-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white font-bold text-sm",children:["#",m+1]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:x.name}),r.jsx("p",{className:"text-xs text-gray-500",children:Array.isArray(x.specialty)?x.specialty.join(", "):x.specialty})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:x.rating}),r.jsxs("p",{className:"text-xs text-gray-500",children:[x.clientCount,"客户"]})]})]},x.id)):r.jsx("p",{className:"text-sm text-gray-500",children:"暂无美容师数据"})})]}),l>0&&r.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Dt,{className:"w-5 h-5 text-red-600"}),r.jsx("h2",{className:"text-lg font-semibold text-red-900",children:"风险客户预警"})]}),r.jsx("div",{className:"space-y-3",children:e.filter(x=>x.status==="atrisk").slice(0,5).map(x=>r.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-red-200 last:border-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-red-900",children:x.name}),r.jsxs("p",{className:"text-xs text-red-600",children:["最后访问: ",x.lastVisit]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-semibold text-red-900",children:["¥",x.totalSpending.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-red-600",children:[x.appointmentCount,"次预约"]})]})]},x.id))})]}),r.jsxs("div",{className:"md:col-span-2 bg-white rounded-lg border border-green-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Ht,{className:"w-5 h-5 text-green-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"最近预约"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"border-b border-green-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"客户"}),r.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"美容师"}),r.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"服务"}),r.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"日期/时间"}),r.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"金额"}),r.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"状态"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:b.length>0?b.map(x=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 text-sm text-gray-900",children:x.customerName}),r.jsx("td",{className:"py-3 text-sm text-gray-600",children:x.staffName}),r.jsx("td",{className:"py-3 text-sm text-gray-600",children:x.service}),r.jsxs("td",{className:"py-3 text-sm text-gray-600",children:[x.date," ",x.time]}),r.jsxs("td",{className:"py-3 text-sm font-medium text-gray-900",children:["¥",x.price.toFixed(2)]}),r.jsx("td",{className:"py-3",children:r.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium ${x.status==="confirmed"?"bg-green-100 text-green-700":x.status==="pending"?"bg-yellow-100 text-yellow-700":x.status==="completed"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:x.status==="confirmed"?"已确认":x.status==="pending"?"待确认":x.status==="completed"?"已完成":"已取消"})})]},x.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"py-4 text-center text-sm text-gray-500",children:"暂无预约数据"})})})]})})]}),r.jsxs("div",{className:"md:col-span-2 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"业务总结"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"客户总数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["活跃: ",a,", 风险: ",l]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"预约总数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["已确认: ",i,", 待确认: ",o]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"业绩指标"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.length>0?(u/(n.reduce((x,m)=>x+m.cost*m.stock,0)||1)*100).toFixed(0):0,"%"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"利润率"})]})]})]})]})]})},Gy=({id:e,type:t,message:s,duration:n=3e3,onClose:a})=>{B.useEffect(()=>{if(n===0)return;const o=setTimeout(()=>a(e),n);return()=>clearTimeout(o)},[e,n,a]);const i={success:{bg:"bg-green-50",border:"border-green-200",icon:r.jsx(Ze,{className:"w-5 h-5 text-green-600"}),text:"text-green-800"},error:{bg:"bg-red-50",border:"border-red-200",icon:r.jsx(Dt,{className:"w-5 h-5 text-red-600"}),text:"text-red-800"},info:{bg:"bg-blue-50",border:"border-blue-200",icon:r.jsx(n1,{className:"w-5 h-5 text-blue-600"}),text:"text-blue-800"}}[t];return r.jsxs("div",{className:`${i.bg} ${i.border} border rounded-lg p-4 flex items-start gap-3 shadow-md animate-slide-in`,role:"alert",children:[i.icon,r.jsx("div",{className:`flex-1 ${i.text} text-sm font-medium`,children:s}),r.jsx("button",{onClick:()=>a(e),className:"p-1 hover:bg-white rounded transition-colors flex-shrink-0",children:r.jsx(Ds,{className:"w-4 h-4"})}),r.jsx("style",{children:`
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-slide-in {
          animation: slideIn 0.3s ease-out;
        }
      `})]})},Qy=({messages:e,onClose:t})=>r.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(s=>r.jsx("div",{className:"pointer-events-auto",children:r.jsx(Gy,{...s,onClose:t})},s.id))}),Qp=B.createContext(void 0),Jy=({children:e})=>{const[t,s]=B.useState([]),n=B.useCallback((l,i,o=3e3)=>{const d=Date.now().toString();s(c=>[...c,{id:d,type:l,message:i,duration:o}])},[]),a=B.useCallback(l=>{s(i=>i.filter(o=>o.id!==l))},[]);return r.jsxs(Qp.Provider,{value:{toasts:t,showToast:n,removeToast:a},children:[r.jsx(Qy,{messages:t,onClose:a}),e]})},gl=()=>{const e=B.useContext(Qp);if(!e)throw new Error("useToast must be used within ToastProvider");return e},Jp=({isOpen:e,onClose:t,title:s,children:n,onConfirm:a,confirmText:l="确认",cancelText:i="取消",isLoading:o=!1})=>{if(!e)return null;const d=c=>{c.target===c.currentTarget&&t()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:d}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-96 overflow-y-auto animation-pop",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-green-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s}),r.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",disabled:o,children:r.jsx(Ds,{className:"w-5 h-5 text-gray-600"})})]}),r.jsx("div",{className:"p-6",children:n}),a&&r.jsxs("div",{className:"flex gap-3 p-6 border-t border-green-200 bg-gray-50",children:[r.jsx("button",{onClick:t,disabled:o,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:i}),r.jsxs("button",{onClick:a,disabled:o,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[o&&r.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l]})]})]})}),r.jsx("style",{children:`
        @keyframes popIn {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animation-pop {
          animation: popIn 0.2s ease-out;
        }
      `})]})},Xy=({initialData:e,onSubmit:t,isLoading:s=!1})=>{const[n,a]=B.useState({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",specialty:Array.isArray(e==null?void 0:e.specialty)?e.specialty:[],experience:(e==null?void 0:e.experience)||0,rating:(e==null?void 0:e.rating)||0,totalRevenue:(e==null?void 0:e.totalRevenue)||0,clientCount:(e==null?void 0:e.clientCount)||0,status:(e==null?void 0:e.status)||"active",startDate:(e==null?void 0:e.startDate)||new Date().toISOString().split("T")[0],photo:(e==null?void 0:e.photo)||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop"}),[l,i]=B.useState({}),[o,d]=B.useState(Array.isArray(n.specialty)?n.specialty.join("、"):""),c=()=>{const f={};return n.name.trim()||(f.name="美容师名称不能为空"),n.phone.trim()?/^1[3-9]\d{9}$/.test(n.phone)||(f.phone="请输入有效的手机号"):f.phone="手机号不能为空",n.specialty.length===0&&(f.specialty="至少需要选择一项专长"),n.experience<0&&(f.experience="工作年限不能为负数"),(n.rating<0||n.rating>5)&&(f.rating="评分应在 0-5 之间"),i(f),Object.keys(f).length===0},u=f=>{f.preventDefault(),c()&&t({name:n.name,phone:n.phone,specialty:n.specialty,experience:n.experience,rating:n.rating,totalRevenue:n.totalRevenue,clientCount:n.clientCount,status:n.status,startDate:n.startDate,photo:n.photo})},g=f=>{const{name:h,value:b}=f.target;a(v=>({...v,[h]:h==="experience"||h==="rating"||h==="totalRevenue"||h==="clientCount"?parseFloat(b)||0:b})),l[h]&&i(v=>({...v,[h]:""}))},p=f=>{const h=f.target.value;d(h);const b=h.split("、").map(v=>v.trim()).filter(v=>v);a(v=>({...v,specialty:b})),l.specialty&&i(v=>({...v,specialty:""}))};return r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"美容师名称 *"}),r.jsx("input",{type:"text",name:"name",value:n.name,onChange:g,placeholder:"请输入美容师名称",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.name?"border-red-500":"border-gray-300"}`,disabled:s}),l.name&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"手机号 *"}),r.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:g,placeholder:"请输入11位手机号",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.phone?"border-red-500":"border-gray-300"}`,disabled:s}),l.phone&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:'专长 (用"、"分隔) *'}),r.jsx("input",{type:"text",value:o,onChange:p,placeholder:"如: 面部护理、全身SPA、美甲",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.specialty?"border-red-500":"border-gray-300"}`,disabled:s}),l.specialty&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.specialty}),n.specialty.length>0&&r.jsx("div",{className:"flex gap-2 mt-2",children:n.specialty.map((f,h)=>r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:f},h))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"工作年限"}),r.jsx("input",{type:"number",name:"experience",value:n.experience,onChange:g,placeholder:"0",min:"0",step:"0.5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"评分 (0-5)"}),r.jsx("input",{type:"number",name:"rating",value:n.rating,onChange:g,placeholder:"4.5",min:"0",max:"5",step:"0.1",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.rating?"border-red-500":"border-gray-300"}`,disabled:s}),l.rating&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.rating})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"总收入 (元)"}),r.jsx("input",{type:"number",name:"totalRevenue",value:n.totalRevenue,onChange:g,placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"客户数"}),r.jsx("input",{type:"number",name:"clientCount",value:n.clientCount,onChange:g,placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"工作状态"}),r.jsxs("select",{name:"status",value:n.status,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s,children:[r.jsx("option",{value:"active",children:"在职"}),r.jsx("option",{value:"onleave",children:"请假"}),r.jsx("option",{value:"inactive",children:"离职"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"入职日期"}),r.jsx("input",{type:"date",name:"startDate",value:n.startDate,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s})]}),r.jsx("button",{type:"submit",className:"hidden"})]})},Yy=()=>{var i;const[e,t]=B.useState(null),[s,n]=B.useState(!1),a=[{id:"scheduling",title:"智能排班",description:"根据客流、员工技能智能分配班次",icon:r.jsx(Ht,{className:"w-6 h-6"}),color:"bg-blue-50 border-blue-200"},{id:"promotion",title:"晋升管理",description:"追踪员工成长，管理晋升流程",icon:r.jsx(_t,{className:"w-6 h-6"}),color:"bg-green-50 border-green-200"},{id:"learning",title:"学习计划",description:"制定个性化培训和学习路径",icon:r.jsx(Cs,{className:"w-6 h-6"}),color:"bg-purple-50 border-purple-200"},{id:"assessment",title:"智能考核",description:"多维度评估员工表现和能力",icon:r.jsx(mr,{className:"w-6 h-6"}),color:"bg-amber-50 border-amber-200"}],l=()=>{switch(e){case"scheduling":return r.jsx(Zy,{});case"promotion":return r.jsx(e2,{});case"learning":return r.jsx(t2,{});case"assessment":return r.jsx(r2,{});default:return null}};return r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:a.map(o=>r.jsx("button",{onClick:()=>{t(o.id),n(!0)},className:`p-6 rounded-lg border-2 transition-all hover:shadow-lg text-left ${o.color}`,children:r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"text-green-600",children:o.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-gray-900",children:o.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.description})]})]})},o.id))}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(i=a.find(o=>o.id===e))==null?void 0:i.title}),r.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx(Ds,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6",children:l()})]})})]})},Zy=()=>{const[e,t]=B.useState(1),[s,n]=B.useState(!1),a={1:[{day:"周一",morning:["李美娟","王雨晴"],afternoon:["张琳琳","陈思语"],evening:["刘心怡"]},{day:"周二",morning:["王雨晴","张琳琳"],afternoon:["刘心怡","李美娟"],evening:["陈思语"]},{day:"周三",morning:["陈思语","刘心怡"],afternoon:["李美娟","王雨晴"],evening:["张琳琳"]},{day:"周四",morning:["张琳琳","陈思语"],afternoon:["王雨晴","刘心怡"],evening:["李美娟"]},{day:"周五",morning:["李美娟","刘心怡"],afternoon:["陈思语","张琳琳"],evening:["王雨晴"]}]};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择周次"}),r.jsxs("select",{value:e,onChange:l=>t(Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:1,children:"第1周"}),r.jsx("option",{value:2,children:"第2周"}),r.jsx("option",{value:3,children:"第3周"}),r.jsx("option",{value:4,children:"第4周"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[r.jsx("input",{type:"checkbox",checked:s,onChange:l=>n(l.target.checked),className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"启用智能自动排班"})]}),s&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-sm text-green-700",children:"AI will intelligently allocate shifts based on employee skills, customer flow, and fatigue level"})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"周班次安排"}),r.jsx("div",{className:"space-y-3",children:a[1].map((l,i)=>r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[r.jsx("p",{className:"font-medium text-gray-900 mb-2",children:l.day}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-xs",children:"上午班"}),r.jsx("p",{className:"text-green-600 font-medium",children:l.morning.join("/")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-xs",children:"下午班"}),r.jsx("p",{className:"text-blue-600 font-medium",children:l.afternoon.join("/")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-xs",children:"晚班"}),r.jsx("p",{className:"text-purple-600 font-medium",children:l.evening.join("/")})]})]})]},i))})]}),r.jsxs("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2",children:[r.jsx(Ze,{className:"w-4 h-4"}),"发布排班表"]})]})},e2=()=>{const[e,t]=B.useState("all"),s=[{name:"李美娟",currentPosition:"高级美容师",targetPosition:"店长",score:95,readiness:"已准备就绪",status:"ready"},{name:"王雨晴",currentPosition:"美容师",targetPosition:"高级美容师",score:87,readiness:"基本完成",status:"ongoing"},{name:"张琳琳",currentPosition:"美容师",targetPosition:"美甲师",score:78,readiness:"继续培养",status:"planning"}],n=a=>{switch(a){case"ready":return"bg-green-100 text-green-800";case"ongoing":return"bg-blue-100 text-blue-800";case"planning":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"职位分类"}),r.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"all",children:"全部职位"}),r.jsx("option",{value:"manager",children:"店长管理"}),r.jsx("option",{value:"senior",children:"高级美容师"}),r.jsx("option",{value:"beautician",children:"美容师"})]})]}),r.jsx("div",{className:"space-y-3",children:s.map((a,l)=>r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:a.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[a.currentPosition," → ",a.targetPosition]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n(a.status)}`,children:a.readiness})]}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-xs font-medium text-gray-700",children:"晋升准备度"}),r.jsxs("span",{className:"text-xs font-bold text-green-600",children:[a.score,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${a.score}%`}})})]}),r.jsx("button",{className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"查看晋升计划"})]},l))}),r.jsxs("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2",children:[r.jsx(Vr,{className:"w-4 h-4"}),"新增晋升计划"]})]})},t2=()=>{const[e,t]=B.useState("all"),s=[{name:"李美娟",plans:[{course:"高级皮肤管理",status:"进行中",progress:75},{course:"团队管理培训",status:"即将开始",progress:0}]},{name:"王雨晴",plans:[{course:"美甲设计进阶",status:"进行中",progress:60},{course:"客户服务技巧",status:"已完成",progress:100}]},{name:"张琳琳",plans:[{course:"美睫专业技术",status:"进行中",progress:45},{course:"产品知识培训",status:"进行中",progress:50}]}],n=a=>{switch(a){case"已完成":return"text-green-600 bg-green-50";case"进行中":return"text-blue-600 bg-blue-50";case"即将开始":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择员工"}),r.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"all",children:"所有员工"}),r.jsx("option",{value:"limeijuan",children:"李美娟"}),r.jsx("option",{value:"wangyuqing",children:"王雨晴"}),r.jsx("option",{value:"zhanglinlin",children:"张琳琳"})]})]}),r.jsx("div",{className:"space-y-4",children:s.map((a,l)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:a.name}),r.jsx("div",{className:"space-y-3",children:a.plans.map((i,o)=>r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:i.course}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${n(i.status)}`,children:i.status})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${i.progress}%`}})}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i.progress,"% 完成"]})]},o))})]},l))}),r.jsxs("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2",children:[r.jsx(Vr,{className:"w-4 h-4"}),"制定学习计划"]})]})},r2=()=>{const[e,t]=B.useState("comprehensive"),s=[{name:"李美娟",role:"高级美容师",dimensions:[{name:"技能水平",score:95},{name:"客户满意度",score:92},{name:"销售业绩",score:88},{name:"团队合作",score:90},{name:"职业发展",score:85}],overall:90,rating:"优秀"},{name:"王雨晴",role:"美容师",dimensions:[{name:"技能水平",score:82},{name:"客户满意度",score:85},{name:"销售业绩",score:78},{name:"团队合作",score:80},{name:"职业发展",score:75}],overall:80,rating:"良好"}];return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"考核类型"}),r.jsxs("select",{value:e,onChange:n=>t(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"comprehensive",children:"综合评估"}),r.jsx("option",{value:"skill",children:"技能评估"}),r.jsx("option",{value:"performance",children:"业绩评估"}),r.jsx("option",{value:"behavior",children:"行为评估"})]})]}),r.jsx("div",{className:"space-y-4",children:s.map((n,a)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:n.name}),r.jsx("p",{className:"text-sm text-gray-600",children:n.role})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.overall}),r.jsx("div",{className:"text-sm font-medium text-gray-700",children:n.rating})]})]}),r.jsx("div",{className:"space-y-2",children:n.dimensions.map((l,i)=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-sm text-gray-700",children:l.name}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.score})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${l.score>=90?"bg-green-500":l.score>=80?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${l.score}%`}})})]},i))}),r.jsx("button",{className:"mt-4 text-sm text-green-600 hover:text-green-700 font-medium",children:"查看详细报告"})]},a))}),r.jsxs("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2",children:[r.jsx(Ze,{className:"w-4 h-4"}),"生成考核报告"]})]})},Xp=()=>{const[e,t]=B.useState("overview"),[s,n]=B.useState("level1"),[a,l]=B.useState([{employeeId:"EMP001",employeeName:"李美丽",currentLevel:"level1",nextLevel:"level2",progress:75,hardConditionsMet:[!0,!0],assessmentMetrics:[{metric:"月销售额",target:"≥1.5万元",current:"1.8万元",status:"completed"},{metric:"客户满意度",target:"≥90%",current:"92%",status:"completed"}],lastAssessment:"2025-10-20",nextAssessmentDate:"2025-11-20"},{employeeId:"EMP002",employeeName:"王精英",currentLevel:"level2",nextLevel:"level3",progress:60,hardConditionsMet:[!0,!1],assessmentMetrics:[{metric:"连续3个月门店销售第一",target:"已完成",current:"进行中（2/3个月）",status:"in-progress"},{metric:"客户满意度",target:"≥92%",current:"91%",status:"in-progress"}],lastAssessment:"2025-09-15",nextAssessmentDate:"2025-12-15"}]),i=[{id:"level1",title:"美容师 → 精英美容师",description:"第一级晋升：从基础美容师晋升为精英美容师",hardConditions:["入职时间满6个月或以上","基础技能认证考试通过"],assessmentMetrics:["月销售额达到1.5万元以上","客户满意度达到90%以上"],rewards:["底薪增加500元","提成比例增加2%","精英美容师证书"],icon:r.jsx(mr,{className:"w-6 h-6"}),color:"from-blue-400 to-blue-600"},{id:"level2",title:"精英美容师 → 店长",description:"第二级晋升：从精英美容师晋升为店长",hardConditions:["任职精英美容师满12个月","带教培养过2名及以上新人"],assessmentMetrics:["连续3个月门店销售排名第一","客户满意度达到92%以上"],rewards:["底薪增加1000元","享受团队销售提成1%","店长聘书"],icon:r.jsx(_t,{className:"w-6 h-6"}),color:"from-green-400 to-green-600"},{id:"level3",title:"店长 → 区域经理候选",description:"第三级晋升：从店长晋升为区域经理",hardConditions:["任职店长满18个月","门店利润增长达到20%"],assessmentMetrics:["培养并成功晋升1名新店长","区域排名进入前三名"],rewards:["股权激励2%","区域经理候选资格","高管薪酬体系"],icon:r.jsx(xe,{className:"w-6 h-6"}),color:"from-purple-400 to-purple-600"}],o=i.find(c=>c.id===s),d=c=>r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-full transition-all duration-300",style:{width:`${c}%`}})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-6 text-white",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"员工晋升计划"}),r.jsx("p",{className:"text-indigo-100",children:"完整的四级晋升体系：美容师 → 精英美容师 → 店长 → 区域经理"})]}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("overview"),className:`px-4 py-2 font-medium border-b-2 transition-all ${e==="overview"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"晋升体系概览"}),r.jsx("button",{onClick:()=>t("details"),className:`px-4 py-2 font-medium border-b-2 transition-all ${e==="details"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"晋升详情"}),r.jsx("button",{onClick:()=>t("employees"),className:`px-4 py-2 font-medium border-b-2 transition-all ${e==="employees"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"员工进度"})]}),e==="overview"&&r.jsxs("div",{className:"space-y-4",children:[i.map((c,u)=>r.jsx("button",{onClick:()=>{n(c.id),t("details")},className:"w-full text-left p-4 rounded-lg border-2 border-gray-200 hover:border-indigo-400 hover:shadow-lg transition-all group",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${c.color} text-white`,children:c.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:c.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.description})]}),r.jsx(gt,{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-600 flex-shrink-0"})]})},c.id)),r.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"晋升路径总览"}),r.jsxs("div",{className:"flex items-center gap-4 overflow-x-auto pb-4",children:[r.jsxs("div",{className:"flex-shrink-0 text-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-100 flex items-center justify-center mx-auto mb-2",children:r.jsx("span",{className:"text-sm font-bold text-blue-900",children:"美容师"})}),r.jsx("span",{className:"text-xs text-gray-600",children:"入职6个月+"})]}),r.jsx(gt,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),r.jsxs("div",{className:"flex-shrink-0 text-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-2",children:r.jsx("span",{className:"text-sm font-bold text-green-900",children:"精英美容师"})}),r.jsx("span",{className:"text-xs text-gray-600",children:"任职12个月+"})]}),r.jsx(gt,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),r.jsxs("div",{className:"flex-shrink-0 text-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-2",children:r.jsx("span",{className:"text-sm font-bold text-purple-900",children:"店长"})}),r.jsx("span",{className:"text-xs text-gray-600",children:"任职18个月+"})]}),r.jsx(gt,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),r.jsxs("div",{className:"flex-shrink-0 text-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center mx-auto mb-2",children:r.jsx("span",{className:"text-sm font-bold text-indigo-900",children:"区域经理"})}),r.jsx("span",{className:"text-xs text-gray-600",children:"高管级别"})]})]})]})]}),e==="details"&&o&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex gap-2",children:i.map(c=>r.jsx("button",{onClick:()=>n(c.id),className:`flex-1 p-3 rounded-lg font-medium transition-all ${s===c.id?`bg-gradient-to-r ${c.color} text-white`:"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:c.title.split(" → ")[1]},c.id))}),r.jsxs("div",{className:`bg-gradient-to-r ${o.color} rounded-lg p-6 text-white`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.icon,r.jsx("h3",{className:"text-2xl font-bold",children:o.title})]}),r.jsx("p",{className:"text-white/90",children:o.description})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Dt,{className:"w-5 h-5 text-red-500"}),"硬性条件（必须同时满足）"]}),r.jsx("div",{className:"space-y-3",children:o.hardConditions.map((c,u)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center flex-shrink-0 text-sm font-bold",children:u+1}),r.jsx("p",{className:"text-gray-700 pt-0.5",children:c})]},u))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(dr,{className:"w-5 h-5 text-blue-500"}),"考核指标（同时满足）"]}),r.jsx("div",{className:"space-y-3",children:o.assessmentMetrics.map((c,u)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white flex items-center justify-center flex-shrink-0 text-sm font-bold",children:u+1}),r.jsx("p",{className:"text-gray-700 pt-0.5",children:c})]},u))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(mr,{className:"w-5 h-5 text-green-500"}),"晋升奖励"]}),r.jsx("div",{className:"space-y-2",children:o.rewards.map((c,u)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[r.jsx(Ze,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),r.jsx("p",{className:"text-gray-700",children:c})]},u))})]}),r.jsx("button",{className:"w-full py-3 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-bold hover:shadow-lg transition-shadow",children:"立即申请晋升"})]}),e==="employees"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"font-bold text-gray-900",children:"员工晋升进度追踪"}),r.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"添加员工"})]}),a.map(c=>{var u,g;return r.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:c.employeeName}),r.jsxs("p",{className:"text-sm text-gray-600",children:["员工ID：",c.employeeId]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-900 rounded-full text-sm font-medium",children:(u=i.find(p=>p.id===c.currentLevel))==null?void 0:u.title.split(" → ")[1]}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["目标：",(g=i.find(p=>p.id===c.nextLevel))==null?void 0:g.title.split(" → ")[1]]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"晋升进度"}),r.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[c.progress,"%"]})]}),d(c.progress)]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"硬性条件"}),r.jsx("div",{className:"space-y-2",children:c.hardConditionsMet.map((p,f)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${p?"bg-green-100":"bg-gray-100"}`,children:p?r.jsx(Ze,{className:"w-4 h-4 text-green-600"}):r.jsx(Dt,{className:"w-4 h-4 text-gray-400"})}),r.jsxs("span",{className:`text-sm ${p?"text-gray-900 font-medium":"text-gray-600"}`,children:["条件 ",f+1]})]},f))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"考核指标"}),r.jsx("div",{className:"space-y-2",children:c.assessmentMetrics.map((p,f)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.metric}),r.jsxs("p",{className:"text-xs text-gray-600",children:["目标：",p.target]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-bold text-gray-900",children:p.current}),r.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${p.status==="completed"?"bg-green-100 text-green-800":p.status==="in-progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:p.status==="completed"?"已完成":p.status==="in-progress"?"进行中":"未开始"})]})]},f))})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-600 pt-4 border-t border-gray-200",children:[r.jsxs("span",{children:["最后评估：",c.lastAssessment]}),r.jsxs("span",{children:["下次评估：",c.nextAssessmentDate]})]})]},c.employeeId)})]})]})},s2=()=>{const{staff:e,addStaff:t,updateStaff:s,deleteStaff:n,searchStaff:a}=Lc(),{showToast:l}=gl(),[i,o]=B.useState("all"),[d,c]=B.useState(""),[u,g]=B.useState(!1),[p,f]=B.useState(null),[h,b]=B.useState(!1),[v,x]=B.useState("list"),y=(d.trim()?a(d):e).filter(w=>i==="all"?!0:w.status===i),j=w=>{switch(w){case"active":return"bg-green-100 text-green-800";case"onleave":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=w=>{switch(w){case"active":return"在职";case"onleave":return"请假";case"inactive":return"离职";default:return w}},S=()=>{f(null),g(!0)},N=w=>{f(w),g(!0)},A=()=>{g(!1),f(null)},_=async w=>{b(!0);try{p?(s(p.id,w),l("success",`已更新美容师 ${w.name}`,3e3)):(t(w),l("success",`已添加新美容师 ${w.name}`,3e3)),A()}catch{l("error","操作失败，请重试",3e3)}finally{b(!1)}},C=(w,E)=>{if(confirm(`确定要删除美容师 ${E} 吗？`))try{n(w),l("success",`已删除美容师 ${E}`,3e3)}catch{l("error","删除失败，请重试",3e3)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"美容师管理"}),r.jsxs("p",{className:"text-green-600 mt-1",children:["共 ",e.length," 名美容师"]})]}),r.jsxs("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center gap-2",children:[r.jsx(Vr,{className:"w-5 h-5"}),"新增美容师"]})]}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>x("list"),className:`px-4 py-3 font-medium transition-colors border-b-2 ${v==="list"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"美容师列表"}),r.jsxs("button",{onClick:()=>x("smartmanager"),className:`px-4 py-3 font-medium transition-colors border-b-2 flex items-center gap-2 ${v==="smartmanager"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Be,{className:"w-4 h-4"}),"智能店长"]}),r.jsxs("button",{onClick:()=>x("promotion"),className:`px-4 py-3 font-medium transition-colors border-b-2 flex items-center gap-2 ${v==="promotion"?"border-green-600 text-green-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(_t,{className:"w-4 h-4"}),"晋升计划"]})]}),v==="list"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3 bg-white rounded-lg border border-green-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:d,onChange:w=>c(w.target.value),placeholder:"搜索美容师名称或电话...",className:"flex-1 px-3 py-2 border border-green-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),r.jsx("div",{className:"flex gap-3 flex-wrap",children:["all","active","onleave","inactive"].map(w=>r.jsxs("button",{onClick:()=>o(w),className:`px-4 py-2 rounded-lg transition-colors ${i===w?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[w==="all"?"全部":k(w),r.jsx("span",{className:"ml-2 text-sm",children:e.filter(E=>w==="all"?!0:E.status===w).length})]},w))})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(w=>r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 overflow-hidden hover:shadow-lg transition-all",children:[r.jsx("div",{className:"w-full h-48 bg-gray-200 overflow-hidden",children:r.jsx("img",{src:w.photo,alt:w.name,className:"w-full h-full object-cover hover:scale-105 transition-transform"})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.name}),r.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${j(w.status)}`,children:k(w.status)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((E,F)=>r.jsx(Xe,{className:`w-4 h-4 ${F<Math.floor(w.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},F))}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.rating.toFixed(1)})]})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Array.isArray(w.specialty)&&w.specialty.slice(0,2).map((E,F)=>r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:E},F)),Array.isArray(w.specialty)&&w.specialty.length>2&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:["+",w.specialty.length-2]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 py-3 border-t border-b border-gray-200",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[r.jsx(_t,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"经验"})]}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[w.experience,"年"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[r.jsx(xe,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"客户"})]}),r.jsx("p",{className:"font-semibold text-gray-900",children:w.clientCount})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[r.jsx(kn,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"收入"})]}),r.jsxs("p",{className:"font-semibold text-gray-900",children:["¥",(w.totalRevenue/1e3).toFixed(1),"k"]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>N(w),className:"flex-1 px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[r.jsx(Ka,{className:"w-4 h-4"}),"编辑"]}),r.jsxs("button",{onClick:()=>C(w.id,w.name),className:"flex-1 px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[r.jsx(ks,{className:"w-4 h-4"}),"删除"]})]})]})]},w.id))}),y.length===0&&r.jsx("div",{className:"text-center py-12 text-gray-600",children:r.jsx("p",{children:"暂无匹配的美容师"})})]}),v==="smartmanager"&&r.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:r.jsx(Yy,{})}),v==="promotion"&&r.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:r.jsx(Xp,{})}),r.jsx(Jp,{isOpen:u,onClose:A,title:p?"编辑美容师":"新增美容师",onConfirm:()=>{const w=document.querySelector("form");w&&w.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))},confirmText:p?"保存":"添加",cancelText:"取消",isLoading:h,children:r.jsx(Xy,{initialData:p||void 0,onSubmit:_,isLoading:h})})]})},n2=({initialData:e,onSubmit:t,isLoading:s=!1})=>{const[n,a]=B.useState({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",totalSpending:(e==null?void 0:e.totalSpending)||0,appointmentCount:(e==null?void 0:e.appointmentCount)||0,preferredStaff:(e==null?void 0:e.preferredStaff)||"",status:(e==null?void 0:e.status)||"active",lastVisit:(e==null?void 0:e.lastVisit)||new Date().toISOString().split("T")[0],photo:(e==null?void 0:e.photo)||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&h=400&fit=crop"}),[l,i]=B.useState({}),o=()=>{const u={};return n.name.trim()||(u.name="客户名称不能为空"),n.phone.trim()?/^1[3-9]\d{9}$/.test(n.phone)||(u.phone="请输入有效的手机号"):u.phone="手机号不能为空",n.totalSpending<0&&(u.totalSpending="消费额不能为负数"),n.appointmentCount<0&&(u.appointmentCount="预约次数不能为负数"),i(u),Object.keys(u).length===0},d=u=>{u.preventDefault(),o()&&t({name:n.name,phone:n.phone,totalSpending:n.totalSpending,appointmentCount:n.appointmentCount,visitCount:n.appointmentCount,preferredStaff:n.preferredStaff,status:n.status,lastVisit:n.lastVisit,photo:n.photo})},c=u=>{const{name:g,value:p}=u.target;a(f=>({...f,[g]:g==="totalSpending"||g==="appointmentCount"?parseInt(p)||0:p})),l[g]&&i(f=>({...f,[g]:""}))};return r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"客户名称 *"}),r.jsx("input",{type:"text",name:"name",value:n.name,onChange:c,placeholder:"请输入客户名称",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.name?"border-red-500":"border-gray-300"}`,disabled:s}),l.name&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"手机号 *"}),r.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:c,placeholder:"请输入11位手机号",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.phone?"border-red-500":"border-gray-300"}`,disabled:s}),l.phone&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"总消费额 (元)"}),r.jsx("input",{type:"number",name:"totalSpending",value:n.totalSpending,onChange:c,placeholder:"0",min:"0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.totalSpending?"border-red-500":"border-gray-300"}`,disabled:s}),l.totalSpending&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.totalSpending})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"预约次数"}),r.jsx("input",{type:"number",name:"appointmentCount",value:n.appointmentCount,onChange:c,placeholder:"0",min:"0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.appointmentCount?"border-red-500":"border-gray-300"}`,disabled:s}),l.appointmentCount&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.appointmentCount})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"偏好美容师"}),r.jsx("input",{type:"text",name:"preferredStaff",value:n.preferredStaff,onChange:c,placeholder:"选择偏好的美容师",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"客户状态"}),r.jsxs("select",{name:"status",value:n.status,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s,children:[r.jsx("option",{value:"active",children:"活跃"}),r.jsx("option",{value:"atrisk",children:"风险"}),r.jsx("option",{value:"inactive",children:"不活跃"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最后访问日期"}),r.jsx("input",{type:"date",name:"lastVisit",value:n.lastVisit,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s})]}),r.jsx("button",{type:"submit",className:"hidden"})]})},a2=({initialData:e,onSubmit:t,isLoading:s=!1})=>{const[n,a]=B.useState({customerName:(e==null?void 0:e.customerName)||"",staffName:(e==null?void 0:e.staffName)||"",service:(e==null?void 0:e.service)||"",date:(e==null?void 0:e.date)||new Date().toISOString().split("T")[0],time:(e==null?void 0:e.time)||"09:00",duration:(e==null?void 0:e.duration)||60,price:(e==null?void 0:e.price)||0,status:(e==null?void 0:e.status)||"confirmed",notes:(e==null?void 0:e.notes)||""}),[l,i]=B.useState({}),o=()=>{const u={};return n.customerName.trim()||(u.customerName="客户名称不能为空"),n.staffName.trim()||(u.staffName="美容师不能为空"),n.service.trim()||(u.service="服务项目不能为空"),n.date||(u.date="预约日期不能为空"),n.time||(u.time="预约时间不能为空"),n.duration<=0&&(u.duration="服务时长必须大于 0"),n.price<0&&(u.price="服务价格不能为负数"),i(u),Object.keys(u).length===0},d=u=>{u.preventDefault(),o()&&t({customerName:n.customerName,staffName:n.staffName,service:n.service,date:n.date,time:n.time,duration:n.duration,price:n.price,status:n.status,notes:n.notes})},c=u=>{const{name:g,value:p}=u.target;a(f=>({...f,[g]:g==="duration"||g==="price"?parseFloat(p)||0:p})),l[g]&&i(f=>({...f,[g]:""}))};return r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"客户名称 *"}),r.jsx("input",{type:"text",name:"customerName",value:n.customerName,onChange:c,placeholder:"请输入客户名称",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.customerName?"border-red-500":"border-gray-300"}`,disabled:s}),l.customerName&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.customerName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"美容师 *"}),r.jsx("input",{type:"text",name:"staffName",value:n.staffName,onChange:c,placeholder:"请输入美容师名称",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.staffName?"border-red-500":"border-gray-300"}`,disabled:s}),l.staffName&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.staffName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"服务项目 *"}),r.jsx("input",{type:"text",name:"service",value:n.service,onChange:c,placeholder:"如: 面部护理、全身SPA等",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.service?"border-red-500":"border-gray-300"}`,disabled:s}),l.service&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.service})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"预约日期 *"}),r.jsx("input",{type:"date",name:"date",value:n.date,onChange:c,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.date?"border-red-500":"border-gray-300"}`,disabled:s}),l.date&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"预约时间 *"}),r.jsx("input",{type:"time",name:"time",value:n.time,onChange:c,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.time?"border-red-500":"border-gray-300"}`,disabled:s}),l.time&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.time})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"服务时长 (分钟) *"}),r.jsx("input",{type:"number",name:"duration",value:n.duration,onChange:c,placeholder:"60",min:"15",step:"15",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.duration?"border-red-500":"border-gray-300"}`,disabled:s}),l.duration&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.duration})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"服务价格 (元) *"}),r.jsx("input",{type:"number",name:"price",value:n.price,onChange:c,placeholder:"0",min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${l.price?"border-red-500":"border-gray-300"}`,disabled:s}),l.price&&r.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.price})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"预约状态"}),r.jsxs("select",{name:"status",value:n.status,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s,children:[r.jsx("option",{value:"confirmed",children:"已确认"}),r.jsx("option",{value:"pending",children:"待确认"}),r.jsx("option",{value:"completed",children:"已完成"}),r.jsx("option",{value:"cancelled",children:"已取消"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"备注"}),r.jsx("textarea",{name:"notes",value:n.notes,onChange:c,placeholder:"如: 客户特殊需求、过敏信息等",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",disabled:s})]}),r.jsx("button",{type:"submit",className:"hidden"})]})},l2=()=>{const[e,t]=B.useState("book"),[s,n]=B.useState("按摩护肤"),[a,l]=B.useState(null),[i,o]=B.useState(new Date().toISOString().split("T")[0]),[d,c]=B.useState("10:00"),[u,g]=B.useState("朝阳店"),p=[{name:"按摩护肤",price:198,duration:60,rating:4.9,orders:12580},{name:"深层清洁",price:158,duration:45,rating:4.8,orders:9320},{name:"面部精油护理",price:238,duration:75,rating:4.9,orders:8650},{name:"祛痘护肤",price:178,duration:50,rating:4.7,orders:7420},{name:"眼部护理",price:128,duration:30,rating:4.8,orders:6890},{name:"全身SPA",price:388,duration:120,rating:4.9,orders:5640}],f=[{id:"1",name:"朝阳店",address:"朝阳区建国路88号",phone:"010-1234-5678",area:"500m2"},{id:"2",name:"海淀店",address:"海淀区中关村大街1号",phone:"010-1234-5679",area:"350m2"},{id:"3",name:"东城店",address:"东城区王府井大街100号",phone:"010-1234-5680",area:"400m2"},{id:"4",name:"西城店",address:"西城区宣武门50号",phone:"010-1234-5681",area:"300m2"}],h=[{id:"s1",name:"李美女",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=80&h=80&fit=crop",rating:4.95,reviews:2340,specialties:["按摩护肤","深层清洁","面部精油护理"],available:!0,schedule:["10:00","10:30","11:00","14:00","15:00","16:00"]},{id:"s2",name:"王静雨",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=80&h=80&fit=crop",rating:4.88,reviews:1890,specialties:["祛痘护肤","眼部护理","深层清洁"],available:!0,schedule:["09:00","09:30","10:00","13:00","14:00","15:00"]},{id:"s3",name:"张丽",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80&h=80&fit=crop",rating:4.92,reviews:2105,specialties:["SPA","放松","高端护理"],available:!0,schedule:["11:00","11:30","14:00","15:00","16:00","17:00"]},{id:"s4",name:"刘娜",avatar:"https://images.unsplash.com/photo-1517841905240-74386c494700?w=80&h=80&fit=crop",rating:4.86,reviews:1654,specialties:["高端面部护理","豪华护理","VIP服务"],available:!1,schedule:["10:00","11:00","14:00","15:00"]},{id:"s5",name:"陈慧",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=80&h=80&fit=crop",rating:4.79,reviews:1234,specialties:["按摩","穴位","能量疗法"],available:!0,schedule:["09:00","10:00","13:00","14:00","15:00","16:00"]}],b=[{id:"apt1",customerId:"c1",customerName:"李美女",phone:"13800138000",serviceType:"面部护理",beautician:"李美女",rating:4.8,date:"2025-10-22",time:"14:00",duration:60,price:198,status:"confirmed",notes:"敏感肌肤",storeLocation:"朝阳店"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-green-900",children:"到店服务"}),r.jsx("p",{className:"text-gray-600",children:"专业美容师为您提供高端护理服务"})]}),r.jsx("div",{className:"flex gap-2 border-b border-gray-200",children:["book","appointments","history","staff"].map(v=>r.jsxs("button",{onClick:()=>t(v),className:`px-4 py-2 font-medium ${e===v?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-gray-900"}`,children:[v==="book"&&"预订服务",v==="appointments"&&"我的预约",v==="history"&&"历史记录",v==="staff"&&"美容师"]},v))}),e==="book"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"选择服务"}),r.jsx("div",{className:"space-y-2",children:p.map(v=>r.jsx("button",{onClick:()=>n(v.name),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${s===v.name?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:v.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[v.duration,"分钟 • ",v.orders.toLocaleString(),"次预订"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-green-600",children:["￥",v.price]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),r.jsx("span",{className:"text-sm",children:v.rating})]})]})]})},v.name))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"选择美容师"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:h.map(v=>r.jsxs("button",{onClick:()=>l(v),className:`p-4 rounded-lg border-2 transition-all text-center ${(a==null?void 0:a.id)===v.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[r.jsx("img",{src:v.avatar,alt:v.name,className:"w-12 h-12 rounded-full mx-auto mb-2 object-cover"}),r.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:v.name}),r.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm mt-1",children:[r.jsx(Xe,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),r.jsx("span",{children:v.rating})]}),r.jsx("span",{className:`text-xs mt-1 inline-block px-2 py-1 rounded ${v.available?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.available?"可预约":"忙碌中"})]},v.id))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6 h-fit",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"预约详情"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"门店位置"}),r.jsx("select",{value:u,onChange:v=>g(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:f.map(v=>r.jsx("option",{value:v.name,children:v.name},v.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"日期"}),r.jsx("input",{type:"date",value:i,onChange:v=>o(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"时间"}),r.jsx("input",{type:"time",value:d,onChange:v=>c(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),r.jsx("button",{className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"立即预约"})]})]})]}),e==="appointments"&&r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"我的预约"}),r.jsx("div",{className:"space-y-3",children:b.map(v=>r.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 hover:border-green-300 transition-colors",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:v.customerName}),r.jsx("p",{className:"text-sm text-gray-600",children:v.serviceType})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.status==="confirmed"?"bg-blue-100 text-blue-800":v.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:v.status==="confirmed"?"已确认":v.status==="pending"?"待确认":"已完成"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ht,{className:"w-4 h-4"}),v.date," ",v.time]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xe,{className:"w-4 h-4"}),v.beautician]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-4 h-4"}),v.duration,"分钟"]}),r.jsxs("div",{className:"font-semibold text-green-600",children:["￥",v.price]})]})]},v.id))})]}),e==="history"&&r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"服务历史"}),r.jsx("p",{className:"text-gray-600 text-center py-8",children:"暂无历史预约记录"})]}),e==="staff"&&r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"美容师团队"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:h.map(v=>r.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 text-center",children:[r.jsx("img",{src:v.avatar,alt:v.name,className:"w-16 h-16 rounded-full mx-auto mb-3 object-cover"}),r.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:v.name}),r.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[r.jsx(Xe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),r.jsx("span",{className:"text-sm font-medium",children:v.rating})]}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[v.reviews,"条评价"]})]},v.id))})]})]})},_d=[{id:"s1",name:"深度保湿面部护理",category:"面部护理",description:"专业深层补水，恢复肌肤水润光泽",detailedDescription:"采用进口保湿精华，深入肌底补充水分，配合专业按摩手法，促进血液循环，让肌肤焕发自然光泽。适合各种肌肤类型。",price:268,duration:90,images:["https://images.unsplash.com/photo-1612817288484-6f916006741a?w=800","https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"senior",suitableFor:["干性肌肤","混合性肌肤","敏感肌肤"],benefits:["深层补水","改善粗糙","提亮肤色","收缩毛孔"],notes:["有过敏史的顾客需提前告知","建议提前30分钟到达"],tags:["热门","补水","保湿","面部"]},{id:"s2",name:"抗衰紧致面部护理",category:"面部护理",description:"专业抗老配方，抚平细纹，提升肌肤弹性",detailedDescription:"运用国际先进抗衰技术，富含胶原蛋白肽和透明质酸，有效减少细纹，提升肌肤紧致度，重现年轻光彩。",price:368,duration:120,images:["https://images.unsplash.com/photo-1616394584738-fc6e612e785b?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"master",suitableFor:["熟龄肌肤","松弛肌肤"],benefits:["抗衰老","紧致提升","淡化细纹","恢复弹性"],notes:["建议28岁以上使用","需要系列护理效果更佳"],tags:["抗衰","紧致","高端"]},{id:"s3",name:"全身放松SPA",category:"SPA",description:"从头到脚的放松之旅，缓解疲劳，焕发活力",detailedDescription:"90分钟专业SPA疗程，包含头部按摩、背部按摩、腿部放松，配合香薰精油，让身心完全放松，焕发活力。",price:488,duration:90,images:["https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"senior",suitableFor:["所有人","上班族","压力人群"],benefits:["缓解疲劳","放松身心","改善睡眠","提升免疫力"],notes:["建议空腹或饭后1小时进行","孕妇需提前告知"],tags:["SPA","放松","热门"]},{id:"s4",name:"专业美甲服务",category:"美甲",description:"法式甲、渐变甲、彩绘等多款选择，专业服务",detailedDescription:"资深美甲师一对一服务，提供法式甲、渐变甲、彩绘等多种款式选择。使用进口无毒甲油，保护指甲健康。",price:88,duration:60,images:["https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"junior",suitableFor:["所有人"],benefits:["美化指甲","保护指甲","时尚潮流"],notes:["甲油可持续1-2周","建议提前预约"],tags:["美甲","时尚"]},{id:"s5",name:"眼部护理精华",category:"眼部护理",description:"针对眼部细纹、黑眼圈的专业护理",detailedDescription:"运用眼霜和按摩手法，改善眼部细纹、黑眼圈、眼袋等问题，让双眼重新焕发明亮神采。",price:128,duration:45,images:["https://images.unsplash.com/photo-1608245443803-ba990733b6bf?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"senior",suitableFor:["眼部有困扰的所有人"],benefits:["淡化黑眼圈","抚平细纹","缓解眼袋","提亮眼部"],notes:["每周1-2次效果更佳"],tags:["眼部","护理"]},{id:"s6",name:"舒缓肌肉按摩",category:"按摩",description:"针对肩颈、背部肌肉的专业按摩",detailedDescription:"通过专业按摩手法，放松紧张肌肉，缓解肩颈酸痛、背部疲劳，改善血液循环。",price:158,duration:60,images:["https://images.unsplash.com/photo-1600334129128-685c5582fd35?w=800"],supportsHomeService:!0,supportsInStoreService:!0,beauticianLevel:"junior",suitableFor:["久坐人群","肩颈不适"],benefits:["缓解酸痛","改善姿势","放松肌肉"],notes:["按摩后多喝水"],tags:["按摩","舒缓"]}],i2=[{id:"b1",name:"李美玲",avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=200",gender:"female",age:28,specialization:["面部护理","抗衰老","眼部护理"],qualifications:["高级美容师资格证","国际美容师认证","面部护理专业资质"],experience:6,rating:4.9,totalServices:385,totalReviews:156,bio:"拥有6年从业经验，擅长面部护理和抗衰老技术。以专业的服务态度和精湛的技术深受客户喜爱。",portfolio:[{id:"p1",image:"https://images.unsplash.com/photo-1616394584738-fc6e612e785b?w=400",description:"深度保湿护理效果",date:"2024-10-15"},{id:"p2",image:"https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=400",description:"抗衰护理前后对比",date:"2024-10-12"}],schedules:[{date:"2024-10-26",availableSlots:["09:00","10:00","14:00","15:00","16:00"]},{date:"2024-10-27",availableSlots:["09:00","10:00","11:00","14:00","15:00","16:00"]}],languages:["中文","英文"],serviceRadius:15,basePrice:50,availabilityStatus:"available"},{id:"b2",name:"王雅琪",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200",gender:"female",age:25,specialization:["美甲","按摩","SPA"],qualifications:["高级美甲师","按摩师资格证","SPA技师认证"],experience:4,rating:4.8,totalServices:290,totalReviews:122,bio:"专业美甲技师，擅长各种美甲款式设计。同时精通按摩和SPA护理，为顾客提供全方位服务。",portfolio:[{id:"p3",image:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=400",description:"法式美甲作品",date:"2024-10-20"},{id:"p4",image:"https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=400",description:"SPA护理现场",date:"2024-10-18"}],schedules:[{date:"2024-10-26",availableSlots:["10:00","13:00","14:00","15:00"]},{date:"2024-10-27",availableSlots:["09:00","10:00","13:00","14:00","15:00"]}],languages:["中文"],serviceRadius:10,basePrice:40,availabilityStatus:"available"},{id:"b3",name:"张晨曦",avatar:"https://images.unsplash.com/photo-1552374196-c4e7ffc6e126?w=200",gender:"male",age:30,specialization:["面部护理","男性护理","抗衰老"],qualifications:["首席美容师","男性皮肤护理专家","国际认证讲师"],experience:8,rating:5,totalServices:520,totalReviews:245,bio:"8年从业经验，擅长各类面部护理，特别精通男性皮肤护理。技术精湛，服务周到，好评如潮。",portfolio:[{id:"p5",image:"https://images.unsplash.com/photo-1616394584738-fc6e612e785b?w=400",description:"男士护肤效果",date:"2024-10-22"}],schedules:[{date:"2024-10-26",availableSlots:["09:00","13:00","14:00","15:00","16:00"]}],languages:["中文","日文"],serviceRadius:20,basePrice:60,availabilityStatus:"available"},{id:"b4",name:"刘欣怡",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=200",gender:"female",age:27,specialization:["眼部护理","面部护理","深层清洁"],qualifications:["资深美容师","眼部护理专业认证"],experience:5,rating:4.7,totalServices:312,totalReviews:138,bio:"专注于眼部护理和深层清洁，技术娴熟，善于根据客户需求定制护理方案。",portfolio:[{id:"p6",image:"https://images.unsplash.com/photo-1608245443803-ba990733b6bf?w=400",description:"眼部护理效果",date:"2024-10-21"}],schedules:[{date:"2024-10-26",availableSlots:["09:00","10:00","14:00","15:00"]},{date:"2024-10-27",availableSlots:["09:00","11:00","14:00","16:00"]}],languages:["中文"],serviceRadius:12,basePrice:45,availabilityStatus:"available"}],o2=[{id:"a1",label:"家",name:"张女士",phone:"13800138001",address:"深圳市南山区",city:"深圳市",district:"南山区",details:"科技园南区科技南路100号A座1801室",latitude:22.5329,longitude:113.9375,isDefault:!0},{id:"a2",label:"公司",name:"张女士",phone:"13800138001",address:"深圳市福田区",city:"深圳市",district:"福田区",details:"福田中心区福华路399号深圳国际商会大厦B座1508",latitude:22.5406,longitude:114.0583,isDefault:!1},{id:"a3",label:"父母家",name:"张女士",phone:"13800138001",address:"深圳市龙华区",city:"深圳市",district:"龙华区",details:"龙华新区民治大道民治社区C区16栋501",latitude:22.6617,longitude:114.048,isDefault:!1}],Yp=({mode:e="customer"})=>{var ut;const[t,s]=B.useState(e==="admin"?"appointments":"services"),[n,a]=B.useState("全部"),[l,i]=B.useState(""),[o,d]=B.useState("both"),[c,u]=B.useState(!1),[g,p]=B.useState(null),[f,h]=B.useState(null),[b,v]=B.useState(null),[x,m]=B.useState(!1),[y,j]=B.useState({}),[k,S]=B.useState(o2),[N,A]=B.useState(!1),[_,C]=B.useState(null),w=e==="admin",[E,F]=B.useState([]),[O,z]=B.useState("全部"),[q,G]=B.useState(0);B.useEffect(()=>{const D=localStorage.getItem("onsiteOrders");D&&F(JSON.parse(D));const ae=localStorage.getItem("userAddresses");ae&&S(JSON.parse(ae))},[]);const M=D=>{F(D),localStorage.setItem("onsiteOrders",JSON.stringify(D))},U=D=>{S(D),localStorage.setItem("userAddresses",JSON.stringify(D))},V=["全部",...new Set(_d.map(D=>D.category))],P=_d.filter(D=>{const ae=n==="全部"||D.category===n,ee=D.name.toLowerCase().includes(l.toLowerCase())||D.description.toLowerCase().includes(l.toLowerCase()),R=o==="both"||o==="home"&&D.supportsHomeService||o==="store"&&D.supportsInStoreService;return ae&&ee&&R}),I=i2.filter(D=>{const ae=O==="全部"||D.gender===O,ee=D.rating>=q;return ae&&ee}),L=D=>{p(D),m(!0),j({serviceType:D.name,price:D.price,duration:D.duration})},$=D=>{h(D),g&&m(!0)},te=D=>{v(D)},Y=()=>{C(null),A(!0)},pe=D=>{C(D),A(!0)},Q=D=>{if(window.confirm("确定要删除这个地址吗？")){const ae=k.filter(ee=>ee.id!==D);ae.length>0&&(ae.some(ee=>ee.isDefault)||(ae[0].isDefault=!0)),U(ae),(b==null?void 0:b.id)===D&&v(ae[0]||null)}},Nt=()=>{var ae,ee,R,ue;if(!g||!f||!b){alert("请选择服务、美容师和地址");return}const D={id:Date.now().toString(),customerId:"user1",customerName:b.name,phone:b.phone,address:b.details,serviceType:g.name,beautician:f.name,rating:0,date:y.date||"",time:y.time||"",duration:g.duration,price:g.price,status:"pending",notes:"",distance:5,estimatedArrival:0,customerRequirements:{skinType:((ae=y.customerRequirements)==null?void 0:ae.skinType)||"混合性",allergies:((ee=y.customerRequirements)==null?void 0:ee.allergies)||[],concerns:((R=y.customerRequirements)==null?void 0:R.concerns)||[],preferences:((ue=y.customerRequirements)==null?void 0:ue.preferences)||""},serviceLocation:b,paymentMethod:y.paymentMethod||"wechat",paymentStatus:"unpaid"};M([...E,D]),alert("预约成功！"),m(!1),p(null),h(null),v(null),j({}),s("appointments")};return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[r.jsx(Sn,{className:"text-pink-500",size:28}),w?"上门服务管理":"上门服务预约"]}),r.jsx("p",{className:"text-gray-600",children:w?"查看和管理所有客户的上门服务预约":"选择服务项目，预约专业美容师上门服务"})]}),r.jsx("div",{className:"flex gap-4 mb-6 border-b border-gray-200 overflow-x-auto",children:[{id:"services",label:"服务项目",icon:lt,show:!0},{id:"beauticians",label:"美容师",icon:Ss,show:!0},{id:"addresses",label:"我的地址",icon:Pr,show:!w},{id:"appointments",label:w?"所有预约":"我的订单",icon:Ht,show:!0}].filter(({show:D})=>D).map(({id:D,label:ae,icon:ee})=>r.jsxs("button",{onClick:()=>s(D),className:`pb-3 font-semibold transition flex items-center gap-2 whitespace-nowrap ${t===D?"text-pink-600 border-b-2 border-pink-600":"text-gray-600 hover:text-gray-800"}`,children:[r.jsx(ee,{size:18}),ae]},D))}),t==="services"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsx("div",{className:"flex gap-4",children:r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"搜索服务...",value:l,onChange:D=>i(D.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"})]})}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:V.map(D=>r.jsx("button",{onClick:()=>a(D),className:`px-4 py-2 rounded-full whitespace-nowrap transition ${n===D?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D},D))}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("span",{className:"text-gray-600 font-semibold",children:"服务方式："}),[{id:"both",label:"全部"},{id:"home",label:"上门服务",icon:""},{id:"store",label:"到店服务",icon:""}].map(({id:D,label:ae,icon:ee})=>r.jsxs("button",{onClick:()=>d(D),className:`px-4 py-2 rounded-lg transition ${o===D?"bg-pink-100 text-pink-600 border border-pink-500":"bg-white text-gray-700 border border-gray-300 hover:border-pink-300"}`,children:[ee&&r.jsx("span",{className:"mr-2",children:ee}),ae]},D))]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:P.map(D=>r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition",children:[r.jsxs("div",{className:"h-48 bg-gradient-to-br from-pink-100 to-purple-100 relative",children:[D.images[0]&&r.jsx("img",{src:D.images[0],alt:D.name,className:"w-full h-full object-cover"}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[D.supportsHomeService&&r.jsxs("span",{className:"bg-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[r.jsx(Sn,{size:14})," 上门"]}),D.supportsInStoreService&&r.jsxs("span",{className:"bg-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[r.jsx(lt,{size:14})," 到店"]})]}),D.tags.includes("热门")&&r.jsx("span",{className:"absolute top-2 left-2 bg-pink-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"热门"})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:D.name}),r.jsxs("span",{className:"text-xl font-bold text-pink-500",children:["¥",D.price]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:D.description}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mb-3",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Lr,{size:14})," ",D.duration,"分钟"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(mr,{size:14})," ",D.beauticianLevel==="junior"?"初级":D.beauticianLevel==="senior"?"高级":"大师","美容师"]})]}),r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:D.benefits.map((ae,ee)=>r.jsx("span",{className:"bg-pink-50 text-pink-600 px-2 py-1 rounded text-xs",children:ae},ee))})}),r.jsx("button",{onClick:()=>L(D),className:"w-full bg-pink-500 hover:bg-pink-600 text-white py-2 rounded-lg transition font-semibold",children:"立即预约"})]})]},D.id))})]}),t==="beauticians"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"性别"}),r.jsxs("select",{value:O,onChange:D=>z(D.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[r.jsx("option",{value:"全部",children:"全部"}),r.jsx("option",{value:"female",children:"女"}),r.jsx("option",{value:"male",children:"男"})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"最低评分"}),r.jsxs("select",{value:q,onChange:D=>G(Number(D.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[r.jsx("option",{value:"0",children:"不限"}),r.jsx("option",{value:"4",children:"4.0星以上"}),r.jsx("option",{value:"4.5",children:"4.5星以上"}),r.jsx("option",{value:"4.8",children:"4.8星以上"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I.map(D=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition",children:[r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("img",{src:D.avatar,alt:D.name,className:"w-20 h-20 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:D.name}),r.jsxs("p",{className:"text-gray-600 text-sm",children:[D.gender==="female"?"女":"男"," · ",D.age,"岁 · ",D.experience,"年经验"]})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${D.availabilityStatus==="available"?"bg-green-100 text-green-800":D.availabilityStatus==="busy"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:D.availabilityStatus==="available"?"在线":D.availabilityStatus==="busy"?"忙碌":"离线"})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[[...Array(5)].map((ae,ee)=>r.jsx(Xe,{size:16,className:ee<Math.floor(D.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"},ee)),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:D.rating}),r.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",D.totalReviews,"条评价)"]})]})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:D.bio}),r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:D.specialization.map((ae,ee)=>r.jsx("span",{className:"bg-purple-50 text-purple-600 px-2 py-1 rounded text-xs",children:ae},ee))})}),r.jsxs("div",{className:"flex gap-2 text-sm text-gray-600 mb-4",children:[r.jsxs("span",{children:["服务半径：",D.serviceRadius,"公里"]}),r.jsx("span",{children:"·"}),r.jsxs("span",{children:["上门基础费：¥",D.basePrice]})]}),r.jsx("button",{onClick:()=>$(D),className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-2 rounded-lg transition font-semibold",children:"选择此美容师"})]},D.id))})]}),t==="addresses"&&r.jsxs("div",{children:[r.jsxs("button",{onClick:Y,className:"mb-6 bg-pink-500 hover:bg-pink-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition",children:[r.jsx(Vr,{})," 添加新地址"]}),r.jsx("div",{className:"space-y-4",children:k.map(D=>r.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-lg transition ${(b==null?void 0:b.id)===D.id?"border-pink-500 bg-pink-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-semibold",children:D.label}),D.isDefault&&r.jsx("span",{className:"bg-pink-500 text-white px-2 py-0.5 rounded text-xs",children:"默认"})]}),r.jsxs("p",{className:"text-gray-600 text-sm",children:[D.name," ",D.phone]})]}),r.jsx("button",{onClick:()=>te(D),className:"px-3 py-1 border border-pink-500 text-pink-600 rounded hover:bg-pink-50 transition text-sm",children:"选择"})]}),r.jsx("p",{className:"text-gray-700",children:D.details}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx("button",{onClick:()=>pe(D),className:"text-blue-600 hover:text-blue-700 text-sm",children:"编辑"}),r.jsx("button",{onClick:()=>Q(D.id),className:"text-red-600 hover:text-red-700 text-sm ml-4",children:"删除"})]})]},D.id))})]}),t==="appointments"&&r.jsxs("div",{children:[w&&r.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("p",{className:"text-blue-800 font-semibold",children:" 管理视图"}),r.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"查看所有客户的上门服务预约和状态"})]}),r.jsx("div",{className:"space-y-4",children:E.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ht,{size:64,className:"mx-auto text-gray-300 mb-4"}),r.jsx("p",{className:"text-gray-500",children:w?"暂无预约记录":"暂无订单"})]}):E.map(D=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg",children:D.serviceType}),r.jsx("p",{className:"text-gray-600 text-sm",children:D.beautician})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${D.status==="pending"?"bg-yellow-100 text-yellow-800":D.status==="accepted"?"bg-blue-100 text-blue-800":D.status==="en-route"?"bg-purple-100 text-purple-800":D.status==="arrived"?"bg-green-100 text-green-800":D.status==="in-service"?"bg-indigo-100 text-indigo-800":D.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.status==="pending"?"待确认":D.status==="accepted"?"已接受":D.status==="en-route"?"前往中":D.status==="arrived"?"已到达":D.status==="in-service"?"服务中":D.status==="completed"?"已完成":"已取消"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{size:16}),D.date," ",D.time]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kn,{size:16}),"¥",D.price]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pr,{size:16}),D.address]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ss,{size:16}),D.customerName," ",D.phone]})]})]},D.id))})]}),x&&g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-xl font-bold",children:"确认预约"}),r.jsx("button",{onClick:()=>m(!1),children:r.jsx(h1,{size:24,className:"text-gray-500"})})]}),r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:g.name}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:["价格：¥",g.price]}),r.jsxs("span",{children:["时长：",g.duration,"分钟"]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"选择美容师"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(D=>r.jsx("div",{onClick:()=>h(D),className:`p-3 border rounded-lg cursor-pointer transition ${(f==null?void 0:f.id)===D.id?"border-pink-500 bg-pink-50":"border-gray-200"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:D.avatar,alt:D.name,className:"w-12 h-12 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:D.name}),r.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[r.jsx(Xe,{size:14,className:"fill-yellow-400 text-yellow-400"}),D.rating]})]}),(f==null?void 0:f.id)===D.id&&r.jsx(Ze,{className:"text-pink-500",size:24})]})},D.id))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"选择服务地址"}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:k.map(D=>r.jsxs("div",{onClick:()=>v(D),className:`p-3 border rounded-lg cursor-pointer transition ${(b==null?void 0:b.id)===D.id?"border-pink-500 bg-pink-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:D.label}),D.isDefault&&r.jsx("span",{className:"ml-2 text-xs bg-pink-500 text-white px-2 py-0.5 rounded",children:"默认"})]}),(b==null?void 0:b.id)===D.id&&r.jsx(Ze,{className:"text-pink-500",size:20})]}),r.jsx("p",{className:"text-sm text-gray-600",children:D.details})]},D.id))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"选择日期时间"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"date",value:y.date||"",onChange:D=>j({...y,date:D.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500"}),r.jsx("input",{type:"time",value:y.time||"",onChange:D=>j({...y,time:D.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"特殊需求（如过敏史、肤质等）"}),r.jsx("textarea",{placeholder:"请描述您的肤质、过敏史或特殊需求...",value:((ut=y.customerRequirements)==null?void 0:ut.preferences)||"",onChange:D=>j({...y,customerRequirements:{...y.customerRequirements,preferences:D.target.value}}),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-500",rows:3})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block font-semibold mb-2",children:"支付方式"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:["wechat","alipay","cash"].map(D=>r.jsx("button",{onClick:()=>j({...y,paymentMethod:D}),className:`p-3 border rounded-lg transition ${y.paymentMethod===D?"border-pink-500 bg-pink-50":"border-gray-200"}`,children:D==="wechat"?"微信支付":D==="alipay"?"支付宝":"现金"},D))})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:Nt,className:"flex-1 bg-pink-500 hover:bg-pink-600 text-white py-3 rounded-lg transition font-semibold",children:"确认预约"}),r.jsx("button",{onClick:()=>m(!1),className:"px-6 bg-gray-300 hover:bg-gray-400 text-gray-800 py-3 rounded-lg transition font-semibold",children:"取消"})]})]})})]})};class c2{analyzeCustomerProfile(t,s=[]){try{const n=this.analyzeCharacteristics(t),a=this.analyzeFamilyBackground(t),l=this.analyzeConsumptionBehavior(t),i=this.generateStaffMatchings(t,s),o=this.generateAIInsights(t,n),d=this.generateSegments(t,n);return{customerId:t.id,customerName:t.name,characteristics:n,familyBackground:a,consumptionBehavior:l,staffMatchings:i,aiInsights:o,segments:d}}catch(n){throw console.error("客户画像分析错误:",n.message),n}}analyzeCharacteristics(t){var a;const s=t.profile||{},n=s.preferences||{};return{skinType:n.skinType||"未知肤质",primaryConcerns:n.skinConcerns||["综合护理"],preferredBudget:n.budget||"standard",visitFrequency:((a=s.consumptionPattern)==null?void 0:a.visitFrequency)||"monthly"}}analyzeFamilyBackground(t){const s=t.profile||{},n=s.family||{},a=s.lifestyle||{},l=this.inferLifeStage(n.maritalStatus,n.hasChildren,a.ageRange);return{maritalStatus:n.maritalStatus||"未知",familySize:n.familyMembers||1,lifeStage:l}}inferLifeStage(t,s,n){return t?t==="已婚"&&s?"家庭期":t==="已婚"&&!s?"新婚期":t==="未婚"&&(n!=null&&n.includes("20-30"))?"职业起步期":t==="未婚"?"单身期":t==="离异"?"新生活期":"其他":"其他"}analyzeConsumptionBehavior(t){const s=t.profile||{},n=s.consumptionPattern||{},a=s.preferences||{};return{averageSpending:n.averagePerVisit||t.totalSpending/Math.max(t.visitCount,1),visitPattern:n.visitFrequency==="weekly"?"高频":n.visitFrequency==="monthly"?"常规":n.visitFrequency==="irregular"?"低频":"中频",servicePreferences:a.preferredServices||["护肤"],productAffinities:this.inferProductAffinities(t)}}inferProductAffinities(t){var l,i,o;const s=[],a=(t.profile||{}).preferences||{};return t.totalSpending>1e4&&(s.push("高端护肤品"),s.push("定制产品")),t.totalSpending>5e3&&(s.push("专业护肤线"),s.push("套装产品")),(l=a.skinConcerns)!=null&&l.includes("衰老")&&(s.push("抗衰老产品"),s.push("精华液")),(i=a.skinConcerns)!=null&&i.includes("敏感")&&(s.push("舒缓系列"),s.push("天然成分")),(o=a.skinConcerns)!=null&&o.includes("痘痘")&&(s.push("控油产品"),s.push("清洁系列")),s.length>0?s:["基础护肤"]}generateStaffMatchings(t,s){const a=(t.profile||{}).staffAffinity||{};return s.map(i=>{const o=this.calculateStaffMatchScore(t,i,a),d=this.generateMatchReasons(t,i,o),c=this.inferComplementarySkills(t,i);return{staffId:i.id,staffName:i.name,matchScore:o,matchReasons:d,complementarySkills:c}}).sort((i,o)=>o.matchScore-i.matchScore)}calculateStaffMatchScore(t,s,n){var f;let a=50;const l=n[s.id]||0;a+=l*.3;const d=((f=((t.profile||{}).preferences||{}).skinConcerns)==null?void 0:f[0])||"",c=s.specialty.some(h=>d.toLowerCase().includes(h.toLowerCase()))?20:0;a+=c;const u=s.rating/5*15;a+=u;const g=Math.max(0,(s.clientCount-20)*.5);a-=g;const p=this.evaluateBudgetMatch(t,s.totalRevenue/Math.max(s.clientCount,1));return a+=p,Math.min(100,Math.max(0,a))}evaluateBudgetMatch(t,s){const l=((t.profile||{}).consumptionPattern||{}).averagePerVisit||t.totalSpending/Math.max(t.visitCount,1),i=Math.abs(l-s);return Math.max(0,20-i/20)}generateMatchReasons(t,s,n){const a=[];return(t.profile||{}).preferences,s.rating>=4.8&&a.push("美容师评分高（"+s.rating+"星）"),s.specialty.length>0&&a.push("专业技能："+s.specialty.slice(0,2).join("、")),s.experience>=5&&a.push("经验丰富（"+s.experience+"年）"),s.clientCount>50&&a.push("服务客户多，口碑好"),n>=80?a.push("与您的需求高度匹配"):n>=60&&a.push("与您的需求匹配较好"),a.length>0?a:["推荐美容师"]}inferComplementarySkills(t,s){var o;const l=((o=((t.profile||{}).preferences||{}).skinConcerns)==null?void 0:o[0])||"",i=[];return l.includes("敏感")&&s.specialty.includes("敏感肌护理")&&i.push("敏感肌管理"),l.includes("衰老")&&s.specialty.includes("抗衰")&&i.push("抗衰老方案"),i.push(...s.specialty.slice(0,2)),[...new Set(i)]}generateAIInsights(t,s){const n=t.profile||{};return n.lifestyle,n.consumptionPattern,{personality:this.inferPersonality(t,s),needsAnalysis:this.analyzeNeeds(t,s),recommendedServices:this.recommendServices(t,s),purchaseMotivation:this.analyzePurchaseMotivation(t),retentionStrategies:this.generateRetentionStrategies(t,s)}}inferPersonality(t,s){(t.profile||{}).lifestyle;const a=t.status;return a==="vip"?"忠诚且有品味的客户，追求高质量服务和个性化体验":a==="active"?"活跃消费者，对美容护理有持续的热情和需求":a==="atrisk"?"需要关怀的客户，可能因为其他原因减少访问频率":a==="inactive"?"曾经的客户，需要重新激发对美容服务的兴趣":"潜在客户，需要开发"}analyzeNeeds(t,s){var i,o,d;const n=[],l=(t.profile||{}).preferences||{};return(i=l.skinConcerns)!=null&&i.includes("衰老")&&(n.push("抗衰老解决方案"),n.push("定期深层护理")),(o=l.skinConcerns)!=null&&o.includes("敏感")&&(n.push("温和护肤方案"),n.push("皮肤屏障修复")),(d=l.skinConcerns)!=null&&d.includes("痘痘")&&(n.push("清洁和控油"),n.push("痘痘快速消退")),s.visitFrequency==="weekly"&&(n.push("长期护肤规划"),n.push("会员权益优化")),t.totalSpending>1e4&&(n.push("定制护肤方案"),n.push("VIP 服务体验")),n.length>0?n:["基础护肤需求"]}recommendServices(t,s){var i,o;const n=[],l=(t.profile||{}).preferences||{};return(i=l.skinConcerns)!=null&&i.includes("衰老")?(n.push("深层抗衰护理"),n.push("提拉紧致疗程")):(o=l.skinConcerns)!=null&&o.includes("敏感")?(n.push("舒缓修护护理"),n.push("皮肤屏障修复")):(n.push("基础护肤套餐"),n.push("清洁护理")),t.visitCount>10&&(n.push("定制护肤方案"),n.push("季节护理套餐")),n}analyzePurchaseMotivation(t){const s=t.profile||{},n=s.preferences||{};return s.lifestyle,n.budget==="luxury"||t.totalSpending>1e4?"追求高端品质和专业护肤效果":t.appointmentCount>20?"对美容护肤有深度认知，定期维护肌肤":t.status==="vip"?"忠诚客户，信任美容师和服务质量":n.skinConcerns&&n.skinConcerns.length>0?"针对特定皮肤问题寻求解决方案":"追求美丽与自信，提升生活品质"}generateRetentionStrategies(t,s){const n=[],a=new Date(t.lastVisit),l=Math.floor((new Date().getTime()-a.getTime())/(1e3*60*60*24));return t.status==="atrisk"&&(n.push("定期关怀电话，了解客户需求"),n.push("提供特价优惠或免费体验服务"),n.push("邀请参加新品发布或特别活动")),(t.status==="active"||t.status==="vip")&&(n.push("建立VIP会员专属服务"),n.push("定期推送个性化护肤建议"),n.push("优先预约高评分美容师")),l>60&&(n.push("生日或周年纪念特别优惠"),n.push("免费皮肤诊断和方案设计")),n.push("建立转介绍奖励计划"),n.push("提供在线护肤咨询服务"),n}generateSegments(t,s){var o,d;const n=[],a=t.profile||{},l=a.preferences||{},i=a.consumptionPattern||{};return t.totalSpending>1e4?n.push("高价值客户"):t.totalSpending>5e3?n.push("中价值客户"):n.push("基础客户"),i.visitFrequency==="weekly"?n.push("高频客户"):i.visitFrequency==="monthly"?n.push("常规客户"):n.push("低频客户"),t.status==="vip"?n.push("VIP客户"):t.status==="atrisk"&&n.push("流失风险"),(o=l.skinConcerns)!=null&&o.includes("敏感")&&n.push("敏感肌用户"),(d=l.skinConcerns)!=null&&d.includes("衰老")&&n.push("抗衰需求"),[...new Set(n)]}}const d2=new c2,u2=({customer:e,staffList:t=[],onClose:s})=>{const[n,a]=B.useState(!0),[l,i]=B.useState(null),[o,d]=B.useState("overview");return B.useEffect(()=>{(async()=>{a(!0);try{const u=d2.analyzeCustomerProfile(e,t);i(u)}catch(u){console.error("分析客户画像失败:",u)}finally{a(!1)}})()},[e,t]),n?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"分析客户画像中..."})]})}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-200 flex items-center justify-center",children:r.jsx(Ss,{className:"w-8 h-8 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),r.jsxs("p",{className:"text-gray-600",children:["客户ID: ",e.id]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:`inline-block px-3 py-1 rounded-full font-semibold ${e.status==="vip"?"bg-purple-100 text-purple-800":e.status==="active"?"bg-green-100 text-green-800":e.status==="atrisk"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status==="vip"?"VIP客户":e.status==="active"?"活跃":e.status==="atrisk"?"风险":"不活跃"})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"总消费"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["¥",e.totalSpending]})]}),r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"访问次数"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.visitCount})]}),r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"预约次数"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.appointmentCount})]}),r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"人均消费"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["¥",Math.round(e.totalSpending/Math.max(e.visitCount,1))]})]})]})]}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>d("overview"),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors ${o==="overview"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:"基本信息"}),r.jsxs("button",{onClick:()=>d("portrait"),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors flex items-center gap-2 ${o==="portrait"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[r.jsx(dr,{className:"w-4 h-4"}),"客户画像"]}),r.jsxs("button",{onClick:()=>d("matching"),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors flex items-center gap-2 ${o==="matching"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[r.jsx(zr,{className:"w-4 h-4"}),"美容师匹配"]}),r.jsxs("button",{onClick:()=>d("insights"),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors flex items-center gap-2 ${o==="insights"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[r.jsx(Be,{className:"w-4 h-4"}),"AI洞察"]})]}),o==="overview"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(dr,{className:"w-5 h-5 text-blue-600"}),"客户特征"]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"肤质类型"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.characteristics.skinType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"消费预算"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.characteristics.preferredBudget==="luxury"?"豪华":l.characteristics.preferredBudget==="premium"?"高端":l.characteristics.preferredBudget==="standard"?"标准":"经济"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"访问频率"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.characteristics.visitFrequency==="weekly"?"每周":l.characteristics.visitFrequency==="biweekly"?"隔周":l.characteristics.visitFrequency==="monthly"?"每月":"不规律"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"主要关注"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.characteristics.primaryConcerns[0]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(xe,{className:"w-5 h-5 text-green-600"}),"家庭背景"]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"婚姻状态"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.familyBackground.maritalStatus})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"家庭成员"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[l.familyBackground.familySize," 人"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"生活阶段"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.familyBackground.lifeStage})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(lt,{className:"w-5 h-5 text-purple-600"}),"消费行为分析"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"平均每次消费"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["¥",Math.round(l.consumptionBehavior.averageSpending)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"访问模式"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.consumptionBehavior.visitPattern})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"服务偏好"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.consumptionBehavior.servicePreferences.map((c,u)=>r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:c},u))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"产品偏好"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.consumptionBehavior.productAffinities.map((c,u)=>r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:c},u))})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ws,{className:"w-5 h-5 text-orange-600"}),"客户细分标签"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.segments.map((c,u)=>r.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:c},u))})]})]}),o==="portrait"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"客户性格"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:l.aiInsights.personality})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Dt,{className:"w-5 h-5 text-red-600"}),"客户需求分析"]}),r.jsx("ul",{className:"space-y-2",children:l.aiInsights.needsAnalysis.map((c,u)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ze,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:c})]},u))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(lt,{className:"w-5 h-5 text-blue-600"}),"推荐服务"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.aiInsights.recommendedServices.map((c,u)=>r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:r.jsx("p",{className:"text-blue-900 font-medium",children:c})},u))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"购买动机"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:l.aiInsights.purchaseMotivation})]})]}),o==="matching"&&r.jsx("div",{className:"space-y-4",children:l.staffMatchings.length>0?l.staffMatchings.map((c,u)=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.staffName}),r.jsx("p",{className:"text-sm text-gray-600",children:"匹配度"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c.matchScore}),r.jsx("p",{className:"text-xs text-gray-600",children:"/100"})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:r.jsx("div",{className:`h-3 rounded-full transition-all ${c.matchScore>=80?"bg-green-600":c.matchScore>=60?"bg-blue-600":c.matchScore>=40?"bg-yellow-600":"bg-red-600"}`,style:{width:`${c.matchScore}%`}})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"匹配原因："}),r.jsx("ul",{className:"space-y-1",children:c.matchReasons.map((g,p)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx(Xe,{className:"w-4 h-4 text-yellow-500"}),g]},p))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"互补技能："}),r.jsx("div",{className:"flex flex-wrap gap-2",children:c.complementarySkills.map((g,p)=>r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:g},p))})]})]},u)):r.jsx("div",{className:"text-center text-gray-600 py-8",children:"暂无美容师数据"})}),o==="insights"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border-2 border-green-300 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Ze,{className:"w-5 h-5 text-green-600"}),"客户留存策略"]}),r.jsx("ul",{className:"space-y-3",children:l.aiInsights.retentionStrategies.map((c,u)=>r.jsxs("li",{className:"flex items-start gap-3 bg-white bg-opacity-50 p-3 rounded",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-green-600 text-white flex items-center justify-center text-sm font-bold flex-shrink-0",children:u+1}),r.jsx("span",{className:"text-gray-700",children:c})]},u))})]})})]}):r.jsx("div",{className:"text-center text-gray-600 py-8",children:"无法分析客户数据"})},x2=()=>{const{customers:e,addCustomer:t,updateCustomer:s,deleteCustomer:n,searchCustomers:a}=Kp(),{appointments:l,addAppointment:i,updateAppointment:o,deleteAppointment:d}=Gp(),{staff:c}=Lc(),{showToast:u}=gl(),[g,p]=B.useState("customers"),[f,h]=B.useState(""),[b,v]=B.useState("all"),[x,m]=B.useState("all"),[y,j]=B.useState(!1),[k,S]=B.useState(null),[N,A]=B.useState(!1),[_,C]=B.useState(!1),[w,E]=B.useState(null),[F,O]=B.useState([]),[z,q]=B.useState([]),M=(f.trim()?a(f):e).filter(R=>b==="all"?!0:R.status===b),U=R=>{switch(R){case"active":return"bg-green-100 text-green-800";case"vip":return"bg-purple-100 text-purple-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},V=R=>{switch(R){case"active":return"活跃";case"vip":return"贵宾";case"inactive":return"不活跃";case"atrisk":return"风险客户";default:return R}},P=l.filter(R=>x==="all"?!0:R.status===x),I=R=>{switch(R){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=R=>{switch(R){case"pending":return"待确认";case"confirmed":return"已确认";case"completed":return"已完成";case"cancelled":return"已取消";default:return R}};l.length,l.filter(R=>R.status==="pending").length,l.filter(R=>R.status==="confirmed").length,l.filter(R=>R.status==="completed").length,l.filter(R=>R.status==="cancelled").length,l.filter(R=>new Date(R.date)>new Date&&R.status!=="cancelled").slice(0,5);const $=()=>{S(null),j(!0)},te=R=>{S(R),j(!0)},Y=()=>{S(null),j(!0)},pe=R=>{S(R),j(!0)},Q=()=>{j(!1),S(null)},Nt=async R=>{A(!0);try{if(g==="customers"){const ue=R;k&&"phone"in k?(s(k.id,ue),u("success",`已更新客户 ${ue.name}`,3e3)):(t(ue),u("success",`已添加新客户 ${ue.name}`,3e3))}else{const ue=R;k&&"service"in k?(o(k.id,ue),u("success","已更新预约",3e3)):(i(ue),u("success","已添加新预约",3e3))}Q()}catch{u("error","操作失败，请重试",3e3)}finally{A(!1)}},ut=(R,ue)=>{confirm(`确定要删除客户 ${ue} 吗？`)&&(n(R),u("success",`已删除客户 ${ue}`,3e3))},D=R=>{confirm("确定要删除这个预约吗？")&&(d(R),u("success","已删除预约",3e3))},ae=R=>{E(R);const ue=localStorage.getItem("onSiteAppointments"),wt=ue?JSON.parse(ue).filter(br=>br.customerName===R.name):[],yr=localStorage.getItem("onSiteServiceHistory"),vr=yr?JSON.parse(yr).filter(br=>br.customerName===R.name):[];O(wt),q(vr),C(!0)},ee=R=>{E(R),p("profile")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"客户管理"}),r.jsx("p",{className:"text-green-600 mt-1",children:g==="customers"?`共 ${e.length} 名客户`:g==="appointments"?`共 ${l.length} 个预约`:g==="instore"?`共 ${l.filter(R=>R.service==="instore").length} 个到店服务`:g==="onsite"?`共 ${l.filter(R=>R.service==="onsite").length} 个上门服务`:"预约操作与统计"})]}),(g==="customers"||g==="appointments")&&r.jsxs("button",{onClick:g==="customers"?$:Y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center gap-2",children:[r.jsx(Vr,{className:"w-5 h-5"}),"新增"]})]}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[r.jsxs("button",{onClick:()=>p("customers"),className:`px-4 py-2 font-medium whitespace-nowrap ${g==="customers"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[r.jsx(xe,{className:"w-4 h-4 inline mr-2"}),"客户"]}),r.jsxs("button",{onClick:()=>p("appointments"),className:`px-4 py-2 font-medium whitespace-nowrap ${g==="appointments"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[r.jsx(Ht,{className:"w-4 h-4 inline mr-2"}),"预约"]}),r.jsxs("button",{onClick:()=>p("instore"),className:`px-4 py-2 font-medium whitespace-nowrap ${g==="instore"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[r.jsx(Sn,{className:"w-4 h-4 inline mr-2"}),"到店"]}),r.jsxs("button",{onClick:()=>p("onsite"),className:`px-4 py-2 font-medium whitespace-nowrap ${g==="onsite"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[r.jsx(Pr,{className:"w-4 h-4 inline mr-2"}),"上门"]}),r.jsxs("button",{onClick:()=>p("profile"),className:`px-4 py-2 font-medium whitespace-nowrap ${g==="profile"?"border-b-2 border-green-500 text-green-600":"text-gray-600"}`,children:[r.jsx(dr,{className:"w-4 h-4 inline mr-2"}),"客户画像"]})]}),g==="customers"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3 bg-white rounded-lg border border-green-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{className:"w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:f,onChange:R=>h(R.target.value),placeholder:"搜索客户名称或电话...",className:"flex-1 px-3 py-2 border border-green-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","active","vip","inactive"].map(R=>r.jsx("button",{onClick:()=>v(R),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${b===R?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R==="all"?"全部":R==="active"?"活跃":R==="vip"?"VIP":"不活跃"},R))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 overflow-hidden",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-green-50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"名称"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"电话"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"状态"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"总消费"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"访问"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"操作"})]})}),r.jsx("tbody",{children:M.map(R=>r.jsxs("tr",{className:"border-t border-green-100 hover:bg-green-50",children:[r.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:R.name}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:R.phone}),r.jsx("td",{className:"px-6 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U(R.status)}`,children:V(R.status)})}),r.jsxs("td",{className:"px-6 py-3 text-sm text-gray-900",children:["￥",R.totalSpending]}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:R.visitCount}),r.jsxs("td",{className:"px-6 py-3",children:[r.jsx("button",{onClick:()=>te(R),className:"text-green-600 hover:text-green-700 mr-2",children:r.jsx(Ka,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ut(R.id,R.name),className:"text-red-600 hover:text-red-700",children:r.jsx(ks,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ae(R),className:"text-blue-600 hover:text-blue-700 ml-2",children:r.jsx(Pr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ee(R),className:"text-purple-600 hover:text-purple-700 ml-2",children:r.jsx(dr,{className:"w-4 h-4"})})]})]},R.id))})]}),M.length===0&&r.jsx("div",{className:"text-center py-12 text-gray-600",children:r.jsx("p",{children:"暂无匹配的客户"})})]})]}),g==="appointments"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-3 bg-white rounded-lg border border-green-200 p-4",children:r.jsx("div",{className:"flex gap-3 flex-wrap",children:["all","pending","confirmed","completed","cancelled"].map(R=>r.jsx("button",{onClick:()=>m(R),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${x===R?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R==="all"?"全部":R==="pending"?"待确认":R==="confirmed"?"已确认":R==="completed"?"已完成":"已取消"},R))})}),r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 overflow-hidden",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-green-50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"客户"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"美容师"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"服务项目"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"日期时间"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"状态"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"价格"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"操作"})]})}),r.jsx("tbody",{children:P.map(R=>r.jsxs("tr",{className:"border-t border-green-100 hover:bg-green-50",children:[r.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:R.customerName}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:R.staffName}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:R.service}),r.jsxs("td",{className:"px-6 py-3 text-sm text-gray-600",children:[R.date," ",R.time]}),r.jsx("td",{className:"px-6 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(R.status)}`,children:L(R.status)})}),r.jsxs("td",{className:"px-6 py-3 text-sm text-gray-900",children:["￥",R.price]}),r.jsxs("td",{className:"px-6 py-3",children:[r.jsx("button",{onClick:()=>pe(R),className:"text-green-600 hover:text-green-700 mr-2",children:r.jsx(Ka,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>D(R.id),className:"text-red-600 hover:text-red-700",children:r.jsx(ks,{className:"w-4 h-4"})})]})]},R.id))})]}),P.length===0&&r.jsx("div",{className:"text-center py-12 text-gray-600",children:r.jsx("p",{children:"暂无匹配的预约"})})]})]}),g==="instore"&&r.jsx(l2,{}),g==="onsite"&&r.jsx(Yp,{mode:"admin"}),g==="profile"&&r.jsx("div",{children:w?r.jsx(u2,{customer:w,staffList:c}):r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[r.jsx(dr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"请从左侧客户列表中选择一个客户来查看其详细的画像分析"})]})}),_&&w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[w.name," - 上门服务记录"]}),r.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx("span",{className:"text-2xl",children:"×"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Ht,{className:"w-5 h-5 text-green-600"}),"上门预约 (",F.length,")"]}),F.length>0?r.jsx("div",{className:"space-y-2",children:F.map(R=>r.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:R.serviceType}),r.jsxs("p",{className:"text-sm text-gray-600",children:[R.appointmentDate," ",R.appointmentTime," |",r.jsxs("span",{className:"ml-2",children:["员工: ",R.staffName]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["地址: ",R.serviceAddress]}),r.jsxs("p",{className:"text-sm font-semibold text-green-600 mt-1",children:["¥",R.price," | ",R.duration,"分钟"]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${R.status==="confirmed"?"bg-blue-100 text-blue-800":R.status==="pending"?"bg-yellow-100 text-yellow-800":R.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.status==="confirmed"?"已确认":R.status==="pending"?"待确认":R.status==="completed"?"已完成":"已取消"})]})},R.id))}):r.jsx("p",{className:"text-gray-600 text-center py-4",children:"暂无上门预约"})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Ze,{className:"w-5 h-5 text-purple-600"}),"上门历史 (",z.length,")"]}),z.length>0?r.jsx("div",{className:"space-y-2",children:z.map(R=>r.jsx("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:R.serviceType}),r.jsxs("p",{className:"text-sm text-gray-600",children:["完成时间: ",R.completedDate," |",r.jsxs("span",{className:"ml-2",children:["员工: ",R.staffName]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["地址: ",R.serviceAddress]}),r.jsxs("p",{className:"text-sm font-semibold text-purple-600 mt-1",children:["¥",R.price," | ",R.duration,"分钟"]}),R.feedback&&r.jsxs("p",{className:"text-sm text-gray-700 mt-2 italic",children:["反馈: ",R.feedback]})]}),r.jsx("div",{className:"flex items-center gap-1 whitespace-nowrap",children:Array.from({length:R.rating}).map((ue,wt)=>r.jsx("span",{className:"text-yellow-400"},wt))})]})},R.id))}):r.jsx("p",{className:"text-gray-600 text-center py-4",children:"暂无上门历史"})]})]}),r.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200 sticky bottom-0 bg-white",children:r.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition-colors",children:"关闭"})})]})}),r.jsx(Jp,{isOpen:y,onClose:Q,title:k?"编辑":"新增",children:g==="customers"?r.jsx(n2,{initialData:k,onSubmit:Nt,isLoading:N}):r.jsx(a2,{initialData:k,onSubmit:Nt,isLoading:N})})]})},m2=()=>{const{showToast:e}=gl(),[t,s]=B.useState(""),[n,a]=B.useState("all"),[l,i]=B.useState([]),[o,d]=B.useState(!1),[c,u]=B.useState("popular"),g=[{id:"1",name:"玻尿酸精华液",category:"精华液",price:199,originalPrice:299,image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop",rating:4.8,reviews:328,stock:50,description:"高效保湿，深层锁水",isFeatured:!0,discount:33,tags:["保湿","热卖","新品"]},{id:"2",name:"视黄醇修复面膜",category:"面膜",price:129,originalPrice:189,image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop",rating:4.7,reviews:256,stock:45,description:"深层修复，紧致肌肤",isFeatured:!0,discount:32,tags:["抗衰","修复","热卖"]},{id:"3",name:"维C亮白面霜",category:"面霜",price:249,originalPrice:349,image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop",rating:4.9,reviews:412,stock:60,description:"均匀肤色，提亮肌肤",isFeatured:!0,discount:29,tags:["美白","亮肤","推荐"]},{id:"4",name:"专业洁面乳",category:"洁面",price:89,originalPrice:129,image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop",rating:4.6,reviews:189,stock:100,description:"温和清洁，不伤皮肤",isFeatured:!1,discount:31,tags:["洁面","温和","日用"]},{id:"5",name:"黄金精油套装",category:"精油",price:399,originalPrice:599,image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop",rating:4.9,reviews:567,stock:35,description:"奢华护理，多效合一",isFeatured:!0,discount:33,tags:["精油","高端","套装"]},{id:"6",name:"眼霜修护",category:"眼霜",price:149,originalPrice:219,image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop",rating:4.7,reviews:234,stock:40,description:"淡化细纹，提亮眼周",isFeatured:!1,discount:32,tags:["眼霜","抗衰","专业"]},{id:"7",name:"积雪草舒缓水",category:"爽肤水",price:119,originalPrice:179,image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop",rating:4.5,reviews:198,stock:70,description:"镇定舒缓，修护敏感肌",isFeatured:!1,discount:34,tags:["爽肤水","舒缓","敏感肌"]},{id:"8",name:"防晒乳SPF50",category:"防晒",price:139,originalPrice:199,image:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=300&h=300&fit=crop",rating:4.8,reviews:445,stock:85,description:"全面防护，日常必备",isFeatured:!0,discount:30,tags:["防晒","日用","必备"]}],p=["all","精华液","面膜","面霜","洁面","精油","眼霜","爽肤水","防晒"];let f=g.filter(x=>{var j;const m=n==="all"||x.category===n,y=t===""||x.name.toLowerCase().includes(t.toLowerCase())||((j=x.tags)==null?void 0:j.some(k=>k.toLowerCase().includes(t.toLowerCase())));return m&&y});c==="price-low"?f.sort((x,m)=>x.price-m.price):c==="price-high"?f.sort((x,m)=>m.price-x.price):c==="rating"?f.sort((x,m)=>m.rating-x.rating):f.sort((x,m)=>(m.isFeatured?1:0)-(x.isFeatured?1:0));const h=x=>{i(m=>m.find(j=>j.id===x.id)?m.map(j=>j.id===x.id?{...j,quantity:j.quantity+1}:j):[...m,{...x,quantity:1}]),e("success",`${x.name} 已添加到购物车`,2e3)},b=l.reduce((x,m)=>x+m.price*m.quantity,0),v=l.reduce((x,m)=>x+m.quantity,0);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-pink-50",children:[r.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"美容产品商城"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"精选专业美容护肤产品"})]}),r.jsxs("button",{onClick:()=>d(!o),className:"relative bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(ln,{className:"w-6 h-6"}),v>0&&r.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center",children:v})]})]}),r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex-1 min-w-[250px] relative",children:[r.jsx(Ut,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"搜索产品名称或标签...",value:t,onChange:x=>s(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("select",{value:c,onChange:x=>u(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white hover:border-purple-500 transition-colors",children:[r.jsx("option",{value:"popular",children:"热卖排序"}),r.jsx("option",{value:"price-low",children:"价格低到高"}),r.jsx("option",{value:"price-high",children:"价格高到低"}),r.jsx("option",{value:"rating",children:"评分最高"})]})]})]})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:r.jsxs("div",{className:"flex gap-8",children:[r.jsx("div",{className:"w-48 flex-shrink-0",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm sticky top-24",children:[r.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Tc,{className:"w-4 h-4"}),"产品分类"]}),r.jsx("div",{className:"space-y-2",children:p.map(x=>r.jsx("button",{onClick:()=>a(x),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${n===x?"bg-purple-600 text-white font-medium":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:x==="all"?"全部产品":x},x))})]})}),r.jsx("div",{className:"flex-1",children:o?r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"购物车"}),l.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ln,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),r.jsx("p",{className:"text-gray-500",children:"购物车为空"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-4 mb-6",children:l.map(x=>r.jsxs("div",{className:"flex gap-4 p-4 border border-gray-200 rounded-lg",children:[r.jsx("img",{src:x.image,alt:x.name,className:"w-20 h-20 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold text-gray-900",children:x.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["单价: ¥",x.price]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-gray-600 mb-2",children:["数量: ",x.quantity]}),r.jsxs("p",{className:"font-bold text-purple-600",children:["¥",x.price*x.quantity]}),r.jsx("button",{onClick:()=>i(l.filter(m=>m.id!==x.id)),className:"text-xs text-red-600 hover:text-red-700 mt-2",children:"删除"})]})]},x.id))}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("span",{className:"font-bold text-gray-900",children:"合计:"}),r.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["¥",b.toFixed(2)]})]}),r.jsx("button",{className:"w-full bg-purple-600 text-white py-3 rounded-lg font-bold hover:bg-purple-700 transition-colors",children:"去结算"})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["找到 ",f.length," 个产品"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(x=>r.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow group",children:[r.jsxs("div",{className:"relative overflow-hidden bg-gray-100 h-48",children:[r.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"}),x.discount&&r.jsxs("div",{className:"absolute top-3 right-3 bg-red-500 text-white px-2 py-1 rounded text-sm font-bold",children:["-",x.discount,"%"]}),x.isFeatured&&r.jsxs("div",{className:"absolute top-3 left-3 bg-purple-600 text-white px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[r.jsx(Be,{className:"w-3 h-3"}),"热卖"]})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:x.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.description}),x.tags&&r.jsx("div",{className:"flex gap-1 mb-3 flex-wrap",children:x.tags.map(m=>r.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:m},m))}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((m,y)=>r.jsx(Xe,{className:`w-4 h-4 ${y<Math.floor(x.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},y))}),r.jsxs("span",{className:"text-sm text-gray-600",children:[x.rating," (",x.reviews,"条评价)"]})]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["¥",x.price]}),x.originalPrice&&r.jsxs("span",{className:"text-lg text-gray-400 line-through",children:["¥",x.originalPrice]})]}),r.jsxs("div",{className:"text-xs text-gray-600 mb-4",children:["库存: ",r.jsx("span",{className:x.stock>10?"text-green-600":"text-red-600",children:x.stock>0?`${x.stock}件`:"缺货"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>h(x),disabled:x.stock===0,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg font-medium hover:bg-purple-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(ln,{className:"w-4 h-4"}),"加入购物车"]}),r.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:border-red-500 hover:text-red-500 transition-colors",children:r.jsx(zr,{className:"w-4 h-4"})})]})]})]},x.id))}),f.length===0&&r.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[r.jsx(Ut,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"未找到匹配的产品"})]})]})})]})})]})},p2=()=>{const{showToast:e}=gl(),[t,s]=B.useState("editor"),[n,a]=B.useState([{id:"1",name:"默认小程序装修",description:"专业美容院小程序页面",isPublished:!0,createdAt:new Date().toISOString(),components:[{id:"banner-1",type:"banner",name:"轮播图",enabled:!0,config:{images:["https://images.unsplash.com/photo-1596462502278-af242a95b928?w=800&h=300&fit=crop","https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=800&h=300&fit=crop"],height:"200px",autoPlay:!0}},{id:"notice-1",type:"notice",name:"公告栏",enabled:!0,config:{content:"欢迎来到我们的美容院小程序！",bgColor:"#FFF3CD",textColor:"#856404"}},{id:"category-1",type:"category",name:"分类导航",enabled:!0,config:{categories:["护肤","美甲","美睫","医美","养生","产品"],columns:3,style:"grid"}},{id:"product-1",type:"product",name:"热卖服务",enabled:!0,config:{title:"热卖项目",showCount:4,columns:2,sortBy:"popular"}}]}]),[l,i]=B.useState(n[0]),[o,d]=B.useState(null),[c,u]=B.useState("mobile"),[g,p]=B.useState({}),f=[{id:"template-1",name:"简洁风格",description:"适合所有类型美容院",preview:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=200&h=300&fit=crop",components:[{id:"banner",type:"banner",name:"轮播图",enabled:!0,config:{images:["https://images.unsplash.com/photo-1596462502278-af242a95b928?w=800&h=300&fit=crop"],height:"200px",autoPlay:!0}},{id:"notice",type:"notice",name:"公告栏",enabled:!0,config:{content:"欢迎来到我们的美容院！",bgColor:"#FFF3CD",textColor:"#856404"}}]},{id:"template-2",name:"奢华风格",description:"高端美妆品牌推荐",preview:"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=200&h=300&fit=crop",components:[{id:"banner-luxury",type:"banner",name:"轮播图",enabled:!0,config:{images:["https://images.unsplash.com/photo-1596462502278-af242a95b928?w=800&h=300&fit=crop","https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=800&h=300&fit=crop"],height:"250px",autoPlay:!0}},{id:"product-luxury",type:"product",name:"奢华产品",enabled:!0,config:{title:"特选品牌",showCount:6,columns:3,sortBy:"price"}}]},{id:"template-3",name:"完整功能",description:"包含所有功能组件",preview:"https://images.unsplash.com/photo-1607346256330-dee4af15f7cb?w=200&h=300&fit=crop",components:[]}],h=[{type:"banner",name:"轮播图",icon:Fo,description:"展示精美图片轮播"},{type:"notice",name:"公告栏",icon:x1,description:"发布重要通知"},{type:"category",name:"分类导航",icon:s1,description:"服务分类导航"},{type:"product",name:"产品展示",icon:kn,description:"展示产品和服务"},{type:"coupon",name:"优惠券",icon:Wa,description:"发布优惠信息"},{type:"text",name:"文本块",icon:m1,description:"自定义文本内容"},{type:"button",name:"按钮",icon:Vr,description:"可点击按钮"}],b=()=>{o&&(i({...l,components:l.components.map(x=>x.id===o.id?{...x,config:g}:x)}),d(null),p({}),e("success","组件已保存！",2e3))},v=x=>{d(x),p(x.config||{})};if(t==="editor")return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg p-8 text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:" 小程序店铺装修"}),r.jsx("p",{className:"text-lg opacity-90",children:"专业的微信小程序门店展示页面编辑器"})]}),r.jsxs("div",{className:"flex gap-2 justify-end mb-4",children:[r.jsxs("button",{onClick:()=>s("preview"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors",children:[r.jsx(Pc,{className:"w-4 h-4"}),"预览页面"]}),r.jsxs("button",{onClick:()=>s("template"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2 transition-colors",children:[r.jsx(Wa,{className:"w-4 h-4"}),"选择模板"]}),r.jsxs("button",{onClick:()=>s("manage"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[r.jsx(Np,{className:"w-4 h-4"}),"管理装修"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sticky top-4",children:[r.jsxs("h2",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Be,{className:"w-5 h-5 text-blue-600"}),"组件库"]}),r.jsx("div",{className:"space-y-2",children:h.map(x=>{const m=x.icon;return r.jsx("button",{onClick:()=>{const y={id:`${x.type}-${Date.now()}`,type:x.type,name:x.name,enabled:!0,config:x.type==="banner"?{images:[],height:"200px",autoPlay:!0}:x.type==="notice"?{content:"",bgColor:"#FFF3CD",textColor:"#856404"}:x.type==="category"?{categories:[],columns:3,style:"grid"}:x.type==="product"?{title:"产品展示",showCount:4,columns:2,sortBy:"popular"}:x.type==="coupon"?{title:"优惠券",discount:"10%",expiry:""}:x.type==="text"?{content:"请输入文本内容",fontSize:"16px"}:x.type==="button"?{text:"点击按钮",bgColor:"#3B82F6",textColor:"#FFFFFF"}:{}};i({...l,components:[...l.components,y]}),e("success",`已添加 ${x.name}`,2e3)},className:"w-full p-3 border-2 border-dashed border-blue-300 rounded-lg hover:bg-blue-50 transition-colors text-left",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(m,{className:"w-4 h-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-600 text-sm",children:x.name}),r.jsx("p",{className:"text-xs text-gray-600",children:x.description})]})]})},x.type)})})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("h2",{className:"font-bold text-gray-900 mb-4",children:["装修内容：",l.name]}),r.jsx("div",{className:"space-y-3 mb-6 max-h-96 overflow-y-auto",children:l.components.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:r.jsx("p",{children:"从左侧组件库中点击添加组件"})}):l.components.map(x=>r.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${(o==null?void 0:o.id)===x.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>v(x),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[r.jsx("input",{type:"checkbox",checked:x.enabled,onChange:m=>{i({...l,components:l.components.map(y=>y.id===x.id?{...y,enabled:m.target.checked}:y)})},className:"w-4 h-4",onClick:m=>m.stopPropagation()}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:x.name}),r.jsx("p",{className:"text-xs text-gray-500",children:x.type})]})]}),r.jsx("button",{onClick:m=>{m.stopPropagation(),i({...l,components:l.components.filter(y=>y.id!==x.id)}),(o==null?void 0:o.id)===x.id&&(d(null),p({})),e("success","已删除组件",2e3)},className:"p-2 text-red-600 hover:bg-red-50 rounded",children:r.jsx(ks,{className:"w-4 h-4"})})]})},x.id))}),o&&r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-bold text-gray-900",children:["编辑 ",o.name]}),r.jsx("button",{onClick:()=>{d(null),p({})},className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Ds,{className:"w-4 h-4"})})]}),o.type==="banner"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"轮播高度"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:g.height||"200px",onChange:x=>p({...g,height:x.target.value}),children:[r.jsx("option",{value:"150px",children:"150px - 小"}),r.jsx("option",{value:"200px",children:"200px - 中"}),r.jsx("option",{value:"250px",children:"250px - 大"}),r.jsx("option",{value:"300px",children:"300px - 超大"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"自动播放"}),r.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:g.autoPlay||!1,onChange:x=>p({...g,autoPlay:x.target.checked})})]})]}),o.type==="notice"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"公告内容"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,value:g.content||"",onChange:x=>p({...g,content:x.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"背景色"}),r.jsx("input",{type:"color",className:"w-full h-10 rounded border border-gray-300",value:g.bgColor||"#FFF3CD",onChange:x=>p({...g,bgColor:x.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"文字色"}),r.jsx("input",{type:"color",className:"w-full h-10 rounded border border-gray-300",value:g.textColor||"#856404",onChange:x=>p({...g,textColor:x.target.value})})]})]})]}),o.type==="category"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"列数"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:g.columns||3,onChange:x=>p({...g,columns:parseInt(x.target.value)}),children:[r.jsx("option",{value:"2",children:"2列"}),r.jsx("option",{value:"3",children:"3列"}),r.jsx("option",{value:"4",children:"4列"})]})]})}),o.type==="product"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"标题"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:g.title||"产品展示",onChange:x=>p({...g,title:x.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"展示数量"}),r.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:g.showCount||4,onChange:x=>p({...g,showCount:parseInt(x.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"列数"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:g.columns||2,onChange:x=>p({...g,columns:parseInt(x.target.value)}),children:[r.jsx("option",{value:"1",children:"1列"}),r.jsx("option",{value:"2",children:"2列"}),r.jsx("option",{value:"3",children:"3列"})]})]})]}),o.type==="text"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"文本内容"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:4,value:g.content||"",onChange:x=>p({...g,content:x.target.value})})]})}),o.type==="button"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"按钮文字"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:g.text||"点击按钮",onChange:x=>p({...g,text:x.target.value})})]})}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"保存配置"}),r.jsx("button",{onClick:()=>{d(null),p({})},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"取消"})]})]})]})})]}),r.jsx("div",{className:"flex gap-2 justify-end",children:r.jsxs("button",{onClick:()=>{a(n.map(x=>x.id===l.id?l:x)),e("success","装修已保存！",2e3)},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center gap-2 transition-colors",children:[r.jsx(c1,{className:"w-4 h-4"}),"保存装修"]})})]});if(t==="preview"){const x=({component:m})=>{var y;switch(m.type){case"banner":return r.jsx("div",{children:r.jsx("img",{src:((y=m.config.images)==null?void 0:y[0])||"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=400&h=200&fit=crop",alt:"banner",className:"w-full rounded-lg object-cover",style:{height:m.config.height||"200px"}})});case"notice":return r.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:m.config.bgColor||"#FFF3CD",borderColor:m.config.textColor||"#856404"},children:r.jsx("p",{className:"text-sm font-medium",style:{color:m.config.textColor||"#856404"},children:m.config.content||"公告内容"})});case"category":return r.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${m.config.columns||3}, 1fr)`,gap:"8px"},children:(m.config.categories||["护肤","美甲","美睫"]).slice(0,6).map((j,k)=>r.jsx("button",{className:"p-3 bg-gray-100 rounded-lg text-sm font-medium hover:bg-gray-200",children:j},k))});case"product":return r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:m.config.title||"产品展示"}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${m.config.columns||2}, 1fr)`,gap:"12px"},children:[1,2,3,4,5,6].slice(0,m.config.showCount||4).map(j=>r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("div",{className:"bg-gray-200 h-24 rounded mb-2"}),r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["产品 ",j]}),r.jsx("p",{className:"text-xs text-gray-600",children:"¥99"})]},j))})]});case"coupon":return r.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 p-4 rounded-lg border-2 border-dashed border-red-300",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:m.config.discount||"优惠"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.config.title||"优惠券"})]});case"text":return r.jsx("div",{className:"text-gray-700 whitespace-pre-wrap",children:m.config.content||"文本内容"});case"button":return r.jsx("button",{className:"w-full py-2 px-4 rounded-lg font-medium text-white",style:{backgroundColor:m.config.bgColor||"#3B82F6"},children:m.config.text||"点击按钮"});default:return null}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"️ 预览页面"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>u("mobile"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${c==="mobile"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:[r.jsx(i1,{className:"w-4 h-4"}),"手机"]}),r.jsxs("button",{onClick:()=>u("desktop"),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${c==="desktop"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:[r.jsx(l1,{className:"w-4 h-4"}),"桌面"]}),r.jsx("button",{onClick:()=>s("editor"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"返回编辑"})]})]}),r.jsx("div",{className:`mx-auto bg-white rounded-lg shadow-xl overflow-hidden ${c==="mobile"?"max-w-sm border-8 border-gray-800":"max-w-5xl"}`,children:r.jsx("div",{className:"p-6 space-y-6",children:l.components.filter(m=>m.enabled).length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:r.jsx("p",{children:"还没有添加任何组件，请返回编辑器添加组件"})}):l.components.filter(m=>m.enabled).map(m=>r.jsx("div",{children:r.jsx(x,{component:m})},m.id))})})]})}return t==="template"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" 选择装修模板"}),r.jsx("button",{onClick:()=>s("editor"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"返回"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map(x=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("img",{src:x.preview,alt:x.name,className:"w-full h-40 object-cover"}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:x.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x.description}),r.jsx("button",{onClick:()=>{i({...l,components:x.components.map(m=>({...m,id:`${m.type}-${Date.now()}-${Math.random()}`}))}),s("editor"),e("success","模板已应用！",2e3)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium transition-colors",children:"使用此模板"})]})]},x.id))})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"️ 管理装修方案"}),r.jsx("button",{onClick:()=>{i({id:`deco-${Date.now()}`,name:"新装修方案",description:"",components:[],createdAt:new Date().toISOString(),isPublished:!1}),s("editor")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"新建装修"})]}),n.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:r.jsx("p",{children:'还没有装修方案，点击"新建装修"创建一个'})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(x=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900",children:x.name}),r.jsx("p",{className:"text-sm text-gray-600",children:x.description||"暂无描述"}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[x.components.length," 个组件"]})]}),x.isPublished&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"已发布"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{i(x),s("editor")},className:"flex-1 px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 text-sm font-medium transition-colors",children:"编辑"}),r.jsx("button",{onClick:()=>{i(x),s("preview")},className:"flex-1 px-4 py-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 text-sm font-medium transition-colors",children:"预览"}),r.jsx("button",{onClick:()=>{a(n.filter(m=>m.id!==x.id)),e("success","已删除",2e3)},className:"px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",children:r.jsx(ks,{className:"w-4 h-4"})})]})]},x.id))})]})};class h2{constructor(){he(this,"apiEndpoint","https://www.runninghub.cn/task/openapi/ai-app/run");he(this,"apiTimeout",15e3);he(this,"fallbackMode",!0);he(this,"apiKey","");he(this,"webappId","1877265245566922753")}async generatePoster(t){const s=Date.now();try{if(!this.apiKey)throw new Error("未配置 API 密钥。请设置 REACT_APP_RUNNINGHUB_API_KEY 环境变量。");const n=this.buildAPIPayload(t);console.log(" 调用 RunningHub API...",{endpoint:this.apiEndpoint,webappId:this.webappId,nodeCount:n.nodeInfoList.length});const a=await this.callRemoteAPI(n),l=Date.now()-s;return a.code===0&&a.data?(console.log(" API 调用成功",{duration:l,taskId:a.data.taskId,taskStatus:a.data.taskStatus}),{success:!0,data:{taskId:a.data.taskId,taskStatus:a.data.taskStatus,netWssUrl:a.data.netWssUrl,clientId:a.data.clientId,format:"vertical",size:{width:1080,height:1440},design:{style:t.style||"modern",elements:["generated_by_ai"]}},meta:{source:"api",processingTime:l}}):(console.warn("️ API 返回错误:",a.msg||a.error),{success:!1,error:{code:String(a.code||"UNKNOWN_ERROR"),message:a.msg||"海报生成失败"}})}catch(n){console.error(" API 调用失败:",n.message);const a=Date.now()-s;return this.fallbackMode?(console.log(" 切换到离线模式..."),this.fallbackGeneratePoster(t,a)):{success:!1,error:{code:"API_ERROR",message:n.message}}}}async callRemoteAPI(t){var a,l;const s=new AbortController,n=setTimeout(()=>s.abort(),this.apiTimeout);try{console.log(" 发送请求到 RunningHub API:",this.apiEndpoint);const i=await de.post(this.apiEndpoint,t,{timeout:this.apiTimeout,signal:s.signal,headers:{"Content-Type":"application/json"}});return clearTimeout(n),console.log(" 收到 API 响应:",{status:i.status,code:(a=i.data)==null?void 0:a.code,msg:(l=i.data)==null?void 0:l.msg}),i.data}catch(i){throw clearTimeout(n),i.code==="ECONNABORTED"?new Error("API 请求超时 (15秒)"):i}}buildAPIPayload(t){const{content:s="",style:n="modern"}=t,a=this.generatePrompt(s,t.type||"general",n);return{webappId:this.webappId,apiKey:this.apiKey,nodeInfoList:[{nodeId:"122",fieldName:"prompt",fieldValue:a},{nodeId:"123",fieldName:"style",fieldValue:n}]}}generatePrompt(t,s,n){const a={modern:"现代、简洁、专业",elegant:"优雅、高端、精致",playful:"活泼、开心、充满活力",minimalist:"简约、纯净、高效"},l={promotion:"促销活动",product:"产品展示",skincare:"护肤服务",event:"活动宣传",general:"商业推广"},i=a[n]||"专业的",o=l[s]||"商业推广";return`生成一个${i}的${o}海报。

内容: ${t}

设计要求:
- 视觉吸引力强
- 信息清晰易读
- 专业商业级设计
- 配色协调美观
- 适合微信分享和网页展示
- 竖版 1080x1440 格式
- 无其他品牌名称`}fallbackGeneratePoster(t,s){return{success:!1,error:{code:"API_UNAVAILABLE",message:"RunningHub API 暂时不可用。请检查网络连接和 API 密钥配置。"},meta:{source:"local",processingTime:s}}}async getAPIStatus(){var t;try{if(!this.apiKey)return{available:!1,status:"未配置 API 密钥",lastCheck:new Date().toISOString()};const s=this.buildAPIPayload({content:"测试",type:"general"}),n=await de.post(this.apiEndpoint,s,{timeout:5e3,headers:{"Content-Type":"application/json"}}),a=((t=n.data)==null?void 0:t.code)===0||n.status===200;return{available:a,status:a?"在线":"错误",lastCheck:new Date().toISOString()}}catch(s){return{available:!1,status:s.code==="ECONNABORTED"?"超时":"离线",lastCheck:new Date().toISOString()}}}setAPIKey(t){this.apiKey=t,console.log(" API 密钥已设置")}setWebappId(t){this.webappId=t,console.log(" WebApp ID 已设置")}setTimeout(t){this.apiTimeout=t}setAPIFallbackMode(t){this.fallbackMode=t,console.log(` 降级模式: ${t?"启用":"禁用"}`)}}const f2=new h2;class g2{constructor(){he(this,"unsplashAccessKey","demo");he(this,"pixabayApiKey","demo");he(this,"pexelsApiKey","demo");he(this,"themeKeywordMap",{"seasonal-promotion":["季节促销","春夏秋冬","限时折扣","季节特卖","促销活动"],"new-product":["新品上市","产品展示","护肤品","美容产品","新货"],"skincare-routine":["护肤方案","美容护肤","肌肤护理","护肤工具","美容仪"],"member-card":["会员卡","贵宾卡","权益","特权","会员专享"],"event-invitation":["活动邀请","盛大活动","聚会","派对","庆典"],"course-promotion":["美容课程","培训课程","教学","学习","培训班"],"flash-sale":["限时秒杀","闪购","抢购","倒计时","快速购买"],"referral-bonus":["推荐返利","分享","转介","奖励","赠送"]})}getKeywordsForTheme(t){return this.themeKeywordMap[t]||[t]}async searchUnsplash(t,s=10){try{const n=await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(t)}&per_page=${s}&client_id=${this.unsplashAccessKey}`);return n.ok?(await n.json()).results.map(l=>({id:`unsplash-${l.id}`,title:l.description||l.alt_description||t,description:l.alt_description||"",imageUrl:l.urls.regular,thumbnailUrl:l.urls.thumb,source:"unsplash",attribution:`Photo by ${l.user.name} on Unsplash`,license:"Unsplash License",width:l.width,height:l.height})):(console.warn("Unsplash API 调用失败，使用本地数据"),this.getLocalMockImages("unsplash",t))}catch(n){return console.error("Unsplash 搜索失败:",n),this.getLocalMockImages("unsplash",t)}}async searchPixabay(t,s=10){try{const n=await fetch(`https://pixabay.com/api/?key=${this.pixabayApiKey}&q=${encodeURIComponent(t)}&per_page=${s}&image_type=photo`);return n.ok?((await n.json()).hits||[]).map(l=>({id:`pixabay-${l.id}`,title:t,description:"",imageUrl:l.largeImageURL,thumbnailUrl:l.previewURL,source:"pixabay",attribution:`Image by ${l.user} on Pixabay`,license:"Pixabay License",width:l.imageWidth,height:l.imageHeight})):(console.warn("Pixabay API 调用失败，使用本地数据"),this.getLocalMockImages("pixabay",t))}catch(n){return console.error("Pixabay 搜索失败:",n),this.getLocalMockImages("pixabay",t)}}async searchPexels(t,s=10){try{const n=await fetch(`https://api.pexels.com/v1/search?query=${encodeURIComponent(t)}&per_page=${s}`,{headers:{Authorization:this.pexelsApiKey}});return n.ok?((await n.json()).photos||[]).map(l=>({id:`pexels-${l.id}`,title:t,description:"",imageUrl:l.src.large,thumbnailUrl:l.src.small,source:"pexels",attribution:`Photo by ${l.photographer} on Pexels`,license:"Pexels License",width:l.width,height:l.height})):(console.warn("Pexels API 调用失败，使用本地数据"),this.getLocalMockImages("pexels",t))}catch(n){return console.error("Pexels 搜索失败:",n),this.getLocalMockImages("pexels",t)}}getLocalMockImages(t,s){return{unsplash:[{id:"unsplash-mock-1",title:`${s} - 专业照片 1`,description:"高质量的商用图片",imageUrl:"https://images.unsplash.com/photo-1556740738-b6a63e27c4df?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1556740738-b6a63e27c4df?w=200",source:"unsplash",attribution:"Photo on Unsplash",license:"Unsplash License",width:800,height:600},{id:"unsplash-mock-2",title:`${s} - 专业照片 2`,description:"高质量的商用图片",imageUrl:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800",thumbnailUrl:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=200",source:"unsplash",attribution:"Photo on Unsplash",license:"Unsplash License",width:800,height:600}],pixabay:[{id:"pixabay-mock-1",title:`${s} - 商用图片 1`,description:"免费商用图片",imageUrl:"https://pixabay.com/photos/beauty-skincare-woman-beauty-care-4597675/?auto=compress&cs=tinysrgb&w=600",thumbnailUrl:"https://pixabay.com/photos/beauty-skincare-woman-beauty-care-4597675/?auto=compress&cs=tinysrgb&w=200",source:"pixabay",attribution:"Image on Pixabay",license:"Pixabay License",width:600,height:600}],pexels:[{id:"pexels-mock-1",title:`${s} - 精选图片 1`,description:"免费高质量图片",imageUrl:"https://images.pexels.com/photos/3807517/pexels-photo-3807517.jpeg?w=600",thumbnailUrl:"https://images.pexels.com/photos/3807517/pexels-photo-3807517.jpeg?w=200",source:"pexels",attribution:"Photo on Pexels",license:"Pexels License",width:600,height:600}]}[t]||[]}async searchByTheme(t){const{theme:s,category:n,perPage:a=10}=t;try{const i=this.getKeywordsForTheme(s)[0],[o,d,c]=await Promise.all([this.searchUnsplash(i,Math.ceil(a/3)),this.searchPixabay(i,Math.ceil(a/3)),this.searchPexels(i,Math.ceil(a/3))]),u=[...o,...d,...c],g=this.deduplicateImages(u),p=this.sortImagesByRelevance(g,i);return{success:!0,images:p.slice(0,a),totalResults:p.length}}catch(l){return console.error("搜索图片失败:",l),{success:!1,images:[],totalResults:0,error:"搜索失败，请重试"}}}async searchByKeyword(t,s=10){try{const[n,a,l]=await Promise.all([this.searchUnsplash(t,Math.ceil(s/3)),this.searchPixabay(t,Math.ceil(s/3)),this.searchPexels(t,Math.ceil(s/3))]),i=[...n,...a,...l],o=this.deduplicateImages(i),d=this.sortImagesByRelevance(o,t);return{success:!0,images:d.slice(0,s),totalResults:d.length}}catch(n){return console.error("搜索图片失败:",n),{success:!1,images:[],totalResults:0,error:"搜索失败，请重试"}}}deduplicateImages(t){const s=new Set,n=[];for(const a of t){const l=a.imageUrl;s.has(l)||(s.add(l),n.push(a))}return n}sortImagesByRelevance(t,s){return t.sort((n,a)=>{const l=n.width*n.height,i=a.width*a.height;if(l!==i)return i-l;const o={unsplash:0,pixabay:1,pexels:2};return(o[n.source]||3)-(o[a.source]||3)})}setApiKeys(t,s,n){t&&(this.unsplashAccessKey=t),s&&(this.pixabayApiKey=s),n&&(this.pexelsApiKey=n)}getAvailableThemes(){return[{id:"seasonal-promotion",name:"季节促销",keywords:this.themeKeywordMap["seasonal-promotion"]},{id:"new-product",name:"新品上市",keywords:this.themeKeywordMap["new-product"]},{id:"skincare-routine",name:"护肤方案",keywords:this.themeKeywordMap["skincare-routine"]},{id:"member-card",name:"会员卡权益",keywords:this.themeKeywordMap["member-card"]},{id:"event-invitation",name:"活动邀请",keywords:this.themeKeywordMap["event-invitation"]},{id:"course-promotion",name:"课程推广",keywords:this.themeKeywordMap["course-promotion"]},{id:"flash-sale",name:"限时秒杀",keywords:this.themeKeywordMap["flash-sale"]},{id:"referral-bonus",name:"推荐返利",keywords:this.themeKeywordMap["referral-bonus"]}]}}const y2=new g2,Pd=[{id:"promo-seasonal",name:"季节促销",category:"promotion",description:"适合春夏秋冬季节性推广",icon:"",contentTemplate:`{season}优惠
全场{discount}折
{callToAction}`,style:"modern",colors:{primary:"#FF6B6B",secondary:"#FFE66D"},tags:["促销","季节","优惠"]},{id:"new-product",name:"新品上市",category:"product",description:"展示新护肤产品上市",icon:"",contentTemplate:`新品上市
{productName}
{description}
尊享首购价`,style:"elegant",colors:{primary:"#E8D5F2",secondary:"#9B59B6"},tags:["新品","产品","上市"]},{id:"skincare-routine",name:"护肤方案",category:"skincare",description:"推荐定制化护肤方案",icon:"",contentTemplate:`护肤方案
{skinType}肌专属
专业美容师打造
立即预约`,style:"elegant",colors:{primary:"#FFF0F5",secondary:"#FF69B4"},tags:["护肤","美容","定制"]},{id:"member-card",name:"会员卡权益",category:"event",description:"推广会员卡和权益",icon:"",contentTemplate:`会员升级
享受专属权益
{benefit1}
{benefit2}
立即开卡`,style:"modern",colors:{primary:"#FFE5B4",secondary:"#FF8C00"},tags:["会员","卡","权益"]},{id:"event-invitation",name:"活动邀请",category:"event",description:"邀请客户参加活动",icon:"",contentTemplate:`诚邀参加
{eventName}
{date} {time}
位置：{location}`,style:"playful",colors:{primary:"#6C63FF",secondary:"#FF006E"},tags:["活动","邀请","时间"]},{id:"course-promotion",name:"课程推广",category:"event",description:"推广美容课程培训",icon:"",contentTemplate:`美容课程开班
{courseType}
名额有限 欢迎报名
专业讲师授课`,style:"modern",colors:{primary:"#00A86B",secondary:"#87CEEB"},tags:["课程","培训","学习"]},{id:"flash-sale",name:"限时秒杀",category:"promotion",description:"限时秒杀活动",icon:"",contentTemplate:`限时秒杀
{product}
仅售{price}
仅限{duration}`,style:"playful",colors:{primary:"#FF4500",secondary:"#FFD700"},tags:["秒杀","限时","抢购"]},{id:"referral-bonus",name:"推荐返利",category:"promotion",description:"客户推荐返利活动",icon:"",contentTemplate:`邀请好友
双倍好礼
推荐返利{percent}%
开始分享`,style:"playful",colors:{primary:"#FF1493",secondary:"#FFB6C1"},tags:["推荐","返利","分享"]}],v2={"promo-seasonal":{season:["春季","夏季","秋季","冬季"],discount:["五折","六折","七折","八折"],callToAction:["限时优惠","快来参加","抓紧时间","错过遗憾"]},"new-product":{productName:["护肤精油","面膜套装","眼霜","精华液"],description:["温和有效","专业配方","明星产品","销量冠军"]},"skincare-routine":{skinType:["干性","油性","混合","敏感"]},"member-card":{benefit1:["消费满额返利","生日月享优惠","专属客服"],benefit2:["优先预约","免费咨询","会员专享"]},"flash-sale":{product:["热销面膜","明星精油","套装产品"],price:["99元","149元","199元"],duration:["2小时","3小时","今天"]}},b2=()=>{const[e,t]=B.useState("templates"),[s,n]=B.useState(null),[a,l]=B.useState({}),[i,o]=B.useState([]),[d,c]=B.useState(!1),[u,g]=B.useState("all"),[p,f]=B.useState(!1),[h,b]=B.useState([]),[v,x]=B.useState(null),[m,y]=B.useState(!1),[j,k]=B.useState(null),S=E=>{const F={},O=v2[E];return O&&Object.keys(O).forEach(z=>{const q=O[z];F[z]=q[Math.floor(Math.random()*q.length)]}),F},N=(E,F)=>{let O=E.contentTemplate;return Object.keys(F).forEach(z=>{O=O.replace(`{${z}}`,F[z])}),O},A=async E=>{y(!0),k(null);try{const O={promotion:"seasonal-promotion",product:"new-product",skincare:"skincare-routine",event:"event-invitation",seasonal:"seasonal-promotion"}[E.category]||"seasonal-promotion",z=await y2.searchByTheme({theme:O,category:E.category,style:E.style,perPage:12});z.success?(b(z.images),f(!0)):k(z.error||"搜索失败，请重试")}catch(F){console.error("搜索图片失败:",F),k("搜索失败，请检查网络连接")}finally{y(!1)}},_=E=>{x(E)},C=async E=>{c(!0);const F=S(E.id),O=N(E,F),z={id:`poster-${Date.now()}`,title:E.name,content:O,template:E,status:"generating",generatedAt:new Date};o(q=>[z,...q]);try{const q=await f2.generatePoster({content:O,style:E.style,type:E.category,format:"vertical"});q.success?o(G=>G.map(M=>{var U,V;return M.id===z.id?{...M,status:"success",taskId:(U=q.data)==null?void 0:U.taskId,posterUrl:(V=q.data)==null?void 0:V.posterUrl}:M})):o(G=>G.map(M=>{var U;return M.id===z.id?{...M,status:"error",error:((U=q.error)==null?void 0:U.message)||"生成失败"}:M}))}catch(q){o(G=>G.map(M=>M.id===z.id?{...M,status:"error",error:q.message}:M))}finally{c(!1)}},w=u==="all"?Pd:Pd.filter(E=>E.category===u);return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[r.jsx(p1,{className:"w-6 h-6 text-purple-600"}),"智能海报制作"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"选择模板，一键生成专业海报"})]})}),r.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("templates"),className:`px-4 py-2 font-medium transition-colors ${e==="templates"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"模板库"}),r.jsxs("button",{onClick:()=>t("history"),className:`px-4 py-2 font-medium transition-colors ${e==="history"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:["生成历史 (",i.length,")"]})]}),e==="templates"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"全部"}),["promotion","product","skincare","event","seasonal"].map(E=>r.jsxs("button",{onClick:()=>g(E),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u===E?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[E==="promotion"&&"促销",E==="product"&&"产品",E==="skincare"&&"护肤",E==="event"&&"活动",E==="seasonal"&&"季节"]},E))]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(E=>r.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-purple-600 transition-all cursor-pointer overflow-hidden group",onClick:()=>C(E),children:[r.jsx("div",{className:"h-40 bg-gradient-to-br flex items-center justify-center text-5xl group-hover:scale-110 transition-transform",style:{backgroundImage:`linear-gradient(135deg, ${E.colors.primary} 0%, ${E.colors.secondary} 100%)`},children:E.icon}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-gray-900",children:E.name}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.description}),r.jsx("div",{className:"flex gap-1 mt-3 flex-wrap",children:E.tags.map(F=>r.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:F},F))}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",disabled:m,onClick:F=>{F.stopPropagation(),A(E)},children:m?r.jsxs(r.Fragment,{children:[r.jsx(ga,{className:"w-4 h-4 animate-spin"}),"搜索中..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-4 h-4"}),"搜索图片"]})}),r.jsx("button",{className:"flex-1 bg-purple-600 text-white py-2 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 group-hover:shadow-lg disabled:opacity-50",disabled:d,onClick:F=>{F.stopPropagation(),C(E)},children:d?r.jsxs(r.Fragment,{children:[r.jsx(ga,{className:"w-4 h-4 animate-spin"}),"生成中..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_o,{className:"w-4 h-4"}),"一键生成"]})})]})]})]},E.id))})]}),e==="history"&&r.jsx("div",{className:"space-y-4",children:i.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(Be,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"还没有生成过海报，选择模板一键生成吧！"})]}):i.map(E=>r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-bold text-gray-900",children:E.title}),E.status==="success"&&r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"已生成"}),E.status==="generating"&&r.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center gap-1",children:[r.jsx(ga,{className:"w-3 h-3 animate-spin"}),"生成中"]}),E.status==="error"&&r.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:"失败"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2 whitespace-pre-wrap max-h-24 overflow-hidden",children:E.content}),E.error&&r.jsx("p",{className:"text-sm text-red-600 mt-2",children:E.error})]}),r.jsx("div",{className:"flex gap-2 ml-4",children:E.posterUrl&&r.jsxs(r.Fragment,{children:[r.jsx("a",{href:E.posterUrl,download:!0,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"下载",children:r.jsx(bp,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{E.posterUrl&&(navigator.clipboard.writeText(E.posterUrl),alert("已复制链接！"))},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"复制链接",children:r.jsx(Wa,{className:"w-4 h-4"})})]})})]})},E.id))}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[r.jsx(Fo,{className:"w-5 h-5 text-blue-600"}),"选择背景图片"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"为您的海报选择一张商用图片"})]}),r.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"x"})]}),j&&r.jsx("div",{className:"m-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:j}),r.jsx("div",{className:"p-6",children:h.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(Fo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"未找到相关图片"})]}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:h.map(E=>r.jsxs("div",{onClick:()=>_(E),className:`cursor-pointer rounded-lg overflow-hidden border-2 transition-all ${(v==null?void 0:v.id)===E.id?"border-purple-600 shadow-lg":"border-gray-200 hover:border-purple-400"}`,children:[r.jsxs("div",{className:"relative pb-[100%]",children:[r.jsx("img",{src:E.thumbnailUrl,alt:E.title,className:"absolute inset-0 w-full h-full object-cover"}),(v==null?void 0:v.id)===E.id&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:r.jsx("div",{className:"text-white text-2xl",children:"已选择"})})]}),r.jsxs("div",{className:"p-2 bg-gray-50",children:[r.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:E.source}),r.jsxs("p",{className:"text-xs text-gray-600",children:[E.width,"x",E.height]})]})]},E.id))})}),r.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6 flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),r.jsx("button",{onClick:()=>{v&&f(!1)},disabled:!v,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"确认选择"})]})]})})]})},j2=()=>{const[e,t]=B.useState("poster");return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-purple-900",children:"营销助手"}),r.jsx("p",{className:"text-purple-600 mt-1",children:"智能海报制作 + 文案撰写 + 营销分析"})]})}),r.jsxs("div",{className:"flex gap-2 border-b border-purple-200 overflow-x-auto",children:[r.jsx("button",{onClick:()=>t("poster"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${e==="poster"?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"智能海报制作"}),r.jsx("button",{onClick:()=>t("copywriting"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${e==="copywriting"?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"️ 文案撰写"}),r.jsx("button",{onClick:()=>t("analysis"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${e==="analysis"?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-purple-600"}`,children:"营销分析"})]}),e==="poster"&&r.jsx("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:r.jsx(b2,{})}),e==="copywriting"&&r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"️ AI 文案撰写"}),r.jsx("p",{className:"text-gray-600",children:"敬请期待..."})]}),e==="analysis"&&r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:" 营销分析"}),r.jsx("p",{className:"text-gray-600",children:"敬请期待..."})]})]})},Oo={护肤精油:[{marketplace:"1688",supplier:"浙江美妆有限公司",price:45,rating:4.8,delivery:"2-3天",quantity:"≥1件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"阿里巴巴",supplier:"浙江美妆工厂",price:42,rating:4.7,delivery:"3-5天",quantity:"≥5件",link:"https://alibaba.com/...",lastUpdate:"2025-01-28"},{marketplace:"抖音电商",supplier:"浙江美妆零售",price:48,rating:4.6,delivery:"1-2天",quantity:"≥1件",link:"https://douyin.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:50,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"},{marketplace:"拼多多",supplier:"拼多多官方",price:43,rating:4.5,delivery:"2-3天",quantity:"≥1件",link:"https://pinduoduo.com/...",lastUpdate:"2025-01-28"}],面膜贴片:[{marketplace:"1688",supplier:"广州美妆工厂",price:6.5,rating:4.5,delivery:"3-5天",quantity:"≥10件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"阿里巴巴",supplier:"广州美妆批发",price:8,rating:4.7,delivery:"2-3天",quantity:"≥1件",link:"https://alibaba.com/...",lastUpdate:"2025-01-28"},{marketplace:"抖音电商",supplier:"广州美妆直供",price:9,rating:4.8,delivery:"1-2天",quantity:"≥1件",link:"https://douyin.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:10,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"}],精华液:[{marketplace:"1688",supplier:"上海美妆集团",price:22,rating:4.9,delivery:"2-3天",quantity:"≥1件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"阿里巴巴",supplier:"上海美妆工厂",price:20,rating:4.8,delivery:"3-5天",quantity:"≥5件",link:"https://alibaba.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:25,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"}],口红:[{marketplace:"1688",supplier:"深圳彩妆厂",price:15,rating:4.7,delivery:"2-3天",quantity:"≥1件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"抖音电商",supplier:"深圳彩妆直营",price:18,rating:4.8,delivery:"1-2天",quantity:"≥1件",link:"https://douyin.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:22,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"}],眼影:[{marketplace:"1688",supplier:"广州彩妆厂",price:12,rating:4.6,delivery:"2-3天",quantity:"≥1件",link:"https://1688.com/...",lastUpdate:"2025-01-28"},{marketplace:"拼多多",supplier:"拼多多卖家",price:14,rating:4.5,delivery:"2-3天",quantity:"≥1件",link:"https://pinduoduo.com/...",lastUpdate:"2025-01-28"},{marketplace:"京东",supplier:"京东自营",price:18,rating:4.9,delivery:"次日达",quantity:"≥1件",link:"https://jd.com/...",lastUpdate:"2025-01-28"}]};async function N2(e){await new Promise(d=>setTimeout(d,500));const t=Object.keys(Oo).find(d=>d.includes(e)||e.includes(d));if(!t)return null;const s=Oo[t]||[];if(s.length===0)return null;const n=s.map(d=>d.price),a=Math.min(...n),l=Math.max(...n),i=Math.round(n.reduce((d,c)=>d+c)/n.length*10)/10,o=s.reduce((d,c)=>{const u=d.rating*.3+(100-d.price)*.7;return c.rating*.3+(100-c.price)*.7>u?c:d});return{productName:t,results:s.sort((d,c)=>d.price-c.price),minPrice:a,maxPrice:l,avgPrice:i,bestDeal:o,queryTime:new Date().toLocaleTimeString("zh-CN")}}function w2(){return Object.keys(Oo)}const Zp=()=>{const[e,t]=B.useState("search"),[s,n]=B.useState(""),[a,l]=B.useState({min:0,max:1e3}),[i,o]=B.useState(null),[d,c]=B.useState(null),[u,g]=B.useState(null),[p,f]=B.useState(!1),[h,b]=B.useState(null),[v,x]=B.useState([{id:"PO-20250101",productName:"护肤精油套装30ML",supplier:"浙江美妆有限公司",marketplace:"1688",quantity:100,price:45,totalAmount:4500,status:"已发货",orderDate:"2025-01-10",deliveryDate:"2025-01-12",trackingNumber:"SF123456789"},{id:"PO-20250102",productName:"面膜贴片100片装",supplier:"广州美妆批发",marketplace:"阿里巴巴",quantity:500,price:8,totalAmount:4e3,status:"处理中",orderDate:"2025-01-15",deliveryDate:"待定",trackingNumber:"-"}]),[m,y]=B.useState({productName:"",supplier:"",quantity:"",price:"",marketplace:""}),j=[{id:"1",name:"护肤精油套装30ML",price:45,supplier:"浙江美妆有限公司",marketplace:"1688",rating:4.8,sales:12500,image:"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=150&h=150&fit=crop"},{id:"2",name:"面膜贴片100片装",price:8,supplier:"广州美妆批发",marketplace:"阿里巴巴",rating:4.7,sales:28900,image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=150&h=150&fit=crop"},{id:"3",name:"精华液50ML",price:22,supplier:"上海美妆集团",marketplace:"1688",rating:4.9,sales:8650,image:"https://images.unsplash.com/photo-1556228541-6b06b0f4b9e1?w=150&h=150&fit=crop"}],k=[{id:"1-1688",productName:"护肤精油套装30ML",marketplace:"1688",supplier:"浙江美妆有限公司",price:45,rating:4.8,delivery:"2-3天",quantity:"≥1件"},{id:"1-alibaba",productName:"护肤精油套装30ML",marketplace:"阿里巴巴",supplier:"浙江美妆工厂",price:42,rating:4.7,delivery:"3-5天",quantity:"≥5件"},{id:"1-douyin",productName:"护肤精油套装30ML",marketplace:"抖音电商",supplier:"浙江美妆零售",price:48,rating:4.6,delivery:"1-2天",quantity:"≥1件"},{id:"1-jd",productName:"护肤精油套装30ML",marketplace:"京东",supplier:"京东自营",price:50,rating:4.9,delivery:"次日达",quantity:"≥1件"},{id:"2-alibaba",productName:"面膜贴片100片装",marketplace:"阿里巴巴",supplier:"广州美妆批发",price:8,rating:4.7,delivery:"2-3天",quantity:"≥1件"},{id:"2-1688",productName:"面膜贴片100片装",marketplace:"1688",supplier:"广州美妆工厂",price:6.5,rating:4.5,delivery:"3-5天",quantity:"≥10件"},{id:"2-douyin",productName:"面膜贴片100片装",marketplace:"抖音电商",supplier:"广州美妆直供",price:9,rating:4.8,delivery:"1-2天",quantity:"≥1件"}],S=[{id:"s1",name:"浙江美妆有限公司",rating:4.8,products:450,response_time:"2小时",location:"杭州"},{id:"s2",name:"广州美妆批发",rating:4.7,products:680,response_time:"4小时",location:"广州"},{id:"s3",name:"上海美妆集团",rating:4.9,products:320,response_time:"1小时",location:"上海"}],N=j.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())&&w.price>=a.min&&w.price<=a.max),A=w=>k.filter(E=>E.productName===w),_=w=>{const E=A(w);if(E.length===0)return null;const F=E.map(G=>G.price),O=Math.min(...F),z=Math.max(...F),q=F.reduce((G,M)=>G+M,0)/F.length;return{minPrice:O,maxPrice:z,avgPrice:q,savingPercent:Math.round((z-O)/z*100)}},C=async()=>{if(!s.trim()){b("请输入产品名称");return}f(!0),b(null),g(null);try{const w=await N2(s);w?(g(w),b(null)):(b(`未找到 "${s}" 的价格信息，请尝试搜索其他产品`),g(null))}catch{b("查询出错，请重试"),g(null)}finally{f(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"智能采购助手"}),r.jsx("p",{className:"text-gray-600",children:"智能供应商匹配和产品采购 + 多平台比价系统"})]}),r.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:["search","compare","suppliers","orders","analytics"].map(w=>r.jsxs("button",{onClick:()=>t(w),className:`px-4 py-2 font-medium whitespace-nowrap ${e===w?"border-b-2 border-purple-500 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[w==="search"&&"产品搜索",w==="compare"&&"比价系统",w==="suppliers"&&"供应商",w==="orders"&&"订单",w==="analytics"&&"分析"]},w))}),e==="search"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"产品搜索"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"产品名称"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",value:s,onChange:w=>n(w.target.value),placeholder:"搜索产品...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"价格范围"}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("input",{type:"number",value:a.min,onChange:w=>l({...a,min:Number(w.target.value)}),placeholder:"最低",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),r.jsx("span",{className:"text-gray-600",children:"至"}),r.jsx("input",{type:"number",value:a.max,onChange:w=>l({...a,max:Number(w.target.value)}),placeholder:"最高",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"})]})]}),r.jsxs("button",{onClick:C,disabled:p,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 transition-colors font-medium flex items-center justify-center gap-2",children:[r.jsx(Be,{className:"w-4 h-4"}),p?"查询中...":"全网查询价格"]})]})]}),h&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{className:"w-5 h-5 text-red-600"}),r.jsx("p",{className:"text-red-700 font-medium",children:h})]})}),u&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"全网价格查询结果"}),r.jsxs("span",{className:"text-xs text-gray-600",children:["查询时间: ",u.queryTime]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4",children:[r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最低价"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["￥",u.minPrice]})]}),r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最高价"}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["￥",u.maxPrice]})]}),r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"平均价"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["￥",u.avgPrice]})]}),r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"价格差"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["￥",u.maxPrice-u.minPrice]})]}),r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"可省"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[Math.round((u.maxPrice-u.minPrice)/u.maxPrice*100),"%"]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200 p-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Bo,{className:"w-5 h-5 text-green-600"}),"最佳采购推荐"]}),r.jsxs("div",{className:"bg-white rounded p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"font-semibold text-gray-900",children:[u.bestDeal.marketplace," - ",u.bestDeal.supplier]}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["￥",u.bestDeal.price]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs text-gray-600",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"评分: "}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[u.bestDeal.rating,"分"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"发货"}),r.jsx("p",{className:"font-semibold text-gray-900",children:u.bestDeal.delivery})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"起订"}),r.jsx("p",{className:"font-semibold text-gray-900",children:u.bestDeal.quantity})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4",children:["全平台价格对比 (",u.results.length,"个)"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 px-3 font-semibold",children:"平台"}),r.jsx("th",{className:"text-left py-2 px-3 font-semibold",children:"供应商"}),r.jsx("th",{className:"text-right py-2 px-3 font-semibold",children:"价格"}),r.jsx("th",{className:"text-center py-2 px-3 font-semibold",children:"评分"}),r.jsx("th",{className:"text-center py-2 px-3 font-semibold",children:"发货"}),r.jsx("th",{className:"text-center py-2 px-3 font-semibold",children:"起订"})]})}),r.jsx("tbody",{children:u.results.map((w,E)=>r.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[r.jsx("td",{className:"py-2 px-3 font-medium text-purple-600",children:w.marketplace}),r.jsx("td",{className:"py-2 px-3 text-gray-700",children:w.supplier}),r.jsxs("td",{className:"py-2 px-3 text-right font-bold text-gray-900",children:["￥",w.price]}),r.jsxs("td",{className:"py-2 px-3 text-center",children:[r.jsx("span",{className:"text-yellow-500"})," ",w.rating]}),r.jsx("td",{className:"py-2 px-3 text-center text-gray-600",children:w.delivery}),r.jsx("td",{className:"py-2 px-3 text-center text-gray-600",children:w.quantity})]},E))})]})})]})]}),!u&&!h&&r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"热门搜索"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:w2().map(w=>r.jsx("button",{onClick:()=>{n(w)},className:"px-3 py-1 bg-purple-100 text-purple-600 rounded hover:bg-purple-200 transition-colors text-sm font-medium",children:w},w))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["本地搜索结果 (",N.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(w=>r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("img",{src:w.image,alt:w.name,className:"w-full h-32 object-cover"}),r.jsxs("div",{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:w.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.supplier}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("span",{className:"font-bold text-purple-600",children:["￥",w.price]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),r.jsx("span",{className:"text-sm font-medium",children:w.rating})]})]}),r.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["销量: ",w.sales.toLocaleString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"flex-1 py-2 bg-purple-100 text-purple-600 rounded hover:bg-purple-200 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[r.jsx(ln,{className:"w-4 h-4"}),"采购"]}),r.jsx("button",{onClick:()=>{o(w.name),t("compare")},className:"flex-1 py-2 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 transition-colors text-sm font-medium",children:"比价"})]})]})]},w.id))})]})]}),e==="compare"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"多平台货源对比"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择商品"}),r.jsxs("select",{value:i||"",onChange:w=>o(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"-- 选择商品进行比价 --"}),j.map(w=>r.jsx("option",{value:w.name,children:w.name},w.id))]})]}),i&&(()=>{const w=A(i),E=_(i),F=(O,z)=>{const q=z/O.price*100*.4,G=O.rating/5*100*.3;let M=O.delivery==="1-2天"?100:O.delivery==="2-3天"?90:80;return M*=.3,Math.round(q+G+M)};return r.jsx("div",{className:"space-y-6",children:E&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最低价"}),r.jsxs("p",{className:"text-xl font-bold text-green-600",children:["￥",E.minPrice]}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"最佳选择"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border border-red-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最高价"}),r.jsxs("p",{className:"text-xl font-bold text-red-600",children:["￥",E.maxPrice]}),r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"避免选择"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"平均价"}),r.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["￥",E.avgPrice.toFixed(1)]}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"市场均价"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"价差范围"}),r.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["￥",(E.maxPrice-E.minPrice).toFixed(1)]}),r.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"可节省"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"最大优惠"}),r.jsxs("p",{className:"text-xl font-bold text-purple-600",children:[E.savingPercent,"%"]}),r.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"省钱比例"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"排名"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"平台"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"供应商"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"价格"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"评分"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"发货时间"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"起购量"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"综合评分"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"操作"})]})}),r.jsx("tbody",{children:w.sort((O,z)=>O.price-z.price).map((O,z)=>{const q=O.price===E.minPrice,G=F(O,E.minPrice);return r.jsxs("tr",{className:`border-b border-gray-100 hover:bg-blue-50 transition-colors ${q?"bg-green-50":""}`,children:[r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:z===0?r.jsxs("span",{className:"bg-gold-100 text-gold-700 px-2 py-1 rounded-full text-xs font-bold",children:["第",z+1]}):r.jsxs("span",{className:"text-gray-600 font-semibold",children:["第",z+1]})})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:O.marketplace})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"text-gray-700 text-sm",children:O.supplier})}),r.jsx("td",{className:"py-4 px-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["￥",O.price]}),q&&r.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-semibold px-2 py-1 rounded",children:"最低"}),z===1&&r.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs font-semibold px-2 py-1 rounded",children:"次选"})]})}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx("span",{className:"text-yellow-400"}),r.jsx("span",{className:"font-medium",children:O.rating})]})}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsx("span",{className:`text-sm font-medium ${O.delivery==="1-2天"?"text-green-600":"text-gray-700"}`,children:O.delivery})}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsx("span",{className:"text-gray-700 text-sm",children:O.quantity})}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-purple-600",children:G})})})}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white rounded text-sm font-medium hover:bg-purple-700 transition-colors",children:"采购"})})]},O.id)})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg p-4 border border-blue-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"价格优势分析"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-700",children:["最低价与平均价差：",r.jsxs("span",{className:"font-bold text-blue-600",children:["￥",(E.avgPrice-E.minPrice).toFixed(1)]})]}),r.jsxs("p",{className:"text-sm text-gray-700",children:["低于平均价平台数：",r.jsxs("span",{className:"font-bold text-green-600",children:[w.filter(O=>O.price<E.avgPrice).length," 个"]})]}),r.jsxs("p",{className:"text-sm text-gray-700",children:["价格波动范围：",r.jsxs("span",{className:"font-bold text-orange-600",children:[E.savingPercent,"%"]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-4 border border-green-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"评价质量分析"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-700",children:["平均评分：",r.jsx("span",{className:"font-bold text-green-600",children:(w.reduce((O,z)=>O+z.rating,0)/w.length).toFixed(2)})]}),r.jsxs("p",{className:"text-sm text-gray-700",children:["高评分平台(≥4.8)：",r.jsxs("span",{className:"font-bold",children:[w.filter(O=>O.rating>=4.8).length," 个"]})]}),r.jsxs("p",{className:"text-sm text-gray-700",children:["快速发货(≤2天)：",r.jsxs("span",{className:"font-bold text-blue-600",children:[w.filter(O=>O.delivery==="1-2天").length," 个"]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"采购建议"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-700 font-semibold",children:"优先选择："}),r.jsx("p",{className:"text-sm text-purple-700",children:"价格最低且评分高的平台"}),r.jsx("p",{className:"text-sm text-gray-700 font-semibold mt-2",children:"替代选择："}),r.jsx("p",{className:"text-sm text-purple-700",children:"次低价但发货快的平台"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"采购决策建议"}),r.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("li",{children:["• 最优方案：选择价格最低的平台（节省￥",(E.maxPrice-E.minPrice).toFixed(1),"）"]}),r.jsx("li",{children:"• 平衡方案：选择评分最高且价格接近的平台"}),r.jsx("li",{children:"• 快速方案：优先选择发货时间为1-2天的平台"}),r.jsx("li",{children:"• 分散风险：多个平台分批采购，降低供应风险"})]})]})]})})})()]})}),e==="suppliers"&&r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"认证供应商"}),r.jsx("div",{className:"space-y-4",children:S.map(w=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-purple-300 transition-colors",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),r.jsx("p",{className:"text-sm text-gray-600",children:w.location})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xe,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),r.jsx("span",{className:"font-semibold",children:w.rating})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"产品数"}),r.jsx("p",{className:"font-semibold",children:w.products})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"响应时间"}),r.jsx("p",{className:"font-semibold",children:w.response_time})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"状态"}),r.jsx("p",{className:"font-semibold text-green-600",children:"已认证"})]})]}),r.jsx("button",{className:"w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm font-medium",children:"查看供应商"})]},w.id))})]}),e==="orders"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"总订单数"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:v.length}),r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"全部订单"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"已发货"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:v.filter(w=>w.status==="已发货").length}),r.jsx("p",{className:"text-xs text-green-600 mt-2",children:"在途订单"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"处理中"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:v.filter(w=>w.status==="处理中").length}),r.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"待处理"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"总金额"}),r.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["￥",v.reduce((w,E)=>w+E.totalAmount,0).toLocaleString()]}),r.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"采购总额"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"创建采购订单"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"产品名称"}),r.jsx("input",{type:"text",value:m.productName,onChange:w=>y({...m,productName:w.target.value}),placeholder:"输入产品名称",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"供应商"}),r.jsx("input",{type:"text",value:m.supplier,onChange:w=>y({...m,supplier:w.target.value}),placeholder:"输入供应商名称",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"数量"}),r.jsx("input",{type:"number",value:m.quantity,onChange:w=>y({...m,quantity:w.target.value}),placeholder:"输入数量",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"单价"}),r.jsx("input",{type:"number",value:m.price,onChange:w=>y({...m,price:w.target.value}),placeholder:"输入单价",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"平台"}),r.jsxs("select",{value:m.marketplace,onChange:w=>y({...m,marketplace:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"选择平台"}),r.jsx("option",{value:"1688",children:"1688"}),r.jsx("option",{value:"阿里巴巴",children:"阿里巴巴"}),r.jsx("option",{value:"抖音电商",children:"抖音电商"}),r.jsx("option",{value:"京东",children:"京东"})]})]})]}),r.jsx("button",{onClick:()=>{if(m.productName&&m.supplier&&m.quantity&&m.price){const w={id:`PO-${Date.now()}`,...m,quantity:parseInt(m.quantity),price:parseFloat(m.price),totalAmount:parseInt(m.quantity)*parseFloat(m.price),status:"待提交",orderDate:new Date().toLocaleDateString("zh-CN"),deliveryDate:"待定",trackingNumber:"-"};x([...v,w]),y({productName:"",supplier:"",quantity:"",price:"",marketplace:""})}},className:"w-full mt-4 py-2 px-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-colors font-medium",children:"创建订单"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"采购订单列表"}),v.length===0?r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(ln,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{children:"还没有订单，点击上方创建新订单"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"订单号"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"产品名称"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"供应商"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"数量"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"总金额"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"状态"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"订单日期"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"预计发货"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-900",children:"操作"})]})}),r.jsx("tbody",{children:v.map(w=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-semibold text-purple-600",children:w.id})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-gray-900 font-medium",children:w.productName})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-gray-700",children:w.supplier})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:"font-semibold text-gray-900",children:w.quantity})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("span",{className:"font-bold text-purple-600",children:["￥",w.totalAmount.toLocaleString()]})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${w.status==="已发货"?"bg-green-100 text-green-700":w.status==="处理中"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:w.status})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:"text-gray-700",children:w.orderDate})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:"text-gray-700",children:w.deliveryDate})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("button",{onClick:()=>c(w),className:"text-purple-600 hover:text-purple-700 font-medium text-sm hover:underline",children:"详情"})})]},w.id))})]})})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"采购管理建议"}),r.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[r.jsx("li",{children:"• 定期检查订单状态，及时跟进物流"}),r.jsx("li",{children:"• 建立供应商档案，记录重要信息方便后续采购"}),r.jsx("li",{children:"• 对比多个平台价格，选择最优采购方案"}),r.jsx("li",{children:"• 定时统计采购成本，优化采购策略"})]})]})]}),e==="analytics"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"总支出"}),r.jsx(_t,{className:"w-5 h-5 text-purple-600"})]}),r.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["￥",v.reduce((w,E)=>w+E.totalAmount,0).toLocaleString()]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"累计采购总额"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"订单数"}),r.jsx(Tc,{className:"w-5 h-5 text-purple-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:v.length}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"总订单数"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"采购平台统计"}),r.jsx("div",{className:"space-y-3",children:Array.from(new Set(v.map(w=>w.marketplace))).map(w=>{const E=v.filter(z=>z.marketplace===w).length,F=v.filter(z=>z.marketplace===w).reduce((z,q)=>z+q.totalAmount,0),O=Math.round(E/v.length*100)||0;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:w}),r.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[E," 笔"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full",style:{width:`${O}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["金额: ￥",F.toLocaleString()]})]},w)})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"订单状态分布"}),r.jsx("div",{className:"space-y-3",children:[{status:"待提交",color:"bg-gray-100 text-gray-700"},{status:"处理中",color:"bg-orange-100 text-orange-700"},{status:"已发货",color:"bg-green-100 text-green-700"}].map(w=>{const E=v.filter(F=>F.status===w.status).length;return E>0?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${w.color}`,children:w.status}),r.jsx("span",{className:"text-lg font-bold text-purple-600",children:E})]},w.status):null})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"平均订单价值"}),r.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["￥",v.length>0?Math.round(v.reduce((w,E)=>w+E.totalAmount,0)/v.length):0]}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"单笔平均采购额"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"最常采购产品"}),r.jsx("div",{className:"space-y-2",children:Array.from(new Set(v.map(w=>w.productName))).slice(0,5).map(w=>{const E=v.filter(O=>O.productName===w).length,F=v.filter(O=>O.productName===w).reduce((O,z)=>O+z.totalAmount,0);return r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-700",children:w}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-purple-600",children:[E,"次"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["￥",F]})]})]},w)})})]}),r.jsxs("div",{className:"md:col-span-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"采购成本优化建议"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"最高单价产品"}),r.jsx("p",{className:"font-bold text-blue-600",children:v.length>0?v.reduce((w,E)=>E.price>w.price?E:w).productName:"暂无数据"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"最低单价产品"}),r.jsx("p",{className:"font-bold text-blue-600",children:v.length>0?v.reduce((w,E)=>E.price<w.price?E:w).productName:"暂无数据"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"采购笔数"}),r.jsxs("p",{className:"font-bold text-blue-600",children:[v.length," 笔"]})]})]})]})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 sticky top-0 bg-white",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["订单详情 - ",d.id]}),r.jsx("button",{onClick:()=>c(null),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:"×"})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"订单号"}),r.jsx("p",{className:"font-bold text-gray-900",children:d.id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"订单状态"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${d.status==="已发货"?"bg-green-100 text-green-700":d.status==="处理中"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:d.status})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"下单日期"}),r.jsx("p",{className:"font-semibold text-gray-900",children:d.orderDate})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"预计送达"}),r.jsx("p",{className:"font-semibold text-gray-900",children:d.deliveryDate})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"产品信息"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"产品名称"}),r.jsx("p",{className:"font-semibold text-gray-900",children:d.productName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"采购数量"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[d.quantity," 件"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"单价"}),r.jsxs("p",{className:"font-semibold text-purple-600",children:["￥",d.price]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"总金额"}),r.jsxs("p",{className:"font-bold text-purple-600",children:["￥",d.totalAmount.toLocaleString()]})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"供应商信息"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"供应商名称"}),r.jsx("p",{className:"font-semibold text-gray-900",children:d.supplier})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"采购平台"}),r.jsx("p",{className:"font-semibold text-gray-900",children:d.marketplace})]})]})]}),d.status==="已发货"&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"物流信息"}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"物流追踪号"}),r.jsx("p",{className:"font-bold text-gray-900 mb-3",children:d.trackingNumber}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-green-600 font-bold mr-2"}),r.jsxs("span",{className:"text-gray-700",children:["已发货 - ",d.orderDate]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-blue-600 font-bold mr-2",children:"→"}),r.jsx("span",{className:"text-gray-700",children:"运输中"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-gray-400 font-bold mr-2",children:"◯"}),r.jsxs("span",{className:"text-gray-700",children:["预计 ",d.deliveryDate," 送达"]})]})]})]})]}),r.jsxs("div",{className:"border-t pt-4 flex gap-3",children:[r.jsx("button",{className:"flex-1 py-2 px-4 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-colors font-medium",children:"编辑订单"}),r.jsx("button",{className:"flex-1 py-2 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"取消订单"}),r.jsx("button",{onClick:()=>c(null),className:"flex-1 py-2 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"关闭"})]})]})]})})]})},C2=()=>{const[e,t]=B.useState(null),[s,n]=B.useState("recommendations"),[a,l]=B.useState([{id:"task-1",title:"社交媒体营销活动",description:"为新美容套餐创建并启动社交媒体营销活动",category:"marketing",priority:"high",status:"pending",createdAt:new Date,dueDate:new Date(Date.now()+3*24*60*60*1e3)},{id:"task-2",title:"采购优质护肤产品",description:"从1688、阿里巴巴、拼多多等平台比较价格并谈判最优价格",category:"procurement",priority:"high",status:"in_progress",createdAt:new Date,dueDate:new Date(Date.now()+7*24*60*60*1e3)}]),i=B.useMemo(()=>{const g=a.filter(f=>f.status==="completed"),p=a.filter(f=>f.status!=="completed");return{completedTasks:g,pendingTasks:p,totalImpact:"通过整合营销和采购优化，预计实现35%的业务增长",keyResults:["采购成本下降15-20%","客户互动提升25%","预约确认率提升18%","团队排班效率提升30%"]}},[a]),o=g=>{l(a.map(p=>p.id===g?{...p,status:"completed"}:p))},d=()=>{const g={id:`task-${Date.now()}`,title:"新行动计划",description:"基于当前分析和已完成任务",category:"operations",priority:"medium",status:"pending",createdAt:new Date,dueDate:new Date(Date.now()+12096e5)};l([...a,g])},c=g=>{switch(g){case"high":return"bg-red-100 text-red-800 border-red-300";case"medium":return"bg-amber-100 text-amber-800 border-amber-300";case"low":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800"}},u=g=>{switch(g){case"marketing":return lt;case"procurement":return ws;case"customer":return xe;case"operations":return ud;default:return Be}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"AI助手中心"}),r.jsx("p",{className:"text-green-600 mt-1",children:"整合营销 + 智能采购 + 数据分析"})]}),r.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-green-100 to-green-50 border border-green-300 rounded-lg flex items-center gap-2",children:[r.jsx(Be,{className:"w-5 h-5 text-green-700"}),r.jsxs("span",{className:"text-sm font-medium text-green-900",children:[a.length," 任务活跃"]})]})]}),r.jsxs("div",{className:"flex gap-2 border-b border-green-200 overflow-x-auto",children:[r.jsx("button",{onClick:()=>n("recommendations"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${s==="recommendations"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"数据分析"}),r.jsx("button",{onClick:()=>n("marketing"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${s==="marketing"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"营销助手"}),r.jsx("button",{onClick:()=>n("procurement"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${s==="procurement"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"智能采购"}),r.jsx("button",{onClick:()=>n("tasks"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${s==="tasks"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"任务管理"}),r.jsx("button",{onClick:()=>n("planning"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${s==="planning"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:"任务总结与规划"})]}),s==="recommendations"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-blue-900",children:"数据分析中心"}),r.jsx("p",{className:"text-blue-600 mt-1",children:"AI 驱动的业务数据分析和决策支持"})]})}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-300 p-12 text-center",children:[r.jsx(ws,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"数据分析功能"}),r.jsx("p",{className:"text-gray-600",children:"敬请期待数据分析和智能推荐功能的完整版本"})]})]}),s==="marketing"&&r.jsx(j2,{}),s==="procurement"&&r.jsx(Zp,{}),s==="tasks"&&r.jsx("div",{className:"space-y-4",children:a.map(g=>{const p=u(g.category);return r.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center mt-1",children:r.jsx(p,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:g.title}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium border ${c(g.priority)}`,children:g.priority==="high"?"高":g.priority==="medium"?"中":"低"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium ${g.status==="completed"?"bg-green-100 text-green-700":g.status==="in_progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:g.status==="completed"?"已完成":g.status==="in_progress"?"进行中":"待办"})]})]})]}),g.status!=="completed"&&r.jsx("button",{onClick:()=>o(g.id),className:"px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors text-sm font-medium",children:"完成"})]})},g.id)})}),s==="planning"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-300 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Ze,{className:"w-6 h-6 text-green-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"任务总结与结果"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"已完成任务"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:i.completedTasks.length})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"待办任务"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:i.pendingTasks.length})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200 mb-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"总体影响"}),r.jsx("p",{className:"text-gray-700",children:i.totalImpact})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"关键成果"}),r.jsx("ul",{className:"space-y-2",children:i.keyResults.map((g,p)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ze,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700 text-sm",children:g})]},p))})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-300 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(dr,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"下一步与行动计划"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"1. 加速营销活动"}),r.jsx("p",{className:"text-sm text-gray-700",children:"为高价值客户启动3个新的社交媒体营销活动。预期ROI：200%+"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"2. 扩展采购网络"}),r.jsx("p",{className:"text-sm text-gray-700",children:"添加5个新供应商并谈判批量折扣。预期节省：每月20,000 CNY"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"3. 客户留存计划"}),r.jsx("p",{className:"text-sm text-gray-700",children:"实施忠诚度计划，提供个性化奖励。预期留存率：85%+"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"4. 团队容量规划"}),r.jsx("p",{className:"text-sm text-gray-700",children:"招聘2名额外美容师并实施智能排班。预期效率提升：35%"})]})]}),r.jsxs("button",{onClick:d,className:"w-full mt-4 px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-colors font-bold flex items-center justify-center gap-2",children:[r.jsx(ud,{className:"w-5 h-5"}),"创建新行动计划"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Do,{className:"w-6 h-6 text-green-600"}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"AI对话助手"})]}),r.jsxs("p",{className:"text-gray-700 mb-4",children:["提示：使用界面右下角的 ",r.jsx("span",{className:"font-bold text-green-600",children:"对话悬浮球"})," 与AI进行实时对话，获取营销、采购、数据分析等方面的智能建议。"]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-green-700",children:r.jsx("span",{className:"font-semibold",children:"悬浮球功能包括："})}),r.jsxs("ul",{className:"text-sm text-green-700 mt-2 space-y-1 ml-4",children:[r.jsx("li",{children:"• 实时智能聊天咨询"}),r.jsx("li",{children:"• AI建议和推荐"}),r.jsx("li",{children:"• 快速数据分析"}),r.jsx("li",{children:"• 可拖拽悬浮窗"})]})]})]})]})]})},k2=()=>{const[e,t]=B.useState("courses"),[s,n]=B.useState(null),a=[{id:"1",title:"高端护肤管理体系",level:"初级",duration:"4周",progress:100,instructor:"李国庆",status:"completed"},{id:"2",title:"皮肤问题诊断与解决",level:"中级",duration:"6周",progress:75,instructor:"王美艺",status:"in-progress"},{id:"3",title:"高端客户管理艺术",level:"中级",duration:"4周",progress:45,instructor:"陈思语",status:"in-progress"},{id:"4",title:"美容师晋升成功秘诀",level:"高级",duration:"8周",progress:0,instructor:"张琳琳",status:"not-started"},{id:"5",title:"SPA疗程深度培训",level:"高级",duration:"6周",progress:0,instructor:"刘心怡",status:"not-started"}],l=[{id:"1",title:"周末特训：高端客户维护技巧",instructor:"李美娟",time:"本周六 19:00",viewers:128,status:"upcoming"},{id:"2",title:"直播课程：护肤品推荐技巧",instructor:"王雨晴",time:"今晚 20:00",viewers:245,status:"live"},{id:"3",title:"复盘：本月业绩分析与优化",instructor:"郑可欣",time:"昨天 18:00",viewers:87,status:"ended"}],i=[{id:"1",name:"李美娟",current:"高级美容师",nextLevel:"美容院总监",completedCourses:12,totalRequired:15,score:92,evaluationDate:"2025-11-15",status:"in-progress"},{id:"2",name:"王雨晴",current:"中级美容师",nextLevel:"高级美容师",completedCourses:8,totalRequired:10,score:88,evaluationDate:"2025-11-20",status:"in-progress"},{id:"3",name:"张琳琳",current:"初级美容师",nextLevel:"中级美容师",completedCourses:5,totalRequired:8,score:85,evaluationDate:"2025-12-01",status:"pending"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-green-900",children:"美容师晋升管理"}),r.jsx("p",{className:"text-green-600 mt-1",children:"专业发展与培训平台"})]}),r.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-green-100 to-green-50 border border-green-300 rounded-lg flex items-center gap-2",children:[r.jsx(mr,{className:"w-5 h-5 text-green-700"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"3位在晋升中"})]})]}),r.jsxs("div",{className:"flex gap-2 border-b border-green-200",children:[r.jsxs("button",{onClick:()=>t("courses"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${e==="courses"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:[r.jsx(Cs,{className:"w-4 h-4"}),"课程培训"]}),r.jsxs("button",{onClick:()=>t("live"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${e==="live"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:[r.jsx(Sr,{className:"w-4 h-4"}),"直播学习"]}),r.jsxs("button",{onClick:()=>t("promotion"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${e==="promotion"?"border-b-2 border-green-500 text-green-600":"text-gray-600 hover:text-green-600"}`,children:[r.jsx(_t,{className:"w-4 h-4"}),"晋升管理"]})]}),e==="courses"&&r.jsx("div",{className:"space-y-4",children:a.map(o=>r.jsxs("div",{onClick:()=>n(s===o.id?null:o.id),className:"bg-white rounded-lg border border-green-200 p-6 hover:shadow-md transition-all cursor-pointer card-green",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center",children:r.jsx(Cs,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:o.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:["讲师：",o.instructor]})]})]})}),r.jsx("div",{className:"text-right",children:r.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${o.status==="completed"?"bg-green-100 text-green-700":o.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:o.status==="completed"?"已完成":o.status==="in-progress"?"进行中":"未开始"})})]}),r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:o.level})," • ",r.jsx("span",{children:o.duration})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"学习进度"}),r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[o.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all",style:{width:`${o.progress}%`}})})]}),s===o.id&&r.jsx("div",{className:"pt-4 border-t border-green-200",children:r.jsxs("button",{className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[r.jsx(Ga,{className:"w-4 h-4"}),"继续学习"]})})]},o.id))}),e==="live"&&r.jsx("div",{className:"space-y-4",children:l.map(o=>r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6 card-green",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${o.status==="live"?"bg-red-100":o.status==="upcoming"?"bg-yellow-100":"bg-gray-100"}`,children:r.jsx(Sr,{className:`w-6 h-6 ${o.status==="live"?"text-red-600":o.status==="upcoming"?"text-yellow-600":"text-gray-600"}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:o.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:["讲师：",o.instructor]})]})]})}),r.jsxs("div",{className:"text-right",children:[o.status==="live"&&r.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full animate-pulse",children:[r.jsx("span",{className:"w-2 h-2 bg-red-700 rounded-full"}),"直播中"]}),o.status==="upcoming"&&r.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:[r.jsx(Ht,{className:"w-3 h-3"}),"即将开始"]}),o.status==="ended"&&r.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"已结束"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600",children:o.time}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(xe,{className:"w-4 h-4"}),r.jsxs("span",{children:[o.viewers," 人观看"]})]})]}),o.status==="live"&&r.jsxs("button",{className:"w-full mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[r.jsx(Ga,{className:"w-4 h-4"}),"进入直播间"]}),o.status==="upcoming"&&r.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"提前预约"})]},o.id))}),e==="promotion"&&r.jsx("div",{className:"space-y-4",children:i.map(o=>r.jsxs("div",{className:"bg-white rounded-lg border border-green-200 p-6 card-green",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.name}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o.current," → ",o.nextLevel]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.score}),r.jsx("div",{className:"text-xs text-gray-500",children:"评估成绩"})]})]}),r.jsxs("div",{className:"mb-4 p-4 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:"课程完成进度"}),r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[o.completedCourses,"/",o.totalRequired]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all",style:{width:`${o.completedCourses/o.totalRequired*100}%`}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{children:"评估日期："}),r.jsx("span",{className:"font-medium",children:o.evaluationDate})]}),r.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${o.status==="ready"?"bg-green-100 text-green-700":o.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:o.status==="ready"?"准备评估":o.status==="in-progress"?"晋升中":"待开始"})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("button",{className:"flex-1 px-4 py-2 bg-green-100 text-green-700 hover:bg-green-200 rounded-lg text-sm font-medium transition-colors",children:"查看计划"}),r.jsx("button",{className:"flex-1 px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded-lg text-sm font-medium transition-colors",children:"下次评估"})]})]},o.id))})]})},S2="bddc38fc438e478cac87712b13d7a68f.KDOj6fpAoEOb8slt",E2="https://open.bigmodel.cn/api/paas/v4/chat/completions",A2="glm-4.5-flash";class B2{constructor(){he(this,"conversationHistory",[]);he(this,"maxHistoryLength",10);he(this,"useDemoMode",!1);he(this,"demoResponses",{客户:"根据系统数据分析，您目前有 45 名活跃客户。其中 8 名高风险客户需要关注（30 天未预约）。建议通过回访和特殊优惠来提高客户留存。",预约:"本月已完成 87 个预约，确认率 92%。高峰时段为 10:00-12:00 和 14:00-16:00。建议在这些时段增加员工排班。",员工:"李美容师表现最好，完成 24 个预约。王美容师满意度评分 4.8。建议建立员工激励计划。",销售:"本月销售收入 ¥28,500，环比增长 15%。热销产品为面部护理套装（销量 34 件）。",营销:"社交媒体推广 ROI 最高（250%），新客体验优惠转化率 22%。建议继续加大这两项投入。",排班:"根据预约数据，建议周一至周五增加排班，周末可保持现有安排。李、王、张三位美容师可轮流休息。",定价:"当前面部护理价格 168 元，建议根据竞对保持不变。深层清洁价格 128 元可提升至 148 元。",分析:"系统分析显示，您的业务总体健康。需要关注：(1) 高风险客户流失 (2) 周一预约不足 (3) 产品销售季节性波动。"})}async chat(t){try{if(this.conversationHistory.push({role:"user",content:t}),this.conversationHistory.length>this.maxHistoryLength&&(this.conversationHistory=this.conversationHistory.slice(-this.maxHistoryLength)),this.useDemoMode)return this.getDemoResponse(t);try{return await this.callGLMAPI(t)}catch(s){return console.warn("GLM API 调用失败，切换到演示模式:",s),this.useDemoMode=!0,this.getDemoResponse(t)}}catch(s){throw console.error("AI 服务错误:",s.message),new Error(`AI 服务错误: ${s.message}`)}}async callGLMAPI(t){const n=await de.post(E2,{model:A2,messages:[{role:"system",content:`你是一个美容院管理系统的AI助手。你的职责是帮助美容院员工管理业务。

【重要限制】
你只能回答以下两类问题：
1. 美容行业相关问题（美容服务、护肤知识、美容产品、行业最佳实践等）
2. 系统功能问题（如何预约、客户管理、员工排班、产品管理、数据分析等）

【禁止回答】
- 数学、科学、历史等与美容行业无关的问题
- 政治、宗教等敏感话题
- 任何其他领域的问题

【回答规则】
- 如果问题不相关，礼貌地拒绝并提示用户：'抱歉，我只能帮助您解决美容院相关问题或系统使用问题。'
- 如果是美容相关，提供专业的建议
- 如果是系统功能相关，解释如何使用该功能

【可用功能】
- 预约管理：帮助客户预约美容服务
- 客户管理：管理客户信息和历史
- 员工排班：优化员工工作安排
- 产品管理：管理美容产品库存
- 数据分析：分析营业数据
- 服务定价：提供定价建议
- 营销方案：生成营销文案`},...this.conversationHistory],temperature:.7,top_p:.7,max_tokens:1e3},{headers:{Authorization:S2,"Content-Type":"application/json"},timeout:15e3}),a=n.data.choices[0].message.content;return this.conversationHistory.push({role:"assistant",content:a}),{content:a,usage:n.data.usage}}getDemoResponse(t){let s="我是美容院AI助手的演示版本。";for(const[n,a]of Object.entries(this.demoResponses))if(t.includes(n)){s=a;break}return s==="我是美容院AI助手的演示版本。"&&(s=`您问了关于"${t}"的问题。

在演示模式中，我可以为您展示系统的AI功能。您可以问我：
• 关于客户数据的问题
• 员工排班优化建议
• 销售和预约分析
• 营销活动ROI分析
• 服务定价建议

实时API模式需要配置有效的 GLM API Key。`),this.conversationHistory.push({role:"assistant",content:s}),{content:s,usage:void 0}}clearHistory(){this.conversationHistory=[]}async analyzeLossRisk(t){const s=`
    您是一位美容院管理专家。请分析以下客户数据，评估客户流失风险。
    
    客户数据:
    ${JSON.stringify(t,null,2)}
    
    请提供以下信息（用JSON格式返回）：
    {
      "riskLevel": "高/中/低",
      "riskScore": 0-100,
      "riskAnalysis": "风险原因分析",
      "recommendations": ["建议1", "建议2", "建议3"]
    }
    `;try{const n=await this.chat(s),a=n.content.match(/\{[\s\S]*\}/);if(a){const l=JSON.parse(a[0]);return{type:"risk",content:`风险等级: ${l.riskLevel}
分析: ${l.riskAnalysis}`,recommendations:l.recommendations||[],score:l.riskScore}}return{type:"risk",content:n.content,recommendations:[]}}catch(n){throw console.error("流失风险分析错误:",n.message),n}}async optimizeSchedule(t){const s=`
    您是一位美容院经营管理顾问。根据以下预约数据，建议最优的员工排班安排。
    
    预约数据:
    ${JSON.stringify(t,null,2)}
    
    请提供以下信息（用JSON格式返回）：
    {
      "optimalSchedule": "具体排班建议",
      "costSavings": "预计成本节省",
      "satisfactionScore": 80-100,
      "recommendations": ["建议1", "建议2", "建议3"]
    }
    `;try{const n=await this.chat(s),a=n.content.match(/\{[\s\S]*\}/);if(a){const l=JSON.parse(a[0]);return{type:"scheduling",content:`${l.optimalSchedule}
成本节省: ${l.costSavings}`,recommendations:l.recommendations||[],score:l.satisfactionScore}}return{type:"scheduling",content:n.content,recommendations:[]}}catch(n){throw console.error("排班优化错误:",n.message),n}}async suggestPricing(t){const s=`
    您是一位美容行业定价策略专家。根据以下市场数据和服务信息，提供动态定价建议。
    
    数据:
    ${JSON.stringify(t,null,2)}
    
    请提供以下信息（用JSON格式返回）：
    {
      "currentOptimal": "当前最优价格",
      "recommendations": ["建议1", "建议2", "建议3"],
      "revenuePotential": "预计收入增长",
      "strategy": "定价策略说明"
    }
    `;try{const n=await this.chat(s),a=n.content.match(/\{[\s\S]*\}/);if(a){const l=JSON.parse(a[0]);return{type:"pricing",content:`最优价格: ${l.currentOptimal}
策略: ${l.strategy}`,recommendations:l.recommendations||[]}}return{type:"pricing",content:n.content,recommendations:[]}}catch(n){throw console.error("定价建议错误:",n.message),n}}async generateMarketingCopy(t){const s=`
    您是一位优秀的美容行业营销文案专家。为以下美容服务/产品生成吸引人的营销文案。
    
    产品信息:
    ${JSON.stringify(t,null,2)}
    
    请生成：
    1. 一个吸引人的标题
    2. 3-5个核心卖点
    3. 一段行动号召文案
    
    使用简洁、有力的语言。
    `;try{return(await this.chat(s)).content}catch(n){throw console.error("营销文案生成错误:",n.message),n}}async beautyConsultation(t){try{return(await this.chat(t)).content}catch(s){throw console.error("美容咨询错误:",s.message),s}}getHistory(){return this.conversationHistory}getHistoryLength(){return this.conversationHistory.length}setDemoMode(t){this.useDemoMode=t}isDemoMode(){return this.useDemoMode}}const ra=new B2,F2="bddc38fc438e478cac87712b13d7a68f.KDOj6fpAoEOb8slt",D2="https://open.bigmodel.cn/api/paas/v4/chat/completions",_2="glm-4.5-flash";var yu,vu,bu,ju,Nu,wu,Cu,ku,Su,Eu,Au,Bu,Fu,Du,_u,Pu,Tu,Ru,Iu,Mu,Ou,$u,Lu,zu,Hu,Uu,qu,Vu,Wu,Ku,Gu,Qu,Ju,Xu,Yu,Zu,ex,tx,rx,sx,nx,ax;class P2{constructor(){he(this,"conversationHistory",[]);he(this,"maxHistoryLength",10);he(this,"systemData",{});he(this,"useDemoMode",!1);he(this,"demoRecommendations",{风险:`【高风险客户分析报告】

分析对象：${((vu=(yu=this.systemData.customers)==null?void 0:yu.highRiskCustomers)==null?void 0:vu.length)||0} 名高风险客户

主要问题：
1. 客户流失率 ${((bu=this.systemData.customers)==null?void 0:bu.churnRate)||0}% 需要关注
2. 30天未预约的客户：${((Nu=(ju=this.systemData.customers)==null?void 0:ju.highRiskCustomers)==null?void 0:Nu.map(t=>t.name).join("、"))||"无"}

建议方案：
• 立即回访高风险客户，了解不满意原因
• 提供特殊优惠（如首次消费返现20%）
• 推出VIP客户保留计划
• 建立客户满意度反馈机制

预期效果：
- 客户留存率提升 15-20%
- 流失率降低 5-8%`,排班:`【员工排班优化建议】

当前数据分析：
- 本月预约总数：${((wu=this.systemData.appointments)==null?void 0:wu.totalThisMonth)||0}
- 高峰时段：${((ku=(Cu=this.systemData.appointments)==null?void 0:Cu.peakHours)==null?void 0:ku.join("、"))||"10:00-12:00, 14:00-16:00"}
- 平均预约时长：${((Su=this.systemData.appointments)==null?void 0:Su.averageDuration)||60}分钟

员工表现排行：
${((Au=(Eu=this.systemData.staff)==null?void 0:Eu.performanceRanking)==null?void 0:Au.slice(0,3).map((t,s)=>`${s+1}. ${t.name} - 完成${t.appointmentsCompleted}个预约，确认率${t.confirmationRate}%`).join(`
`))||"待更新"}

优化建议：
• 高峰时段(10:00-12:00, 14:00-16:00)增加排班人数
• 表现优秀员工(${(Du=(Fu=(Bu=this.systemData.staff)==null?void 0:Bu.performanceRanking)==null?void 0:Fu[0])==null?void 0:Du.name})安排在高峰时段
• 周一至周五排班密集，周末可适当减少
• 建议排班周期为2周循环

预期收益：
- 预约确认率提升 8-12%
- 客户满意度提升 10%`,定价:`【动态定价策略建议】

销售数据分析：
- 本月总收入：¥${((_u=this.systemData.sales)==null?void 0:_u.revenueThisMonth)||0}
- 增长率：${((Pu=this.systemData.sales)==null?void 0:Pu.growth)||0}%
- 热销TOP3产品：
${((Ru=(Tu=this.systemData.sales)==null?void 0:Tu.topProducts)==null?void 0:Ru.slice(0,3).map(t=>`  • ${t.name}: 销量${t.sales}件，收入¥${t.revenue}`).join(`
`))||"  数据待更新"}

定价建议：
• 热销产品(销量>20件)可提价5-8%
• 冷门产品(销量<5件)可打折或捆绑销售
• 建议推出"低价引流+高价转化"的产品组合
• VIP客户提供专属定价折扣

预期效果：
- 整体收入增长 12-18%
- 产品销售均匀度提升 25%`,营销:`【营销活动ROI分析与优化】

当前营销数据：
活动投入与效果分析：
${((Mu=(Iu=this.systemData.marketing)==null?void 0:Iu.activeActivities)==null?void 0:Mu.map(t=>`• ${t.name}: 投入¥${t.cost}，ROI${t.roi}%，转化${t.conversions}人`).join(`
`))||`• 社交媒体推广: 投入¥2000，ROI250%，转化15人
• 新客体验优惠: 投入¥3000，ROI180%，转化22人`}

优化建议：
• 加大ROI最高活动(${((Lu=($u=(Ou=this.systemData.marketing)==null?void 0:Ou.activeActivities)==null?void 0:$u.sort((t,s)=>s.roi-t.roi)[0])==null?void 0:Lu.name)||"社交媒体推广"})的投入
• 停止或改进ROI低于100%的活动
• 尝试新渠道：抖音、小红书等短视频平台
• 建立转介绍计划，提高客户转化率

预期收益：
- 市场营销ROI提升 40-60%
- 新客获取成本降低 25%`,建议:`【完整智能运营建议报告】

═══════════════════════════════
综合业务评估 (${new Date().toLocaleDateString()})
═══════════════════════════════

【客户管理现状】
 总客户数: ${((zu=this.systemData.customers)==null?void 0:zu.total)||0}名
 流失率: ${((Hu=this.systemData.customers)==null?void 0:Hu.churnRate)||0}% (目标<10%)
 高风险客户: ${((qu=(Uu=this.systemData.customers)==null?void 0:Uu.highRiskCustomers)==null?void 0:qu.length)||0}名需关注

优先级1 - 高风险客户流失预警
→ 立即行动: 逐一回访高风险客户
→ 预期效果: 留存率↑15-20%

【预约运营现状】
 月预约数: ${((Vu=this.systemData.appointments)==null?void 0:Vu.totalThisMonth)||0}
 确认率: ${((Wu=this.systemData.appointments)==null?void 0:Wu.confirmationRate)||0}%
 爽约率: ${((Ku=this.systemData.appointments)==null?void 0:Ku.noShowRate)||0}% (应<5%)

优先级2 - 高峰时段排班优化
→ 关键时段: ${((Qu=(Gu=this.systemData.appointments)==null?void 0:Gu.peakHours)==null?void 0:Qu.join("、"))||"10:00-12:00, 14:00-16:00"}
→ 建议行动: 高峰时段增加排班
→ 预期效果: 确认率↑10-12%, 客户满意度↑8%

【员工管理现状】
 在职员工: ${((Ju=this.systemData.staff)==null?void 0:Ju.activeStaff)||0}/${((Xu=this.systemData.staff)==null?void 0:Xu.total)||0}
 表现最好: ${(ex=(Zu=(Yu=this.systemData.staff)==null?void 0:Yu.performanceRanking)==null?void 0:Zu[0])==null?void 0:ex.name} (${(sx=(rx=(tx=this.systemData.staff)==null?void 0:tx.performanceRanking)==null?void 0:rx[0])==null?void 0:sx.appointmentsCompleted}个预约)

优先级3 - 员工绩效提升
→ 行动: 建立员工激励制度
→ 预期效果: 服务质量↑15%, 客户满意度↑10%

【财务运营现状】
 本月收入: ¥${((nx=this.systemData.sales)==null?void 0:nx.revenueThisMonth)||0}
 增长率: ${((ax=this.systemData.sales)==null?void 0:ax.growth)||0}%

优先级4 - 收入增长策略
→ 方案: 热销产品提价5-8%, 冷门产品打折促销
→ 预期效果: 整体收入↑12-18%

【总体建议执行计划】
第1周: 完成高风险客户回访，制定留存方案
第2周: 优化排班表，减少高峰时段爽约
第3周: 推行新定价策略，监测销售数据
第4周: 启动员工激励计划，总结运营数据

预计总体效果提升: 30-50%`})}setSystemData(t){this.systemData=t}getDataSummary(){var o,d,c,u,g;const{customers:t,appointments:s,staff:n,sales:a,marketing:l}=this.systemData;return`
【当前系统数据摘要】

客户数据:
- 总客户数: ${(t==null?void 0:t.total)||"未知"}
- 本月新增: ${(t==null?void 0:t.newThisMonth)||0}
- 客户流失率: ${(t==null?void 0:t.churnRate)||0}%
- 活跃客户: ${(t==null?void 0:t.activeCustomers)||"未知"}
- VIP客户: ${(t==null?void 0:t.vipCustomers)||0}
- 高风险客户: ${((o=t==null?void 0:t.highRiskCustomers)==null?void 0:o.length)||0} 位（30天未预约）

预约数据:
- 本月预约总数: ${(s==null?void 0:s.totalThisMonth)||"未知"}
- 预约确认率: ${(s==null?void 0:s.confirmationRate)||0}%
- 高峰时段: ${((d=s==null?void 0:s.peakHours)==null?void 0:d.join("、"))||"未知"}
- 平均预约时长: ${(s==null?void 0:s.averageDuration)||0}分钟
- 爽约率: ${(s==null?void 0:s.noShowRate)||0}%

员工数据:
- 总员工数: ${(n==null?void 0:n.total)||"未知"}
- 在职员工: ${(n==null?void 0:n.activeStaff)||"未知"}
${((c=n==null?void 0:n.performanceRanking)==null?void 0:c.slice(0,3).map((p,f)=>`- 员工${f+1}: ${p.name}，完成${p.appointmentsCompleted}个预约，确认率${p.confirmationRate}%`).join(`
`))||""}

销售数据:
- 总收入: ¥${(a==null?void 0:a.totalRevenue)||0}
- 本月收入: ¥${(a==null?void 0:a.revenueThisMonth)||0}
- 增长率: ${(a==null?void 0:a.growth)||0}%
${((u=a==null?void 0:a.topProducts)==null?void 0:u.slice(0,3).map(p=>`- 热销产品: ${p.name}，销售${p.sales}件，收入¥${p.revenue}`).join(`
`))||""}

营销数据:
${((g=l==null?void 0:l.activeActivities)==null?void 0:g.map(p=>`- 活动: ${p.name}，投入¥${p.cost}，ROI${p.roi}%，转化${p.conversions}次`).join(`
`))||"无活动"}
    `.trim()}async chat(t){try{if(this.conversationHistory.push({role:"user",content:t}),this.conversationHistory.length>this.maxHistoryLength&&(this.conversationHistory=this.conversationHistory.slice(-this.maxHistoryLength)),this.useDemoMode)return this.getDemoResponse(t);try{return await this.callGLMAPI(t)}catch(s){return console.warn("Enhanced AI 服务 API 失败，切换到演示模式:",s),this.useDemoMode=!0,this.getDemoResponse(t)}}catch(s){throw console.error("增强 AI 服务错误:",s.message),new Error(`增强 AI 服务错误: ${s.message}`)}}async callGLMAPI(t){const s=`你是一个美容院智能管理助手，拥有实时系统数据访问权。你的职责是帮助美容院经营者做出数据驱动的决策。

${this.getDataSummary()}

【您的职责】
1. 分析提供的系统数据，识别业务机遇和问题
2. 提供基于数据的具体建议和行动方案
3. 优先关注高风险客户和流失预警
4. 推荐营销活动优化和成本控制
5. 提出员工管理改进建议

【重要限制】
你只能回答以下三类问题：
1. 基于系统数据的业务分析和建议
2. 美容行业最佳实践
3. 系统功能使用

【禁止回答】
- 与美容院无关的问题
- 数学、科学等无关领域
- 敏感话题

【回答规则】
- 始终引用具体数据支持你的建议
- 提供可执行的行动步骤
- 明确指出预期结果或ROI
- 如果数据不足，明确说明需要哪些信息`,n=await de.post(D2,{model:_2,messages:[{role:"system",content:s},...this.conversationHistory],temperature:.7,top_p:.7,max_tokens:1500},{headers:{Authorization:F2,"Content-Type":"application/json"},timeout:2e4}),a=n.data.choices[0].message.content;return this.conversationHistory.push({role:"assistant",content:a}),{content:a,usage:n.data.usage}}getDemoResponse(t){let s="我在演示模式中。";for(const[n,a]of Object.entries(this.demoRecommendations))if(t.includes(n)||t.includes("请")&&n==="建议"){s=a;break}return s==="我在演示模式中。"&&(s=`关于"${t}"的建议：

在演示模式中，我基于系统数据提供预定义的建议。

您可以询问：
• 高风险客户分析 (点击"流失分析"按钮)
• 员工排班优化 (点击"排班优化"按钮)
• 服务定价建议 (点击"定价建议"按钮)
• 营销活动分析 (点击"营销分析"按钮)
• 完整智能建议 (点击"智能建议报告"按钮)`),this.conversationHistory.push({role:"assistant",content:s}),{content:s,usage:void 0}}async getSmartRecommendations(){const t=`请根据当前系统数据分析，提供以下方面的智能建议：

1. 客户管理：识别风险客户，提出留存策略
2. 预约优化：分析高峰时段，提出排班建议
3. 员工管理：评价员工表现，提出奖励或培训建议
4. 营销策略：分析营销ROI，提出下月营销建议
5. 收入增长：基于销售数据，提出增收方案

请用数据支持每个建议，并明确指出预期效果。`;try{return this.chat(t)}catch(s){return console.error("获取智能建议失败:",s),this.useDemoMode=!0,this.getDemoResponse("完整建议")}}setDemoMode(t){this.useDemoMode=t}isDemoMode(){return this.useDemoMode}clearHistory(){this.conversationHistory=[]}getHistory(){return this.conversationHistory}}const Qt=new P2;class T2{async collectAllData(){try{const[t,s,n,a,l]=await Promise.all([this.collectCustomerData(),this.collectAppointmentData(),this.collectStaffData(),this.collectSalesData(),this.collectMarketingData()]);return{customers:t,appointments:s,staff:n,sales:a,marketing:l}}catch(t){return console.error("数据收集错误:",t),{}}}async collectCustomerData(){try{const t=localStorage.getItem("customers"),s=t?JSON.parse(t):[];if(!s||s.length===0)return{total:0,newThisMonth:0,churnRate:0,activeCustomers:0,vipCustomers:0,highRiskCustomers:[]};const n=new Date,a=new Date(n.getTime()-30*24*60*60*1e3),l=new Date(n.getTime()-60*24*60*60*1e3),i=s.filter(f=>new Date(f.createdAt||f.dateJoined)>a).length,o=s.filter(f=>f.membershipLevel==="VIP"||f.type==="VIP").length,d=localStorage.getItem("appointments"),c=d?JSON.parse(d):[],u=s.map(f=>{const h=c.filter(x=>x.customerId===f.id||x.customerName===f.name).sort((x,m)=>new Date(m.date).getTime()-new Date(x.date).getTime())[0],b=h?new Date(h.date):l,v=Math.floor((n.getTime()-b.getTime())/(24*60*60*1e3));return{id:f.id,name:f.name,daysSinceLastAppointment:v,totalSpent:f.totalSpent||0}}).filter(f=>f.daysSinceLastAppointment>=30).sort((f,h)=>h.daysSinceLastAppointment-f.daysSinceLastAppointment).slice(0,10),g=s.filter(f=>{const h=c.filter(x=>x.customerId===f.id||x.customerName===f.name).sort((x,m)=>new Date(m.date).getTime()-new Date(x.date).getTime())[0],b=h?new Date(h.date):l;return Math.floor((n.getTime()-b.getTime())/(24*60*60*1e3))>=60}).length,p=s.length>0?Math.round(g/s.length*100):0;return{total:s.length,newThisMonth:i,churnRate:p,activeCustomers:Math.max(0,s.length-g),vipCustomers:o,highRiskCustomers:u}}catch(t){return console.error("客户数据收集错误:",t),{total:0,newThisMonth:0,churnRate:0,activeCustomers:0,vipCustomers:0,highRiskCustomers:[]}}}async collectAppointmentData(){try{const t=localStorage.getItem("appointments"),s=t?JSON.parse(t):[];if(!s||s.length===0)return{totalThisMonth:0,confirmationRate:0,peakHours:[],averageDuration:0,noShowRate:0};const n=new Date,a=new Date(n.getTime()-30*24*60*60*1e3),l=s.filter(h=>new Date(h.date)>a),i=l.filter(h=>h.status==="Confirmed"||h.status==="confirmed").length,o=l.length>0?Math.round(i/l.length*100):0,d={};l.forEach(h=>{const v=`${new Date(h.date).getHours()}:00`;d[v]=(d[v]||0)+1});const c=Object.entries(d).sort((h,b)=>b[1]-h[1]).slice(0,3).map(([h])=>h),u=l.map(h=>h.duration||60).filter(h=>h>0),g=u.length>0?Math.round(u.reduce((h,b)=>h+b,0)/u.length):60,p=l.filter(h=>h.status==="NoShow"||h.status==="no-show").length,f=l.length>0?Math.round(p/l.length*100):0;return{totalThisMonth:l.length,confirmationRate:o,peakHours:c,averageDuration:g,noShowRate:f}}catch(t){return console.error("预约数据收集错误:",t),{totalThisMonth:0,confirmationRate:0,peakHours:[],averageDuration:0,noShowRate:0}}}async collectStaffData(){try{const t=localStorage.getItem("staff"),s=t?JSON.parse(t):[];if(!s||s.length===0)return{total:0,activeStaff:0,performanceRanking:[]};const n=localStorage.getItem("appointments"),a=n?JSON.parse(n):[],l=s.map(i=>{const o=a.filter(g=>g.staffId===i.id||g.staffName===i.name),d=o.filter(g=>g.status==="Completed"||g.status==="completed").length,c=o.filter(g=>g.status==="Confirmed"||g.status==="confirmed").length,u=o.length>0?Math.round(c/o.length*100):0;return{name:i.name,appointmentsCompleted:d,confirmationRate:u,customerSatisfaction:i.rating||85}}).sort((i,o)=>o.appointmentsCompleted-i.appointmentsCompleted);return{total:s.length,activeStaff:s.filter(i=>i.isActive!==!1).length,performanceRanking:l}}catch(t){return console.error("员工数据收集错误:",t),{total:0,activeStaff:0,performanceRanking:[]}}}async collectSalesData(){try{const t=localStorage.getItem("products"),s=t?JSON.parse(t):[];if(!s||s.length===0)return{totalRevenue:0,revenueThisMonth:0,topProducts:[],growth:0};const n=s.map(i=>({name:i.name,sales:i.soldCount||Math.floor(Math.random()*50),revenue:(i.price||0)*(i.soldCount||Math.floor(Math.random()*50))})).sort((i,o)=>o.revenue-i.revenue).slice(0,5),a=n.reduce((i,o)=>i+o.revenue,0),l=Math.round(a*.3);return{totalRevenue:Math.round(a),revenueThisMonth:l,topProducts:n,growth:Math.floor(Math.random()*15)+5}}catch(t){return console.error("销售数据收集错误:",t),{totalRevenue:0,revenueThisMonth:0,topProducts:[],growth:0}}}async collectMarketingData(){try{const t=localStorage.getItem("marketingActivities"),s=t?JSON.parse(t):[];return!s||s.length===0?{activeActivities:[{name:"社交媒体推广",cost:2e3,roi:250,conversions:15},{name:"新客体验优惠",cost:3e3,roi:180,conversions:22}]}:{activeActivities:s.filter(a=>a.status==="Active"||a.status==="active").slice(0,5)}}catch(t){return console.error("营销数据收集错误:",t),{activeActivities:[]}}}async generateDataSummaryReport(){var n,a,l,i,o,d,c,u,g,p,f,h,b,v,x,m,y,j,k,S,N,A,_;const t=await this.collectAllData();return`
【系统数据摘要报告】

1. 客户概览
   总客户: ${(n=t.customers)==null?void 0:n.total} | 新增: ${(a=t.customers)==null?void 0:a.newThisMonth} | 流失率: ${(l=t.customers)==null?void 0:l.churnRate}%
   高风险客户: ${(o=(i=t.customers)==null?void 0:i.highRiskCustomers)==null?void 0:o.length} 位

2. 预约概览
   本月预约: ${(d=t.appointments)==null?void 0:d.totalThisMonth} | 确认率: ${(c=t.appointments)==null?void 0:c.confirmationRate}% | 爽约率: ${(u=t.appointments)==null?void 0:u.noShowRate}%
   高峰时段: ${((p=(g=t.appointments)==null?void 0:g.peakHours)==null?void 0:p.join("、"))||"无"}

3. 员工概览
   总数: ${(f=t.staff)==null?void 0:f.total} | 在职: ${(h=t.staff)==null?void 0:h.activeStaff}
   表现最好: ${(x=(v=(b=t.staff)==null?void 0:b.performanceRanking)==null?void 0:v[0])==null?void 0:x.name} (${(j=(y=(m=t.staff)==null?void 0:m.performanceRanking)==null?void 0:y[0])==null?void 0:j.appointmentsCompleted} 次预约)

4. 销售概览
   总收入: ¥${(k=t.sales)==null?void 0:k.totalRevenue} | 本月: ¥${(S=t.sales)==null?void 0:S.revenueThisMonth} | 增长率: ${(N=t.sales)==null?void 0:N.growth}%

5. 营销概览
   活跃活动: ${(_=(A=t.marketing)==null?void 0:A.activeActivities)==null?void 0:_.length} 个
`}}const sa=new T2,na={nightService:{name:"24h客服",description:"夜班机器人话术",type:"night",icon:"",color:"from-indigo-400 to-blue-500"},skinAnalysis:{name:"皮肤检测",description:"5秒AI测肤营销文案",type:"skin",icon:"",color:"from-pink-400 to-rose-500"},projectRecommend:{name:"项目推荐",description:"AI配项目+产品",type:"project",icon:"",color:"from-yellow-400 to-orange-500"},autoMarketing:{name:"自动营销",description:"沉睡客唤醒短信",type:"sms",icon:"",color:"from-green-400 to-emerald-500"}},R2=()=>{const[e,t]=B.useState([{role:"assistant",content:`你好！我是美容院AI智能助手。我可以帮助您：

1. 分析业务数据，发现机遇
2. 优化员工排班和服务流程
3. 识别高风险客户，制定留存策略
4. 分析营销活动ROI
5. 提供收入增长建议

我现在可以访问您的系统数据，提供更智能的建议！`}]),[s,n]=B.useState(""),[a,l]=B.useState(!1),[i,o]=B.useState(!1),[d,c]=B.useState(!1),[u,g]=B.useState(!1),[p,f]=B.useState(null),h=B.useRef(null),b=()=>{var j;(j=h.current)==null||j.scrollIntoView({behavior:"smooth"})};B.useEffect(()=>{b()},[e]),B.useEffect(()=>{a&&(async()=>{try{const k=await sa.collectAllData();Qt.setSystemData(k),c(!0)}catch(k){console.error("初始化增强AI失败:",k),c(!1);try{Qt.setDemoMode(!0),ra.setDemoMode(!0)}catch(S){console.error("设置演示模式失败:",S)}}})()},[a]);const v=async j=>{if(j.preventDefault(),!s.trim())return;const k={role:"user",content:s,timestamp:new Date};t(S=>[...S,k]),n(""),o(!0);try{let S;if(d){const A=await sa.collectAllData();Qt.setSystemData(A),S=await Qt.chat(s)}else S=await ra.chat(s);const N={role:"assistant",content:S.content,timestamp:new Date};t(A=>[...A,N])}catch(S){const N={role:"assistant",content:`出错了: ${S.message}。

请检查：
1. 网络连接
2. GLM API Key 是否正确
3. 稍后重试`,timestamp:new Date};t(A=>[...A,N])}finally{o(!1)}},x=async j=>{f(j);const k=Object.values(na).find(S=>{var N;return S.name===((N=Object.values(na).find(A=>Object.keys(na).find(_=>_===j)))==null?void 0:N.name)});if(k){const S=`请为我的美容院生成相关的${k.name}内容。`;n(S),g(!1)}},m=async()=>{o(!0);const j={role:"user",content:"请根据当前系统数据，给我一份完整的智能建议报告",timestamp:new Date};t(k=>[...k,j]);try{if(d){const k=await sa.collectAllData();Qt.setSystemData(k);const N={role:"assistant",content:(await Qt.getSmartRecommendations()).content,timestamp:new Date};t(A=>[...A,N])}else throw new Error("增强AI未初始化，使用基础AI")}catch(k){const S={role:"assistant",content:`生成建议失败: ${k.message}。

尝试中...`,timestamp:new Date};t(N=>[...N,S]);try{const A={role:"assistant",content:(await ra.chat("请根据当前系统数据，给我一份完整的智能建议报告")).content,timestamp:new Date};t(_=>{const C=[..._];return C[C.length-1]=A,C})}catch(N){console.error("基础AI也失败:",N)}}finally{o(!1)}},y=async j=>{n(""),o(!0);let k="";switch(j){case"risk":k="请分析我的高风险客户情况，并提出具体的留存策略。";break;case"schedule":k="根据预约数据，请建议如何优化员工排班以提高效率？";break;case"pricing":k="根据销售数据，我应该如何调整服务定价来增加收入？";break;case"marketing":k="分析我的营销活动ROI，请建议下月的营销策略。";break;case"smart":await m();return;default:k=j}const S={role:"user",content:k,timestamp:new Date};t(N=>[...N,S]);try{let N;if(d){const _=await sa.collectAllData();Qt.setSystemData(_),N=await Qt.chat(k)}else N=await ra.chat(k);const A={role:"assistant",content:N.content,timestamp:new Date};t(_=>[..._,A])}catch(N){const A={role:"assistant",content:`错误: ${N.message}`,timestamp:new Date};t(_=>[..._,A])}finally{o(!1)}};return r.jsxs("div",{children:[!a&&r.jsx("button",{onClick:()=>l(!0),className:"fixed bottom-4 right-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white p-4 rounded-full shadow-xl hover:shadow-2xl hover:scale-110 transition-all",title:"打开 AI 助手",children:r.jsx(a1,{size:24})}),a&&r.jsxs("div",{className:"fixed bottom-4 right-4 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 flex flex-col h-[600px] z-50",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white p-4 flex justify-between items-center rounded-t-xl",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:"AI 助手"}),r.jsxs("p",{className:"text-xs opacity-90",children:[d?"数据驱动模式":"标准模式"," (GLM-4.5-Flash)"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>g(!u),className:"hover:bg-white hover:bg-opacity-20 p-1 rounded transition",title:"管理员菜单",children:r.jsx(Np,{size:20})}),r.jsx("button",{onClick:()=>l(!1),className:"hover:bg-white hover:bg-opacity-20 p-1 rounded transition",children:r.jsx(Ds,{size:20})})]})]}),u&&r.jsxs("div",{className:"border-b bg-gray-50 p-3 max-h-32 overflow-y-auto",children:[r.jsx("div",{className:"text-xs font-bold text-gray-600 mb-2",children:" 商业功能"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(na).map(([j,k])=>r.jsxs("button",{onClick:()=>x(j),className:`text-xs px-2 py-1 rounded text-white font-medium transition bg-gradient-to-r ${k.color} hover:opacity-90`,title:k.description,children:[k.icon," ",k.name]},j))})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[e.map((j,k)=>r.jsx("div",{className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-xs px-4 py-3 rounded-lg whitespace-pre-wrap text-sm ${j.role==="user"?"bg-green-500 text-white rounded-br-none":"bg-white text-gray-800 border border-gray-200 rounded-bl-none"}`,children:j.content})},k)),i&&r.jsx("div",{className:"flex justify-start",children:r.jsxs("div",{className:"bg-white text-gray-800 px-4 py-3 rounded-lg border border-gray-200 rounded-bl-none flex items-center gap-2",children:[r.jsx(ga,{size:16,className:"animate-spin"}),r.jsx("span",{children:"AI 思考中..."})]})}),r.jsx("div",{ref:h})]}),e.length<=2&&r.jsxs("div",{className:"px-3 py-2 border-t bg-white",children:[r.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"快速操作："}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>y("risk"),className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200 transition",disabled:i,children:"流失分析"}),r.jsx("button",{onClick:()=>y("schedule"),className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition",disabled:i,children:"排班优化"}),r.jsx("button",{onClick:()=>y("pricing"),className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded hover:bg-amber-200 transition",disabled:i,children:"定价建议"}),r.jsx("button",{onClick:()=>y("marketing"),className:"text-xs bg-pink-100 text-pink-700 px-2 py-1 rounded hover:bg-pink-200 transition",disabled:i,children:"营销分析"})]}),d&&r.jsxs("button",{onClick:()=>y("smart"),className:"w-full mt-2 text-xs bg-gradient-to-r from-green-400 to-emerald-400 text-white px-2 py-2 rounded hover:opacity-90 transition flex items-center justify-center gap-1",disabled:i,children:[r.jsx(Be,{size:14}),"智能建议报告"]})]}),r.jsxs("form",{onSubmit:v,className:"border-t p-3 flex gap-2 bg-white rounded-b-xl",children:[r.jsx("input",{type:"text",value:s,onChange:j=>n(j.target.value),placeholder:"输入您的问题...",className:"flex-1 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",disabled:i}),r.jsx("button",{type:"submit",disabled:i||!s.trim(),className:"bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 transition",children:r.jsx(Rc,{size:18})})]})]})]})},I2=()=>{const[e,t]=B.useState("live"),[s,n]=B.useState(""),[a,l]=B.useState(null),[i,o]=B.useState(null),[d,c]=B.useState("list"),[u,g]=B.useState("all"),[p,f]=B.useState(""),[h,b]=B.useState(!1),v=[{id:"c1",title:"美容师专业培训初级班",description:"学习基础美容知识、操作技能和客户服务",category:"基础培训",instructor:"王美容师",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=300&h=200&fit=crop",level:"beginner",duration:"4周",students:328,rating:4.8,progress:65,lessons:24},{id:"c2",title:"高级护肤技术精修班",description:"深入学习各类护肤品使用、皮肤诊断和定制方案",category:"专业技能",instructor:"李专家",image:"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=300&h=200&fit=crop",level:"advanced",duration:"8周",students:156,rating:4.9,progress:30,lessons:40},{id:"c3",title:"客户服务与销售技巧",description:"掌握沟通技巧、客户心理学和销售方法",category:"管理培训",instructor:"张讲师",image:"https://images.unsplash.com/photo-1516321318423-f06f70504504?w=300&h=200&fit=crop",level:"intermediate",duration:"3周",students:412,rating:4.7,progress:45,lessons:18},{id:"c4",title:"美容院经营管理实战",description:"团队管理、成本控制、营销策略等综合管理",category:"经营管理",instructor:"陈经理",image:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=300&h=200&fit=crop",level:"advanced",duration:"6周",students:89,rating:4.6,progress:0,lessons:32},{id:"c5",title:"化妆品知识与产品推荐",description:"了解产品成分、功效，学会推荐合适产品",category:"产品知识",instructor:"刘讲师",image:"https://images.unsplash.com/photo-1607346256330-dee4af15f7cb?w=300&h=200&fit=crop",level:"beginner",duration:"2周",students:567,rating:4.8,progress:80,lessons:14},{id:"c6",title:"新型美容仪器操作指南",description:"学习最新仪器设备的原理、操作和维护",category:"技术装备",instructor:"王工程师",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=300&h=200&fit=crop",level:"intermediate",duration:"3周",students:234,rating:4.7,progress:50,lessons:16}],x=[{id:"live1",title:"今日直播：秋季护肤方案设计",instructor:"王美容师",startTime:"2025-10-22 19:00",duration:"1.5小时",students:245,status:"live",topic:"季节护肤",image:"https://images.unsplash.com/photo-1596462502278-af242a95b928?w=400&h=300&fit=crop",description:"针对秋季皮肤特点，设计个性化护肤方案。讲师将分享最新的护肤理念和技巧。",capacity:500,tags:["护肤","季节护理","实战技巧"],avgRating:4.8,reviews:28},{id:"live2",title:"明日直播：如何提升客户满意度",instructor:"张讲师",startTime:"2025-10-23 14:00",duration:"1小时",students:156,status:"upcoming",topic:"客户服务",image:"https://images.unsplash.com/photo-1516321318423-f06f70504504?w=400&h=300&fit=crop",description:"通过实际案例分析，教你如何有效提升客户满意度和复购率。",capacity:300,tags:["客户服务","满意度","销售技巧"],avgRating:4.6,reviews:15},{id:"live3",title:"本周回放：美容仪器使用技巧",instructor:"王工程师",startTime:"2025-10-21 18:00",duration:"1.5小时",students:89,status:"ended",topic:"仪器培训",image:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=400&h=300&fit=crop",description:"详细讲解新型美容仪器的操作方法、维护技巧和故障排除。",capacity:400,tags:["仪器操作","技术培训","维护"],avgRating:4.7,reviews:32},{id:"live4",title:"化妆品成分解读专场",instructor:"刘讲师",startTime:"2025-10-24 15:00",duration:"1小时",students:178,status:"upcoming",topic:"产品知识",image:"https://images.unsplash.com/photo-1607346256330-dee4af15f7cb?w=400&h=300&fit=crop",description:"深入解读化妆品成分，帮助你更好地推荐产品给客户。",capacity:350,tags:["产品知识","成分分析","推荐技巧"],avgRating:4.9,reviews:24}],m=[{id:"tutor1",name:"美容知识AI导师",specialty:"皮肤护理、产品知识",availability:"24/7全天在线",rating:4.9,responseTime:"即时",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"},{id:"tutor2",name:"销售技巧AI导师",specialty:"客户沟通、销售方法",availability:"工作时间9:00-18:00",rating:4.7,responseTime:"5分钟内",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop"},{id:"tutor3",name:"经营管理AI导师",specialty:"成本控制、团队管理",availability:"工作时间",rating:4.8,responseTime:"10分钟内",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop"}],y=[{id:"path1",name:"美容师成长路径",description:"从初级美容师到高级讲师的完整学习计划",courses:["c1","c3","c5","c2"],progress:65,completed:2,difficulty:"中等"},{id:"path2",name:"店铺经营者路径",description:"学习经营管理和营销策略",courses:["c4","c3"],progress:30,completed:0,difficulty:"高"}],j=[{id:"c1",author:"小美",content:"讲得太好了！学到了很多护肤知识",timestamp:"2分钟前",likes:12,avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=40&h=40&fit=crop"},{id:"c2",author:"张老师",content:"感谢分享，这个方法我会尝试",timestamp:"5分钟前",likes:8,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop"},{id:"c3",author:"李美",content:"有没有专门针对油性皮肤的方案？",timestamp:"10分钟前",likes:5,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=40&h=40&fit=crop"}],k=v.filter(N=>N.title.toLowerCase().includes(s.toLowerCase())||N.description.toLowerCase().includes(s.toLowerCase())),S=x.filter(N=>u==="all"?!0:N.status===u);return e==="learning"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"在线课程学习"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"选择课程开始学习，提升专业技能"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-4",children:[r.jsxs("div",{className:"flex gap-3 items-center",children:[r.jsx(Ut,{className:"w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:s,onChange:N=>n(N.target.value),placeholder:"搜索课程...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["全部","基础培训","专业技能","管理培训","产品知识"].map(N=>r.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${N==="全部"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:N},N))})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(N=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("img",{src:N.image,alt:N.title,className:"w-full h-40 object-cover"}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-bold text-gray-900 line-clamp-2 flex-1",children:N.title}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded whitespace-nowrap ${N.level==="beginner"?"bg-green-100 text-green-700":N.level==="intermediate"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:N.level==="beginner"?"入门":N.level==="intermediate"?"进阶":"高级"})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:N.description}),r.jsxs("div",{className:"space-y-2 mb-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[r.jsxs("span",{children:["讲师：",N.instructor]}),r.jsx("span",{children:N.duration})]}),N.progress!==void 0&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${N.progress}%`}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("span",{className:"text-gray-600",children:[N.students," 人学习"]}),r.jsxs("span",{className:"text-yellow-500",children:[" ",N.rating]})]})]}),r.jsx("button",{onClick:()=>l(N),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:N.progress===0?"开始学习":"继续学习"})]})]},N.id))}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.title}),r.jsx("button",{onClick:()=>l(null),className:"text-gray-600 hover:text-gray-900"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover rounded-lg"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.lessons}),r.jsx("p",{className:"text-sm text-gray-600",children:"课程数"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.duration}),r.jsx("p",{className:"text-sm text-gray-600",children:"学习周期"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.students}),r.jsx("p",{className:"text-sm text-gray-600",children:"学员数"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:a.rating}),r.jsx("p",{className:"text-sm text-gray-600",children:"评分"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2",children:"课程描述"}),r.jsx("p",{className:"text-gray-700",children:a.description})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:[r.jsx(Ga,{className:"w-4 h-4 inline mr-2"}),"开始学习"]}),r.jsx("button",{onClick:()=>l(null),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"关闭"})]})]})]})})]}):e==="live"&&i&&d==="detail"?r.jsxs("div",{className:"space-y-6",children:[r.jsx("button",{onClick:()=>{c("list"),o(null)},className:"text-blue-600 hover:text-blue-700 font-medium flex items-center gap-2",children:"← 返回直播列表"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[r.jsxs("div",{className:"bg-black rounded-lg overflow-hidden aspect-video flex items-center justify-center relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-black flex items-center justify-center",children:r.jsx(Sr,{className:"w-16 h-16 text-gray-600"})}),i.status==="live"&&r.jsxs("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"直播中"]}),i.status==="ended"&&r.jsx("div",{className:"absolute top-4 left-4 bg-gray-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"已结束 - 回放"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:i.description})]}),r.jsx("button",{className:"text-gray-400 hover:text-red-600",children:r.jsx(zr,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 pb-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"讲师"}),r.jsx("p",{className:"font-bold text-gray-900",children:i.instructor})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"参加人数"}),r.jsx("p",{className:"font-bold text-gray-900",children:i.students})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"容量"}),r.jsx("p",{className:"font-bold text-gray-900",children:i.capacity})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"时长"}),r.jsx("p",{className:"font-bold text-gray-900",children:i.duration})]})]}),i.tags&&r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"课程标签"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map(N=>r.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:N},N))})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsxs("button",{className:`px-6 py-2 rounded-lg font-medium flex items-center gap-2 ${i.status==="live"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[r.jsx(Sr,{className:"w-4 h-4"}),i.status==="live"?"进入直播间":i.status==="upcoming"?"预约提醒":"查看回放"]}),r.jsxs("button",{className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center gap-2",children:[r.jsx(d1,{className:"w-4 h-4"}),"分享"]}),r.jsxs("button",{className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center gap-2",children:[r.jsx(t1,{className:"w-4 h-4"}),"收藏"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"课程评价"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xe,{className:"w-5 h-5 text-yellow-500 fill-current"}),r.jsx("span",{className:"font-bold text-gray-900",children:i.avgRating}),r.jsxs("span",{className:"text-sm text-gray-600",children:["(",i.reviews," 条评价)"]})]})]}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>r.jsxs("div",{className:"pb-4 border-b border-gray-200 last:border-b-0",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=40&h=40&fit=crop",alt:"用户",className:"w-8 h-8 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"font-medium text-gray-900",children:["用户",N]}),r.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(A=>r.jsx(Xe,{className:"w-3 h-3 text-yellow-500 fill-current"},A)),r.jsxs("span",{className:"text-xs text-gray-600",children:[N," 天前"]})]})]})]}),r.jsx("p",{className:"text-sm text-gray-700",children:"非常专业的讲解，学到了很多实用的知识！"})]},N))})]})]}),r.jsxs("div",{className:"space-y-4",children:[i.status==="live"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Do,{className:"w-4 h-4"}),"直播评论 (",j.length,")"]}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto mb-4",children:j.map(N=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("img",{src:N.avatar,alt:N.author,className:"w-8 h-8 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-medium text-sm text-gray-900",children:N.author}),r.jsx("span",{className:"text-xs text-gray-500",children:N.timestamp})]}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:N.content}),r.jsxs("button",{className:"text-xs text-gray-500 hover:text-red-600 mt-1 flex items-center gap-1",children:[r.jsx(zr,{className:"w-3 h-3"}),N.likes]})]})]},N.id))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:p,onChange:N=>f(N.target.value),placeholder:"说点什么...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:r.jsx(Rc,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-4",children:[r.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"直播互动数据"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"️ 观看人数"}),r.jsx("span",{className:"font-bold text-gray-900",children:i.students})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:" 评论数"}),r.jsx("span",{className:"font-bold text-gray-900",children:j.length})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"️ 点赞总数"}),r.jsx("span",{className:"font-bold text-gray-900",children:j.reduce((N,A)=>N+A.likes,0)})]})]})]})]}),i.status==="ended"&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"录播回放"}),r.jsxs("button",{onClick:()=>b(!h),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium flex items-center justify-center gap-2 mb-3",children:[r.jsx(Ga,{className:"w-4 h-4"}),"观看完整回放"]}),r.jsxs("button",{className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center justify-center gap-2",children:[r.jsx(bp,{className:"w-4 h-4"}),"下载课程资料"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"推荐课程"}),r.jsx("div",{className:"space-y-2",children:S.filter(N=>N.id!==i.id).slice(0,3).map(N=>r.jsxs("div",{className:"p-2 border border-gray-200 rounded hover:bg-gray-50 cursor-pointer",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:N.title}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:N.instructor})]},N.id))})]})]})]})]}):e==="live"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 rounded-lg border border-red-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-red-900",children:"直播课堂"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["实时互动学习，与讲师在线交流 | 共 ",x.length," 门直播课程"]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-4",children:[r.jsxs("div",{className:"flex gap-3 items-center",children:[r.jsx(Ut,{className:"w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:s,onChange:N=>n(N.target.value),placeholder:"搜索直播课程...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[r.jsx(Tc,{className:"w-4 h-4 text-gray-600"}),["all","live","upcoming","ended"].map(N=>r.jsx("button",{onClick:()=>g(N),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${u===N?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:N==="all"?"全部":N==="live"?"直播中":N==="upcoming"?"即将开始":"已结束"},N))]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:S.map(N=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:N.image,alt:N.title,className:"w-full h-40 object-cover"}),r.jsx("div",{className:`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-medium text-white ${N.status==="live"?"bg-red-600":N.status==="upcoming"?"bg-blue-600":"bg-gray-600"}`,children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${N.status==="live"?"bg-white animate-pulse":"bg-white"}`}),N.status==="live"?"直播中":N.status==="upcoming"?"即将开始":"已结束"]})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:N.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:N.description}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xe,{className:"w-4 h-4"}),"讲师：",N.instructor]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-4 h-4"}),N.startTime," | ",N.duration]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xe,{className:"w-4 h-4"}),N.students," / ",N.capacity," 人"]}),N.avgRating&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xe,{className:"w-4 h-4 text-yellow-500 fill-current"}),r.jsx("span",{className:"font-medium",children:N.avgRating})]})]})]}),r.jsxs("button",{onClick:()=>{o(N),c("detail")},className:`w-full px-4 py-2 rounded-lg font-medium flex items-center justify-center gap-2 ${N.status==="live"?"bg-red-600 text-white hover:bg-red-700":N.status==="upcoming"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[r.jsx(Sr,{className:"w-4 h-4"}),N.status==="live"?"进入直播间":N.status==="upcoming"?"预约提醒":"查看回放"]})]})]},N.id))})]}):e==="tutor"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"AI导师助学"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"24/7智能答疑，个性化学习指导"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m.map(N=>r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("img",{src:N.avatar,alt:N.name,className:"w-16 h-16 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-gray-900",children:N.name}),r.jsx("p",{className:"text-sm text-gray-600",children:N.specialty})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"评分"}),r.jsxs("span",{className:"font-medium text-yellow-500",children:[" ",N.rating]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"可用性"}),r.jsx("span",{className:"font-medium text-green-600",children:N.availability})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"响应时间"}),r.jsx("span",{className:"font-medium text-blue-600",children:N.responseTime})]})]}),r.jsxs("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium flex items-center justify-center gap-2",children:[r.jsx(Do,{className:"w-4 h-4"}),"开始对话"]})]})},N.id))}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"常见问题速查"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"如何选择合适的护肤方案？"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"根据客户皮肤类型分析..."})]}),r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"怎样提高客户复购率？"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"建立客户档案，制定跟进计划..."})]}),r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"新仪器怎样快速上手？"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"观看操作视频，参加实训课程..."})]})]})]})]}):e==="progress"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-green-900",children:"学习进度追踪"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"查看学习统计和成就徽章"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg border border-green-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"已完成课程"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:"5"})]}),r.jsx(Ze,{className:"w-8 h-8 text-green-600 opacity-20"})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-blue-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"学习时间"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:"48小时"})]}),r.jsx(Lr,{className:"w-8 h-8 text-blue-600 opacity-20"})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-purple-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"获得徽章"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:"12"})]}),r.jsx(mr,{className:"w-8 h-8 text-purple-600 opacity-20"})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-orange-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"学习排名"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-1",children:"#8"})]}),r.jsx(_t,{className:"w-8 h-8 text-orange-600 opacity-20"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"学习路径进度"}),r.jsx("div",{className:"space-y-4",children:y.map(N=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:N.name}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description})]}),r.jsxs("span",{className:"text-sm font-medium bg-blue-100 text-blue-700 px-3 py-1 rounded",children:[N.difficulty,"难度"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["进度：",N.completed," / ",N.courses.length," 完成"]}),r.jsxs("span",{className:"font-medium text-blue-600",children:[N.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${N.progress}%`}})})]})]},N.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"成就徽章"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"初学者",icon:""},{name:"知识精英",icon:""},{name:"连胜7天",icon:""},{name:"课程完成者",icon:""},{name:"答题高手",icon:""},{name:"学霸",icon:""}].map(N=>r.jsxs("div",{className:"text-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx("p",{className:"text-3xl mb-1",children:N.icon}),r.jsx("p",{className:"text-xs font-medium text-gray-700",children:N.name})]},N.name))})]})]}):e==="resources"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg border border-yellow-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-yellow-900",children:"学习资源库"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"下载教材、资料和工具"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(dd,{className:"w-6 h-6 text-blue-600"}),r.jsx("h3",{className:"font-bold text-gray-900",children:"电子教材"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"美容基础理论完全手册"}),r.jsx("span",{className:"text-xs text-gray-600",children:"2.5MB"})]}),r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"产品知识速查表"}),r.jsx("span",{className:"text-xs text-gray-600",children:"1.2MB"})]}),r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"销售技巧实战指南"}),r.jsx("span",{className:"text-xs text-gray-600",children:"3.1MB"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Sr,{className:"w-6 h-6 text-red-600"}),r.jsx("h3",{className:"font-bold text-gray-900",children:"视频教程"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"基础护肤手法演示"}),r.jsx("span",{className:"text-xs text-gray-600",children:"45分钟"})]}),r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"仪器操作完全指南"}),r.jsx("span",{className:"text-xs text-gray-600",children:"2小时"})]}),r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"客户沟通技巧分享"}),r.jsx("span",{className:"text-xs text-gray-600",children:"35分钟"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"工具和模板"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer text-center",children:[r.jsx("p",{className:"text-2xl mb-2"}),r.jsx("p",{className:"font-medium text-sm mb-2",children:"客户档案模板"}),r.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"下载"})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer text-center",children:[r.jsx("p",{className:"text-2xl mb-2"}),r.jsx("p",{className:"font-medium text-sm mb-2",children:"销售报表模板"}),r.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"下载"})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer text-center",children:[r.jsx("p",{className:"text-2xl mb-2"}),r.jsx("p",{className:"font-medium text-sm mb-2",children:"员工培训计划表"}),r.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"下载"})]})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg p-8 text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:"培训教育中心"}),r.jsx("p",{className:"text-lg opacity-90",children:"专业培训 • 直播互动 • AI导师 • 实时反馈"})]}),r.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[{key:"learning",label:" 在线课程",icon:Cs},{key:"live",label:" 直播课堂",icon:Sr},{key:"tutor",label:" AI导师",icon:Va},{key:"progress",label:" 学习进度",icon:ws},{key:"resources",label:" 学习资源",icon:dd}].map(N=>r.jsx("button",{onClick:()=>t(N.key),className:`px-4 py-3 font-medium whitespace-nowrap border-b-2 transition-colors ${e===N.key?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:N.label},N.key))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-4",children:[r.jsx("p",{className:"text-sm text-blue-700 mb-1",children:"总课程数"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"18"}),r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"涵盖6大类别"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200 p-4",children:[r.jsx("p",{className:"text-sm text-red-700 mb-1",children:"直播课程"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:x.length}),r.jsx("p",{className:"text-xs text-red-600 mt-2",children:"本周开课"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-4",children:[r.jsx("p",{className:"text-sm text-purple-700 mb-1",children:"AI导师"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"3"}),r.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"24/7在线"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200 p-4",children:[r.jsx("p",{className:"text-sm text-green-700 mb-1",children:"我的进度"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:"65%"}),r.jsx("p",{className:"text-xs text-green-600 mt-2",children:"已完成5门课"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:" 快速入门"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>t("learning"),className:"p-4 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors text-left",children:[r.jsx("p",{className:"font-bold text-blue-600 mb-1",children:"选择课程开始学习"}),r.jsx("p",{className:"text-sm text-gray-600",children:"浏览18门专业课程，选择适合你的"})]}),r.jsxs("button",{onClick:()=>t("live"),className:"p-4 border border-red-200 rounded-lg hover:bg-red-50 transition-colors text-left",children:[r.jsx("p",{className:"font-bold text-red-600 mb-1",children:"加入直播互动"}),r.jsx("p",{className:"text-sm text-gray-600",children:"实时与讲师交流，解答疑惑"})]}),r.jsxs("button",{onClick:()=>t("tutor"),className:"p-4 border border-purple-200 rounded-lg hover:bg-purple-50 transition-colors text-left",children:[r.jsx("p",{className:"font-bold text-purple-600 mb-1",children:"咨询AI导师"}),r.jsx("p",{className:"text-sm text-gray-600",children:"即时答疑，获得个性化建议"})]})]})]})]})},M2=()=>{const[e,t]=B.useState("appointments"),[s,n]=B.useState([]),[a,l]=B.useState([]),[i,o]=B.useState(!1),[d,c]=B.useState(null),[u,g]=B.useState({customerName:"",customerPhone:"",serviceType:"面部护理",appointmentDate:"",appointmentTime:"",serviceAddress:"",serviceArea:"",duration:60,price:168,staffName:"",notes:""});B.useEffect(()=>{p(),f()},[]);const p=()=>{const C=localStorage.getItem("onSiteAppointments");n(C?JSON.parse(C):[{id:"1",customerName:"王女士",customerPhone:"13800138000",serviceType:"面部护理",appointmentDate:"2024-10-25",appointmentTime:"14:00",serviceAddress:"高新区科技路100号",serviceArea:"高新区",duration:60,price:168,staffName:"李美容师",status:"confirmed",notes:"客户要求保湿护理，有敏感肌肤",createdAt:"2024-10-23"}])},f=()=>{const C=localStorage.getItem("onSiteServiceHistory");l(C?JSON.parse(C):[{id:"h1",customerName:"张女士",serviceType:"面部护理",completedDate:"2024-10-20",serviceAddress:"南山区中心路50号",staffName:"王美容师",price:168,duration:60,rating:5,feedback:"非常满意，服务专业，环境舒适"},{id:"h2",customerName:"李女士",serviceType:"深层清洁",completedDate:"2024-10-19",serviceAddress:"福田区华强北路",staffName:"陈美容师",price:128,duration:45,rating:5,feedback:"皮肤清洁效果明显，非常推荐"},{id:"h3",customerName:"刘女士",serviceType:"全身SPA",completedDate:"2024-10-18",serviceAddress:"罗湖区东门路",staffName:"李美容师",price:388,duration:120,rating:5,feedback:"放松身心，服务一流"}])},h=C=>{localStorage.setItem("onSiteAppointments",JSON.stringify(C)),n(C)},b=C=>{localStorage.setItem("onSiteServiceHistory",JSON.stringify(C)),l(C)},v=()=>{if(!u.customerName||!u.appointmentDate){alert("请填写必填项");return}if(d){const C=s.map(w=>w.id===d?{...w,...u,id:w.id,createdAt:w.createdAt}:w);h(C),c(null)}else{const C={id:Date.now().toString(),...u,status:"pending",createdAt:new Date().toISOString().split("T")[0]};h([...s,C])}S(),o(!1)},x=C=>{g({customerName:C.customerName,customerPhone:C.customerPhone,serviceType:C.serviceType,appointmentDate:C.appointmentDate,appointmentTime:C.appointmentTime,serviceAddress:C.serviceAddress,serviceArea:C.serviceArea,duration:C.duration,price:C.price,staffName:C.staffName,notes:C.notes}),c(C.id),o(!0)},m=C=>{confirm("确定要删除这个预约吗？")&&h(s.filter(w=>w.id!==C))},y=C=>{const w=s.map(F=>F.id===C.id?{...F,status:"completed"}:F);h(w);const E={id:"h"+Date.now(),customerName:C.customerName,serviceType:C.serviceType,completedDate:new Date().toISOString().split("T")[0],serviceAddress:C.serviceAddress,staffName:C.staffName,price:C.price,duration:C.duration,rating:5,feedback:""};b([...a,E]),alert("服务已标记为完成，已添加到历史记录")},j=C=>{if(confirm("确定要取消这个预约吗？")){const w=s.map(E=>E.id===C?{...E,status:"cancelled"}:E);h(w)}},k=C=>{const w=s.map(E=>E.id===C?{...E,status:"confirmed"}:E);h(w)},S=()=>{g({customerName:"",customerPhone:"",serviceType:"面部护理",appointmentDate:"",appointmentTime:"",serviceAddress:"",serviceArea:"",duration:60,price:168,staffName:"",notes:""}),c(null)},N=C=>({pending:{label:"待确认",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"已确认",color:"bg-blue-100 text-blue-800"},completed:{label:"已完成",color:"bg-green-100 text-green-800"},cancelled:{label:"已取消",color:"bg-red-100 text-red-800"}})[C]||{label:C,color:"bg-gray-100"},A=s.filter(C=>C.status==="pending").length,_=s.filter(C=>C.status==="completed").length;return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[r.jsx(Pr,{className:"text-green-500",size:28}),"上门服务管理"]}),r.jsx("p",{className:"text-gray-600",children:"管理上门预约和服务历史记录"})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"总预约数"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.length})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"待确认"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:A})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"已完成"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:_})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"历史记录数"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:a.length})]})]}),r.jsxs("div",{className:"flex gap-4 mb-6 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>t("appointments"),className:`pb-3 font-semibold transition ${e==="appointments"?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-800"}`,children:["预约记录 (",s.length,")"]}),r.jsxs("button",{onClick:()=>t("history"),className:`pb-3 font-semibold transition ${e==="history"?"text-green-600 border-b-2 border-green-600":"text-gray-600 hover:text-gray-800"}`,children:["历史记录 (",a.length,")"]})]}),e==="appointments"&&r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>{S(),o(!i)},className:"mb-6 bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition",children:[r.jsx(Vr,{size:20}),i?"关闭表单":"新建预约"]}),i&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:d?"编辑预约":"新建上门预约"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:"客户姓名",value:u.customerName,onChange:C=>g({...u,customerName:C.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsx("input",{type:"tel",placeholder:"客户电话",value:u.customerPhone,onChange:C=>g({...u,customerPhone:C.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsxs("select",{value:u.serviceType,onChange:C=>g({...u,serviceType:C.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{children:"面部护理"}),r.jsx("option",{children:"深层清洁"}),r.jsx("option",{children:"扶痕护肤"}),r.jsx("option",{children:"眼部护理"}),r.jsx("option",{children:"全身SPA"})]}),r.jsx("input",{type:"date",value:u.appointmentDate,onChange:C=>g({...u,appointmentDate:C.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsx("input",{type:"time",value:u.appointmentTime,onChange:C=>g({...u,appointmentTime:C.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsx("input",{type:"text",placeholder:"服务地址",value:u.serviceAddress,onChange:C=>g({...u,serviceAddress:C.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsx("input",{type:"text",placeholder:"服务区域（如：高新区、南山区）",value:u.serviceArea,onChange:C=>g({...u,serviceArea:C.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsx("input",{type:"number",placeholder:"服务时长（分钟）",value:u.duration,onChange:C=>g({...u,duration:parseInt(C.target.value)}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsx("input",{type:"number",placeholder:"服务价格",value:u.price,onChange:C=>g({...u,price:parseFloat(C.target.value)}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsx("input",{type:"text",placeholder:"安排员工",value:u.staffName,onChange:C=>g({...u,staffName:C.target.value}),className:"border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),r.jsx("textarea",{placeholder:"备注信息",value:u.notes,onChange:C=>g({...u,notes:C.target.value}),className:"col-span-2 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 resize-none h-20"})]}),r.jsxs("div",{className:"flex gap-4 mt-4",children:[r.jsx("button",{onClick:v,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition",children:d?"更新预约":"创建预约"}),r.jsx("button",{onClick:()=>{o(!1),S()},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg transition",children:"取消"})]})]}),r.jsx("div",{className:"space-y-4",children:s.length===0?r.jsx("p",{className:"text-center text-gray-500 py-8",children:"暂无预约记录"}):s.map(C=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg",children:C.customerName}),r.jsx("p",{className:"text-gray-600 text-sm",children:C.serviceType})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${N(C.status).color}`,children:N(C.status).label})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Lr,{size:16}),C.appointmentDate," ",C.appointmentTime]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Pr,{size:16}),C.serviceArea]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(kn,{size:16}),"¥",C.price]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Ss,{size:16}),C.staffName]})]}),r.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:[r.jsx("span",{className:"font-semibold",children:"地址："}),C.serviceAddress]}),C.notes&&r.jsxs("p",{className:"text-gray-600 text-sm mb-3 bg-yellow-50 p-2 rounded",children:[r.jsx("span",{className:"font-semibold",children:"备注："}),C.notes]}),r.jsxs("div",{className:"flex gap-2",children:[C.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>k(C.id),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[r.jsx(Bo,{size:16})," 确认"]}),r.jsxs("button",{onClick:()=>x(C),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[r.jsx(Ka,{size:16})," 编辑"]})]}),C.status==="confirmed"&&r.jsxs("button",{onClick:()=>y(C),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[r.jsx(Bo,{size:16})," 完成服务"]}),C.status!=="completed"&&r.jsxs("button",{onClick:()=>j(C.id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[r.jsx(Ds,{size:16})," 取消"]}),r.jsxs("button",{onClick:()=>m(C.id),className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-1 rounded text-sm flex items-center gap-1 transition",children:[r.jsx(ks,{size:16})," 删除"]})]})]},C.id))})]}),e==="history"&&r.jsx("div",{children:r.jsx("div",{className:"space-y-4",children:a.length===0?r.jsx("p",{className:"text-center text-gray-500 py-8",children:"暂无历史记录"}):a.map(C=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-green-50 hover:shadow-lg transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg text-green-900",children:C.customerName}),r.jsx("p",{className:"text-gray-600 text-sm",children:C.serviceType})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((w,E)=>r.jsx("span",{className:E<C.rating?"text-yellow-400":"text-gray-300"},E)),r.jsxs("span",{className:"ml-2 font-semibold text-yellow-600",children:[C.rating,".0"]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Lr,{size:16}),C.completedDate]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Pr,{size:16}),C.serviceAddress]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(kn,{size:16}),"¥",C.price]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Ss,{size:16}),C.staffName]})]}),r.jsxs("p",{className:"text-gray-700 text-sm bg-white p-3 rounded mb-3 border border-green-200",children:[r.jsx("span",{className:"font-semibold",children:"评价："}),C.feedback||"暂无评价"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["服务时长：",C.duration,"分钟"]})]},C.id))})})]})},O2=()=>{const[e,t]=B.useState(null),[s,n]=B.useState(null),[a,l]=B.useState(!1),[i,o]=B.useState("detection"),d={oily:{type:"油性肌肤",condition:"肌肤油脂分泌旺盛，容易长痘",problems:["容易长痘","毛孔粗大","油光满面","容易脱妆"],solutions:["控油护理","深层清洁","定期去角质","补充水分"],recommendedProducts:[{id:"1",name:"深层控油洁面乳",price:89,description:"温和深层清洁，有效控油",benefit:"深层清洁 • 控油 • 温和"},{id:"2",name:"清爽补水爽肤水",price:79,description:"快速补水，不油腻",benefit:"补水 • 清爽 • 快速吸收"},{id:"3",name:"舒缓控油乳液",price:99,description:"平衡油脂，舒缓肌肤",benefit:"控油 • 舒缓 • 平衡"}]},dry:{type:"干性肌肤",condition:"肌肤缺水干燥，容易起皮",problems:["容易起皮","紧绷感强","细纹多","敏感脆弱"],solutions:["深层补水","保湿锁水","温和护理","定期面膜"],recommendedProducts:[{id:"1",name:"高效补水洁面乳",price:99,description:"温和补水，不紧绷",benefit:"补水 • 温和 • 舒适"},{id:"2",name:"深层滋润爽肤水",price:89,description:"快速补水保湿",benefit:"保湿 • 滋润 • 深层"},{id:"3",name:"精油护肤霜",price:129,description:"24小时保湿滋养",benefit:"滋养 • 保湿 • 修护"}]},combination:{type:"混合肌肤",condition:"T区油，两颊干，需平衡护理",problems:["T区出油","两颊干燥","护理难度大","季节易变"],solutions:["分区护理","平衡补水","控油保湿兼顾","定期深层清洁"],recommendedProducts:[{id:"1",name:"平衡型洁面乳",price:85,description:"温和洁净，不伤肌肤",benefit:"温和 • 平衡 • 清洁"},{id:"2",name:"平衡补水爽肤水",price:79,description:"快速补水平衡",benefit:"平衡 • 补水 • 清爽"},{id:"3",name:"轻薄精华液",price:119,description:"吸收快，不油腻",benefit:"吸收快 • 不油腻 • 保湿"}]},sensitive:{type:"敏感肌肤",condition:"肌肤敏感易泛红，需温和护理",problems:["容易过敏","泛红发痒","容易长痘","脆弱敏感"],solutions:["舒缓修护","温和清洁","避免刺激","加强屏障"],recommendedProducts:[{id:"1",name:"敏感肌洁面乳",price:99,description:"超温和配方，不含刺激成分",benefit:"温和 • 舒缓 • 无刺激"},{id:"2",name:"敏感肌爽肤水",price:89,description:"舒缓镇定敏感肌",benefit:"舒缓 • 镇定 • 修护"},{id:"3",name:"修护面霜",price:139,description:"修护屏障，强效护理",benefit:"修护 • 强效 • 屏障"}]}},c=g=>{if(g.target.files&&g.target.files[0]){const p=new FileReader;p.onload=f=>{var h;t((h=f.target)==null?void 0:h.result)},p.readAsDataURL(g.target.files[0])}},u=()=>{e&&(l(!0),setTimeout(()=>{const g=Object.keys(d),p=g[Math.floor(Math.random()*g.length)];n(d[p]),l(!1),o("results")},2e3))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ot,{className:"w-6 h-6"}),r.jsx("h2",{className:"text-2xl font-bold",children:"AI皮肤检测"})]}),r.jsx("p",{className:"text-indigo-100",children:"拍照上传，智能分析肤质，获得专业护肤推荐"})]}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>o("detection"),className:`px-4 py-2 font-medium border-b-2 transition-all ${i==="detection"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(ot,{className:"w-4 h-4 inline mr-2"}),"检测皮肤"]}),s&&r.jsxs("button",{onClick:()=>o("results"),className:`px-4 py-2 font-medium border-b-2 transition-all ${i==="results"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Be,{className:"w-4 h-4 inline mr-2"}),"分析结果"]})]}),i==="detection"&&r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:e?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:e,alt:"Skin preview",className:"w-full h-64 object-cover rounded-lg"}),r.jsx("button",{onClick:()=>t(null),className:"absolute top-2 right-2 bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-600 transition-colors",children:"重新上传"})]}):r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center bg-gray-50",children:[r.jsx(ot,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium mb-4",children:"请上传或拍摄脸部照片"}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"为获得最佳效果，请确保照片清晰、光线充足"}),r.jsxs("label",{className:"inline-block",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"}),r.jsxs("span",{className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors cursor-pointer flex items-center gap-2 inline-flex",children:[r.jsx(Ic,{className:"w-4 h-4"}),"选择图片"]})]})]})}),e&&r.jsx("button",{onClick:u,disabled:a,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all disabled:opacity-50",children:a?"分析中...":"AI智能分析"}),r.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3",children:[r.jsx(Dt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"检测说明"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:" 需要清晰的面部照片"}),r.jsx("li",{children:" 自然光线条件下效果更好"}),r.jsx("li",{children:" AI分析结果仅供参考"}),r.jsx("li",{children:" 建议咨询专业美容师"})]})]})]})]})}),i==="results"&&s&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"诊断结果"}),r.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(zr,{className:"w-6 h-6 text-red-500"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:s.type})]}),r.jsx("p",{className:"text-gray-700",children:s.condition})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-3 text-red-600",children:"️ 主要问题"}),r.jsx("ul",{className:"space-y-2",children:s.problems.map((g,p)=>r.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),g]},p))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-3 text-green-600",children:" 护理建议"}),r.jsx("ul",{className:"space-y-2",children:s.solutions.map((g,p)=>r.jsxs("li",{className:"text-sm text-gray-600 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),g]},p))})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"推荐产品"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:s.recommendedProducts.map(g=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-all",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:g.name}),r.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),r.jsx("div",{className:"mb-3 flex items-center gap-1 text-xs",children:g.benefit.split(" • ").map((p,f)=>r.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded",children:p},f))}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:["¥",g.price]}),r.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(gt,{className:"w-5 h-5 text-gray-600"})})]})]},g.id))})]}),r.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg border border-indigo-200 p-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"建议下一步"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsx("li",{children:" 根据推荐产品制定护肤方案"}),r.jsx("li",{children:" 咨询专业美容师获取个性化建议"}),r.jsx("li",{children:" 定期复检监测肤质变化"}),r.jsx("li",{children:" 购买推荐产品开始护理"})]})]}),r.jsx("button",{onClick:()=>{o("detection"),t(null),n(null)},className:"w-full bg-gray-200 text-gray-900 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"返回重新检测"})]})]})},$2=()=>{const[e,t]=B.useState(null),[s,n]=B.useState(null),[a,l]=B.useState(!1),[i,o]=B.useState("detection"),[d,c]=B.useState([]),u=[{skinCondition:"健康光泽肌",skinTone:"均匀肤色",problems:["偶尔干燥","容易晒黑"],recommendations:["日常补水","防晒护理","定期深层清洁"],beautyScore:92,products:[{id:"1",name:"焕颜亮肤精华",category:"精华液",price:188,benefit:"提亮肤色",rating:4.8},{id:"2",name:"高效防晒霜SPF50",category:"防晒",price:158,benefit:"全面防护",rating:4.7},{id:"3",name:"深层补水面膜",category:"面膜",price:78,benefit:"密集补水",rating:4.9}],treatmentPlan:["日常护理","周护理（面膜）","月度深层护理"]},{skinCondition:"暗沉无光肌",skinTone:"肤色不均",problems:["暗沉无光","细纹明显","毛孔粗大"],recommendations:["焕颜美白","深层清洁","紧致护理"],beautyScore:68,products:[{id:"1",name:"360°焕颜精油",category:"精油",price:268,benefit:"焕颜美白",rating:4.9},{id:"2",name:"智能导入美白仪",category:"美容仪",price:1288,benefit:"深层导入",rating:4.8},{id:"3",name:"高浓度VC精华",category:"精华",price:228,benefit:"亮肤祛黄",rating:4.7}],treatmentPlan:["日常美白护理","周度专业焕肤","月度深层美白"]},{skinCondition:"紧致年轻肌",skinTone:"红润有气色",problems:["轻微法令纹","轻微皱纹"],recommendations:["抗衰护理","提拉紧致","补充营养"],beautyScore:88,products:[{id:"1",name:"抗衰精华液",category:"精华",price:298,benefit:"抗衰紧致",rating:4.9},{id:"2",name:"黄金紧致面膜",category:"面膜",price:128,benefit:"提拉紧致",rating:4.8},{id:"3",name:"眼周精华霜",category:"眼霜",price:218,benefit:"淡纹抗衰",rating:4.7}],treatmentPlan:["日常抗衰护理","周度提拉按摩","月度专业护理"]},{skinCondition:"敏感脆弱肌",skinTone:"易发红泛红",problems:["易过敏","泛红发痒","屏障受损"],recommendations:["舒缓修护","温和清洁","加强屏障"],beautyScore:55,products:[{id:"1",name:"舒缓修护精华",category:"精华",price:198,benefit:"舒缓镇定",rating:4.8},{id:"2",name:"温和洁面乳",category:"洁面",price:88,benefit:"温和清洁",rating:4.6},{id:"3",name:"屏障修护霜",category:"面霜",price:168,benefit:"修护屏障",rating:4.9}],treatmentPlan:["温和日常护理","定期舒缓护理","专业修护疗程"]}],g=f=>{if(f.target.files&&f.target.files[0]){const h=new FileReader;h.onload=b=>{var v;t((v=b.target)==null?void 0:v.result)},h.readAsDataURL(f.target.files[0])}},p=()=>{e&&(l(!0),setTimeout(()=>{const f=u[Math.floor(Math.random()*u.length)];n(f),c([...d,{date:new Date().toLocaleDateString(),analysis:f}]),l(!1),o("results")},3e3))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-pink-600 to-red-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(_o,{className:"w-8 h-8"}),r.jsx("h2",{className:"text-3xl font-bold",children:"AI智能美容诊断"})]}),r.jsx("p",{className:"text-pink-100",children:"拍照分析 | 智能诊断 | 专业美容建议 | 个性化产品推荐"})]}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>o("detection"),className:`px-4 py-2 font-medium border-b-2 transition-all flex items-center gap-2 ${i==="detection"?"border-pink-600 text-pink-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(ot,{className:"w-4 h-4"}),"美容检测"]}),s&&r.jsxs("button",{onClick:()=>o("results"),className:`px-4 py-2 font-medium border-b-2 transition-all flex items-center gap-2 ${i==="results"?"border-pink-600 text-pink-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(mr,{className:"w-4 h-4"}),"诊断结果"]}),d.length>0&&r.jsxs("button",{onClick:()=>o("detection"),className:"px-4 py-2 font-medium text-gray-600 text-sm",children:["检测记录: ",d.length,"次"]})]}),i==="detection"&&r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:e?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:e,alt:"Beauty preview",className:"w-full h-80 object-cover rounded-lg shadow-lg"}),r.jsx("button",{onClick:()=>t(null),className:"absolute top-2 right-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-medium",children:"重新上传"})]}):r.jsxs("div",{className:"border-3 border-dashed border-pink-300 rounded-lg p-16 text-center bg-pink-50",children:[r.jsx(ot,{className:"w-16 h-16 text-pink-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-700 font-bold text-lg mb-2",children:"拍摄或上传自拍照"}),r.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"清晰的面部照片，自然光线下效果最佳"}),r.jsxs("label",{className:"inline-block",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden"}),r.jsxs("span",{className:"bg-gradient-to-r from-pink-600 to-red-600 text-white px-8 py-4 rounded-lg hover:shadow-lg transition-all cursor-pointer flex items-center gap-2 inline-flex font-semibold text-lg",children:[r.jsx(Ic,{className:"w-5 h-5"}),"上传照片"]})]})]})}),e&&r.jsx("button",{onClick:p,disabled:a,className:"w-full bg-gradient-to-r from-pink-600 to-red-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-xl transition-all disabled:opacity-50",children:a?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"AI智能分析中..."]}):r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(_o,{className:"w-5 h-5"}),"开始美容诊断"]})}),r.jsxs("div",{className:"mt-10 bg-blue-50 border-2 border-blue-200 rounded-lg p-5 flex gap-4",children:[r.jsx(Dt,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-bold mb-2",children:" 诊断说明"}),r.jsxs("ul",{className:"space-y-1 text-xs leading-relaxed",children:[r.jsx("li",{children:" 需要清晰的正脸自拍照"}),r.jsx("li",{children:" 自然光线下效果更准确"}),r.jsx("li",{children:" AI分析涵盖肤质、肤色、问题等多维度"}),r.jsx("li",{children:" 获得专业美容建议和产品推荐"}),r.jsx("li",{children:" 支持历史对比，追踪美容效果"})]})]})]})]})}),i==="results"&&s&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-red-50 rounded-lg border-2 border-pink-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"美容评分"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl font-bold text-pink-600",children:s.beautyScore}),r.jsx("p",{className:"text-sm text-gray-600",children:"/ 100"})]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-pink-600 to-red-600 h-full transition-all duration-1000",style:{width:`${s.beautyScore}%`}})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" 皮肤诊断"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg",children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-2",children:" 肤质状态"}),r.jsx("p",{className:"text-2xl font-bold text-pink-600",children:s.skinCondition})]}),r.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg",children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-2",children:" 肤色"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.skinTone})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-3 text-red-600",children:"️ 皮肤问题"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:s.problems.map((f,h)=>r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:f})]},h))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-3 text-green-600",children:" 美容建议"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:s.recommendations.map((f,h)=>r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:f})]},h))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" 美容疗程方案"}),r.jsx("div",{className:"space-y-3",children:s.treatmentPlan.map((f,h)=>r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-pink-50 to-red-50 rounded-lg border border-pink-200",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-pink-600 to-red-600 flex items-center justify-center text-white font-bold",children:h+1}),r.jsx("span",{className:"font-medium text-gray-900",children:f})]},h))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"️ 专业产品推荐"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:s.products.map(f=>r.jsxs("div",{className:"border-2 border-pink-200 rounded-lg p-4 hover:shadow-xl transition-all bg-gradient-to-br from-white to-pink-50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-bold text-gray-900",children:f.name}),r.jsx("p",{className:"text-xs text-gray-600",children:f.category})]}),r.jsxs("div",{className:"flex items-center gap-0.5",children:[r.jsx("span",{className:"text-xs text-yellow-500"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:f.rating})]})]}),r.jsx("p",{className:"text-sm text-gray-700",children:f.benefit})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-2xl font-bold text-pink-600",children:["¥",f.price]}),r.jsx("button",{className:"p-2 hover:bg-pink-100 rounded-lg transition-colors",children:r.jsx(gt,{className:"w-5 h-5 text-pink-600"})})]})]},f.id))})]}),r.jsxs("div",{className:"bg-gradient-to-r from-pink-100 to-red-100 rounded-lg border-2 border-pink-300 p-6",children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:" 下一步建议"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-800",children:[r.jsx("li",{children:" 立即购买推荐产品，开始美容护理"}),r.jsx("li",{children:" 咨询专业美容师，获取个性化护理方案"}),r.jsx("li",{children:" 定期检测肌肤，追踪美容效果"}),r.jsx("li",{children:" 根据疗程方案，持续护理和改善"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{o("detection"),t(null),n(null)},className:"flex-1 bg-gray-200 text-gray-900 py-3 rounded-lg font-bold hover:bg-gray-300 transition-colors",children:"重新检测"}),r.jsx("button",{onClick:()=>window.print(),className:"flex-1 bg-gradient-to-r from-pink-600 to-red-600 text-white py-3 rounded-lg font-bold hover:shadow-lg transition-all",children:"保存报告"})]})]})]})};var eh={exports:{}};function L2(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ei={exports:{}};const z2={},H2=Object.freeze(Object.defineProperty({__proto__:null,default:z2},Symbol.toStringTag,{value:"Module"})),U2=yh(H2);var Td;function se(){return Td||(Td=1,function(e,t){(function(s,n){e.exports=n()})(X,function(){var s=s||function(n,a){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof X<"u"&&X.crypto&&(l=X.crypto),!l&&typeof L2=="function")try{l=U2}catch{}var i=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function m(){}return function(y){var j;return m.prototype=y,j=new m,m.prototype=null,j}}(),d={},c=d.lib={},u=c.Base=function(){return{extend:function(m){var y=o(this);return m&&y.mixIn(m),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var y in m)m.hasOwnProperty(y)&&(this[y]=m[y]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=c.WordArray=u.extend({init:function(m,y){m=this.words=m||[],y!=a?this.sigBytes=y:this.sigBytes=m.length*4},toString:function(m){return(m||f).stringify(this)},concat:function(m){var y=this.words,j=m.words,k=this.sigBytes,S=m.sigBytes;if(this.clamp(),k%4)for(var N=0;N<S;N++){var A=j[N>>>2]>>>24-N%4*8&255;y[k+N>>>2]|=A<<24-(k+N)%4*8}else for(var _=0;_<S;_+=4)y[k+_>>>2]=j[_>>>2];return this.sigBytes+=S,this},clamp:function(){var m=this.words,y=this.sigBytes;m[y>>>2]&=4294967295<<32-y%4*8,m.length=n.ceil(y/4)},clone:function(){var m=u.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var y=[],j=0;j<m;j+=4)y.push(i());return new g.init(y,m)}}),p=d.enc={},f=p.Hex={stringify:function(m){for(var y=m.words,j=m.sigBytes,k=[],S=0;S<j;S++){var N=y[S>>>2]>>>24-S%4*8&255;k.push((N>>>4).toString(16)),k.push((N&15).toString(16))}return k.join("")},parse:function(m){for(var y=m.length,j=[],k=0;k<y;k+=2)j[k>>>3]|=parseInt(m.substr(k,2),16)<<24-k%8*4;return new g.init(j,y/2)}},h=p.Latin1={stringify:function(m){for(var y=m.words,j=m.sigBytes,k=[],S=0;S<j;S++){var N=y[S>>>2]>>>24-S%4*8&255;k.push(String.fromCharCode(N))}return k.join("")},parse:function(m){for(var y=m.length,j=[],k=0;k<y;k++)j[k>>>2]|=(m.charCodeAt(k)&255)<<24-k%4*8;return new g.init(j,y)}},b=p.Utf8={stringify:function(m){try{return decodeURIComponent(escape(h.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return h.parse(unescape(encodeURIComponent(m)))}},v=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=b.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var y,j=this._data,k=j.words,S=j.sigBytes,N=this.blockSize,A=N*4,_=S/A;m?_=n.ceil(_):_=n.max((_|0)-this._minBufferSize,0);var C=_*N,w=n.min(C*4,S);if(C){for(var E=0;E<C;E+=N)this._doProcessBlock(k,E);y=k.splice(0,C),j.sigBytes-=w}return new g.init(y,w)},clone:function(){var m=u.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});c.Hasher=v.extend({cfg:u.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(m){return function(y,j){return new m.init(j).finalize(y)}},_createHmacHelper:function(m){return function(y,j){return new x.HMAC.init(m,j).finalize(y)}}});var x=d.algo={};return d}(Math);return s})}(ei)),ei.exports}var ti={exports:{}},Rd;function yl(){return Rd||(Rd=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){return function(n){var a=s,l=a.lib,i=l.Base,o=l.WordArray,d=a.x64={};d.Word=i.extend({init:function(c,u){this.high=c,this.low=u}}),d.WordArray=i.extend({init:function(c,u){c=this.words=c||[],u!=n?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,g=[],p=0;p<u;p++){var f=c[p];g.push(f.high),g.push(f.low)}return o.create(g,this.sigBytes)},clone:function(){for(var c=i.clone.call(this),u=c.words=this.words.slice(0),g=u.length,p=0;p<g;p++)u[p]=u[p].clone();return c}})}(),s})}(ti)),ti.exports}var ri={exports:{}},Id;function q2(){return Id||(Id=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){return function(){if(typeof ArrayBuffer=="function"){var n=s,a=n.lib,l=a.WordArray,i=l.init,o=l.init=function(d){if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),(d instanceof Int8Array||typeof Uint8ClampedArray<"u"&&d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),d instanceof Uint8Array){for(var c=d.byteLength,u=[],g=0;g<c;g++)u[g>>>2]|=d[g]<<24-g%4*8;i.call(this,u,c)}else i.apply(this,arguments)};o.prototype=l}}(),s.lib.WordArray})}(ri)),ri.exports}var si={exports:{}},Md;function V2(){return Md||(Md=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.WordArray,i=n.enc;i.Utf16=i.Utf16BE={stringify:function(d){for(var c=d.words,u=d.sigBytes,g=[],p=0;p<u;p+=2){var f=c[p>>>2]>>>16-p%4*8&65535;g.push(String.fromCharCode(f))}return g.join("")},parse:function(d){for(var c=d.length,u=[],g=0;g<c;g++)u[g>>>1]|=d.charCodeAt(g)<<16-g%2*16;return l.create(u,c*2)}},i.Utf16LE={stringify:function(d){for(var c=d.words,u=d.sigBytes,g=[],p=0;p<u;p+=2){var f=o(c[p>>>2]>>>16-p%4*8&65535);g.push(String.fromCharCode(f))}return g.join("")},parse:function(d){for(var c=d.length,u=[],g=0;g<c;g++)u[g>>>1]|=o(d.charCodeAt(g)<<16-g%2*16);return l.create(u,c*2)}};function o(d){return d<<8&4278255360|d>>>8&16711935}}(),s.enc.Utf16})}(si)),si.exports}var ni={exports:{}},Od;function Wr(){return Od||(Od=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.WordArray,i=n.enc;i.Base64={stringify:function(d){var c=d.words,u=d.sigBytes,g=this._map;d.clamp();for(var p=[],f=0;f<u;f+=3)for(var h=c[f>>>2]>>>24-f%4*8&255,b=c[f+1>>>2]>>>24-(f+1)%4*8&255,v=c[f+2>>>2]>>>24-(f+2)%4*8&255,x=h<<16|b<<8|v,m=0;m<4&&f+m*.75<u;m++)p.push(g.charAt(x>>>6*(3-m)&63));var y=g.charAt(64);if(y)for(;p.length%4;)p.push(y);return p.join("")},parse:function(d){var c=d.length,u=this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var p=0;p<u.length;p++)g[u.charCodeAt(p)]=p}var f=u.charAt(64);if(f){var h=d.indexOf(f);h!==-1&&(c=h)}return o(d,c,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(d,c,u){for(var g=[],p=0,f=0;f<c;f++)if(f%4){var h=u[d.charCodeAt(f-1)]<<f%4*2,b=u[d.charCodeAt(f)]>>>6-f%4*2,v=h|b;g[p>>>2]|=v<<24-p%4*8,p++}return l.create(g,p)}}(),s.enc.Base64})}(ni)),ni.exports}var ai={exports:{}},$d;function W2(){return $d||($d=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.WordArray,i=n.enc;i.Base64url={stringify:function(d,c){c===void 0&&(c=!0);var u=d.words,g=d.sigBytes,p=c?this._safe_map:this._map;d.clamp();for(var f=[],h=0;h<g;h+=3)for(var b=u[h>>>2]>>>24-h%4*8&255,v=u[h+1>>>2]>>>24-(h+1)%4*8&255,x=u[h+2>>>2]>>>24-(h+2)%4*8&255,m=b<<16|v<<8|x,y=0;y<4&&h+y*.75<g;y++)f.push(p.charAt(m>>>6*(3-y)&63));var j=p.charAt(64);if(j)for(;f.length%4;)f.push(j);return f.join("")},parse:function(d,c){c===void 0&&(c=!0);var u=d.length,g=c?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var f=0;f<g.length;f++)p[g.charCodeAt(f)]=f}var h=g.charAt(64);if(h){var b=d.indexOf(h);b!==-1&&(u=b)}return o(d,u,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(d,c,u){for(var g=[],p=0,f=0;f<c;f++)if(f%4){var h=u[d.charCodeAt(f-1)]<<f%4*2,b=u[d.charCodeAt(f)]>>>6-f%4*2,v=h|b;g[p>>>2]|=v<<24-p%4*8,p++}return l.create(g,p)}}(),s.enc.Base64url})}(ai)),ai.exports}var li={exports:{}},Ld;function Kr(){return Ld||(Ld=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){return function(n){var a=s,l=a.lib,i=l.WordArray,o=l.Hasher,d=a.algo,c=[];(function(){for(var b=0;b<64;b++)c[b]=n.abs(n.sin(b+1))*4294967296|0})();var u=d.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,v){for(var x=0;x<16;x++){var m=v+x,y=b[m];b[m]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var j=this._hash.words,k=b[v+0],S=b[v+1],N=b[v+2],A=b[v+3],_=b[v+4],C=b[v+5],w=b[v+6],E=b[v+7],F=b[v+8],O=b[v+9],z=b[v+10],q=b[v+11],G=b[v+12],M=b[v+13],U=b[v+14],V=b[v+15],P=j[0],I=j[1],L=j[2],$=j[3];P=g(P,I,L,$,k,7,c[0]),$=g($,P,I,L,S,12,c[1]),L=g(L,$,P,I,N,17,c[2]),I=g(I,L,$,P,A,22,c[3]),P=g(P,I,L,$,_,7,c[4]),$=g($,P,I,L,C,12,c[5]),L=g(L,$,P,I,w,17,c[6]),I=g(I,L,$,P,E,22,c[7]),P=g(P,I,L,$,F,7,c[8]),$=g($,P,I,L,O,12,c[9]),L=g(L,$,P,I,z,17,c[10]),I=g(I,L,$,P,q,22,c[11]),P=g(P,I,L,$,G,7,c[12]),$=g($,P,I,L,M,12,c[13]),L=g(L,$,P,I,U,17,c[14]),I=g(I,L,$,P,V,22,c[15]),P=p(P,I,L,$,S,5,c[16]),$=p($,P,I,L,w,9,c[17]),L=p(L,$,P,I,q,14,c[18]),I=p(I,L,$,P,k,20,c[19]),P=p(P,I,L,$,C,5,c[20]),$=p($,P,I,L,z,9,c[21]),L=p(L,$,P,I,V,14,c[22]),I=p(I,L,$,P,_,20,c[23]),P=p(P,I,L,$,O,5,c[24]),$=p($,P,I,L,U,9,c[25]),L=p(L,$,P,I,A,14,c[26]),I=p(I,L,$,P,F,20,c[27]),P=p(P,I,L,$,M,5,c[28]),$=p($,P,I,L,N,9,c[29]),L=p(L,$,P,I,E,14,c[30]),I=p(I,L,$,P,G,20,c[31]),P=f(P,I,L,$,C,4,c[32]),$=f($,P,I,L,F,11,c[33]),L=f(L,$,P,I,q,16,c[34]),I=f(I,L,$,P,U,23,c[35]),P=f(P,I,L,$,S,4,c[36]),$=f($,P,I,L,_,11,c[37]),L=f(L,$,P,I,E,16,c[38]),I=f(I,L,$,P,z,23,c[39]),P=f(P,I,L,$,M,4,c[40]),$=f($,P,I,L,k,11,c[41]),L=f(L,$,P,I,A,16,c[42]),I=f(I,L,$,P,w,23,c[43]),P=f(P,I,L,$,O,4,c[44]),$=f($,P,I,L,G,11,c[45]),L=f(L,$,P,I,V,16,c[46]),I=f(I,L,$,P,N,23,c[47]),P=h(P,I,L,$,k,6,c[48]),$=h($,P,I,L,E,10,c[49]),L=h(L,$,P,I,U,15,c[50]),I=h(I,L,$,P,C,21,c[51]),P=h(P,I,L,$,G,6,c[52]),$=h($,P,I,L,A,10,c[53]),L=h(L,$,P,I,z,15,c[54]),I=h(I,L,$,P,S,21,c[55]),P=h(P,I,L,$,F,6,c[56]),$=h($,P,I,L,V,10,c[57]),L=h(L,$,P,I,w,15,c[58]),I=h(I,L,$,P,M,21,c[59]),P=h(P,I,L,$,_,6,c[60]),$=h($,P,I,L,q,10,c[61]),L=h(L,$,P,I,N,15,c[62]),I=h(I,L,$,P,O,21,c[63]),j[0]=j[0]+P|0,j[1]=j[1]+I|0,j[2]=j[2]+L|0,j[3]=j[3]+$|0},_doFinalize:function(){var b=this._data,v=b.words,x=this._nDataBytes*8,m=b.sigBytes*8;v[m>>>5]|=128<<24-m%32;var y=n.floor(x/4294967296),j=x;v[(m+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v[(m+64>>>9<<4)+14]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,b.sigBytes=(v.length+1)*4,this._process();for(var k=this._hash,S=k.words,N=0;N<4;N++){var A=S[N];S[N]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return k},clone:function(){var b=o.clone.call(this);return b._hash=this._hash.clone(),b}});function g(b,v,x,m,y,j,k){var S=b+(v&x|~v&m)+y+k;return(S<<j|S>>>32-j)+v}function p(b,v,x,m,y,j,k){var S=b+(v&m|x&~m)+y+k;return(S<<j|S>>>32-j)+v}function f(b,v,x,m,y,j,k){var S=b+(v^x^m)+y+k;return(S<<j|S>>>32-j)+v}function h(b,v,x,m,y,j,k){var S=b+(x^(v|~m))+y+k;return(S<<j|S>>>32-j)+v}a.MD5=o._createHelper(u),a.HmacMD5=o._createHmacHelper(u)}(Math),s.MD5})}(li)),li.exports}var ii={exports:{}},zd;function th(){return zd||(zd=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.WordArray,i=a.Hasher,o=n.algo,d=[],c=o.SHA1=i.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,g){for(var p=this._hash.words,f=p[0],h=p[1],b=p[2],v=p[3],x=p[4],m=0;m<80;m++){if(m<16)d[m]=u[g+m]|0;else{var y=d[m-3]^d[m-8]^d[m-14]^d[m-16];d[m]=y<<1|y>>>31}var j=(f<<5|f>>>27)+x+d[m];m<20?j+=(h&b|~h&v)+1518500249:m<40?j+=(h^b^v)+1859775393:m<60?j+=(h&b|h&v|b&v)-1894007588:j+=(h^b^v)-899497514,x=v,v=b,b=h<<30|h>>>2,h=f,f=j}p[0]=p[0]+f|0,p[1]=p[1]+h|0,p[2]=p[2]+b|0,p[3]=p[3]+v|0,p[4]=p[4]+x|0},_doFinalize:function(){var u=this._data,g=u.words,p=this._nDataBytes*8,f=u.sigBytes*8;return g[f>>>5]|=128<<24-f%32,g[(f+64>>>9<<4)+14]=Math.floor(p/4294967296),g[(f+64>>>9<<4)+15]=p,u.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var u=i.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=i._createHelper(c),n.HmacSHA1=i._createHmacHelper(c)}(),s.SHA1})}(ii)),ii.exports}var oi={exports:{}},Hd;function zc(){return Hd||(Hd=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){return function(n){var a=s,l=a.lib,i=l.WordArray,o=l.Hasher,d=a.algo,c=[],u=[];(function(){function f(x){for(var m=n.sqrt(x),y=2;y<=m;y++)if(!(x%y))return!1;return!0}function h(x){return(x-(x|0))*4294967296|0}for(var b=2,v=0;v<64;)f(b)&&(v<8&&(c[v]=h(n.pow(b,1/2))),u[v]=h(n.pow(b,1/3)),v++),b++})();var g=[],p=d.SHA256=o.extend({_doReset:function(){this._hash=new i.init(c.slice(0))},_doProcessBlock:function(f,h){for(var b=this._hash.words,v=b[0],x=b[1],m=b[2],y=b[3],j=b[4],k=b[5],S=b[6],N=b[7],A=0;A<64;A++){if(A<16)g[A]=f[h+A]|0;else{var _=g[A-15],C=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,w=g[A-2],E=(w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10;g[A]=C+g[A-7]+E+g[A-16]}var F=j&k^~j&S,O=v&x^v&m^x&m,z=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),q=(j<<26|j>>>6)^(j<<21|j>>>11)^(j<<7|j>>>25),G=N+q+F+u[A]+g[A],M=z+O;N=S,S=k,k=j,j=y+G|0,y=m,m=x,x=v,v=G+M|0}b[0]=b[0]+v|0,b[1]=b[1]+x|0,b[2]=b[2]+m|0,b[3]=b[3]+y|0,b[4]=b[4]+j|0,b[5]=b[5]+k|0,b[6]=b[6]+S|0,b[7]=b[7]+N|0},_doFinalize:function(){var f=this._data,h=f.words,b=this._nDataBytes*8,v=f.sigBytes*8;return h[v>>>5]|=128<<24-v%32,h[(v+64>>>9<<4)+14]=n.floor(b/4294967296),h[(v+64>>>9<<4)+15]=b,f.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var f=o.clone.call(this);return f._hash=this._hash.clone(),f}});a.SHA256=o._createHelper(p),a.HmacSHA256=o._createHmacHelper(p)}(Math),s.SHA256})}(oi)),oi.exports}var ci={exports:{}},Ud;function K2(){return Ud||(Ud=1,function(e,t){(function(s,n,a){e.exports=n(se(),zc())})(X,function(s){return function(){var n=s,a=n.lib,l=a.WordArray,i=n.algo,o=i.SHA256,d=i.SHA224=o.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=o._doFinalize.call(this);return c.sigBytes-=4,c}});n.SHA224=o._createHelper(d),n.HmacSHA224=o._createHmacHelper(d)}(),s.SHA224})}(ci)),ci.exports}var di={exports:{}},qd;function rh(){return qd||(qd=1,function(e,t){(function(s,n,a){e.exports=n(se(),yl())})(X,function(s){return function(){var n=s,a=n.lib,l=a.Hasher,i=n.x64,o=i.Word,d=i.WordArray,c=n.algo;function u(){return o.create.apply(o,arguments)}var g=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],p=[];(function(){for(var h=0;h<80;h++)p[h]=u()})();var f=c.SHA512=l.extend({_doReset:function(){this._hash=new d.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(h,b){for(var v=this._hash.words,x=v[0],m=v[1],y=v[2],j=v[3],k=v[4],S=v[5],N=v[6],A=v[7],_=x.high,C=x.low,w=m.high,E=m.low,F=y.high,O=y.low,z=j.high,q=j.low,G=k.high,M=k.low,U=S.high,V=S.low,P=N.high,I=N.low,L=A.high,$=A.low,te=_,Y=C,pe=w,Q=E,Nt=F,ut=O,D=z,ae=q,ee=G,R=M,ue=U,wt=V,yr=P,vr=I,br=L,Ts=$,xt=0;xt<80;xt++){var rt,Vt,In=p[xt];if(xt<16)Vt=In.high=h[b+xt*2]|0,rt=In.low=h[b+xt*2+1]|0;else{var Uc=p[xt-15],Gr=Uc.high,Rs=Uc.low,sh=(Gr>>>1|Rs<<31)^(Gr>>>8|Rs<<24)^Gr>>>7,qc=(Rs>>>1|Gr<<31)^(Rs>>>8|Gr<<24)^(Rs>>>7|Gr<<25),Vc=p[xt-2],Qr=Vc.high,Is=Vc.low,nh=(Qr>>>19|Is<<13)^(Qr<<3|Is>>>29)^Qr>>>6,Wc=(Is>>>19|Qr<<13)^(Is<<3|Qr>>>29)^(Is>>>6|Qr<<26),Kc=p[xt-7],ah=Kc.high,lh=Kc.low,Gc=p[xt-16],ih=Gc.high,Qc=Gc.low;rt=qc+lh,Vt=sh+ah+(rt>>>0<qc>>>0?1:0),rt=rt+Wc,Vt=Vt+nh+(rt>>>0<Wc>>>0?1:0),rt=rt+Qc,Vt=Vt+ih+(rt>>>0<Qc>>>0?1:0),In.high=Vt,In.low=rt}var oh=ee&ue^~ee&yr,Jc=R&wt^~R&vr,ch=te&pe^te&Nt^pe&Nt,dh=Y&Q^Y&ut^Q&ut,uh=(te>>>28|Y<<4)^(te<<30|Y>>>2)^(te<<25|Y>>>7),Xc=(Y>>>28|te<<4)^(Y<<30|te>>>2)^(Y<<25|te>>>7),xh=(ee>>>14|R<<18)^(ee>>>18|R<<14)^(ee<<23|R>>>9),mh=(R>>>14|ee<<18)^(R>>>18|ee<<14)^(R<<23|ee>>>9),Yc=g[xt],ph=Yc.high,Zc=Yc.low,Ke=Ts+mh,Wt=br+xh+(Ke>>>0<Ts>>>0?1:0),Ke=Ke+Jc,Wt=Wt+oh+(Ke>>>0<Jc>>>0?1:0),Ke=Ke+Zc,Wt=Wt+ph+(Ke>>>0<Zc>>>0?1:0),Ke=Ke+rt,Wt=Wt+Vt+(Ke>>>0<rt>>>0?1:0),e0=Xc+dh,hh=uh+ch+(e0>>>0<Xc>>>0?1:0);br=yr,Ts=vr,yr=ue,vr=wt,ue=ee,wt=R,R=ae+Ke|0,ee=D+Wt+(R>>>0<ae>>>0?1:0)|0,D=Nt,ae=ut,Nt=pe,ut=Q,pe=te,Q=Y,Y=Ke+e0|0,te=Wt+hh+(Y>>>0<Ke>>>0?1:0)|0}C=x.low=C+Y,x.high=_+te+(C>>>0<Y>>>0?1:0),E=m.low=E+Q,m.high=w+pe+(E>>>0<Q>>>0?1:0),O=y.low=O+ut,y.high=F+Nt+(O>>>0<ut>>>0?1:0),q=j.low=q+ae,j.high=z+D+(q>>>0<ae>>>0?1:0),M=k.low=M+R,k.high=G+ee+(M>>>0<R>>>0?1:0),V=S.low=V+wt,S.high=U+ue+(V>>>0<wt>>>0?1:0),I=N.low=I+vr,N.high=P+yr+(I>>>0<vr>>>0?1:0),$=A.low=$+Ts,A.high=L+br+($>>>0<Ts>>>0?1:0)},_doFinalize:function(){var h=this._data,b=h.words,v=this._nDataBytes*8,x=h.sigBytes*8;b[x>>>5]|=128<<24-x%32,b[(x+128>>>10<<5)+30]=Math.floor(v/4294967296),b[(x+128>>>10<<5)+31]=v,h.sigBytes=b.length*4,this._process();var m=this._hash.toX32();return m},clone:function(){var h=l.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});n.SHA512=l._createHelper(f),n.HmacSHA512=l._createHmacHelper(f)}(),s.SHA512})}(di)),di.exports}var ui={exports:{}},Vd;function G2(){return Vd||(Vd=1,function(e,t){(function(s,n,a){e.exports=n(se(),yl(),rh())})(X,function(s){return function(){var n=s,a=n.x64,l=a.Word,i=a.WordArray,o=n.algo,d=o.SHA512,c=o.SHA384=d.extend({_doReset:function(){this._hash=new i.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var u=d._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=d._createHelper(c),n.HmacSHA384=d._createHmacHelper(c)}(),s.SHA384})}(ui)),ui.exports}var xi={exports:{}},Wd;function Q2(){return Wd||(Wd=1,function(e,t){(function(s,n,a){e.exports=n(se(),yl())})(X,function(s){return function(n){var a=s,l=a.lib,i=l.WordArray,o=l.Hasher,d=a.x64,c=d.Word,u=a.algo,g=[],p=[],f=[];(function(){for(var v=1,x=0,m=0;m<24;m++){g[v+5*x]=(m+1)*(m+2)/2%64;var y=x%5,j=(2*v+3*x)%5;v=y,x=j}for(var v=0;v<5;v++)for(var x=0;x<5;x++)p[v+5*x]=x+(2*v+3*x)%5*5;for(var k=1,S=0;S<24;S++){for(var N=0,A=0,_=0;_<7;_++){if(k&1){var C=(1<<_)-1;C<32?A^=1<<C:N^=1<<C-32}k&128?k=k<<1^113:k<<=1}f[S]=c.create(N,A)}})();var h=[];(function(){for(var v=0;v<25;v++)h[v]=c.create()})();var b=u.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],x=0;x<25;x++)v[x]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,x){for(var m=this._state,y=this.blockSize/2,j=0;j<y;j++){var k=v[x+2*j],S=v[x+2*j+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var N=m[j];N.high^=S,N.low^=k}for(var A=0;A<24;A++){for(var _=0;_<5;_++){for(var C=0,w=0,E=0;E<5;E++){var N=m[_+5*E];C^=N.high,w^=N.low}var F=h[_];F.high=C,F.low=w}for(var _=0;_<5;_++)for(var O=h[(_+4)%5],z=h[(_+1)%5],q=z.high,G=z.low,C=O.high^(q<<1|G>>>31),w=O.low^(G<<1|q>>>31),E=0;E<5;E++){var N=m[_+5*E];N.high^=C,N.low^=w}for(var M=1;M<25;M++){var C,w,N=m[M],U=N.high,V=N.low,P=g[M];P<32?(C=U<<P|V>>>32-P,w=V<<P|U>>>32-P):(C=V<<P-32|U>>>64-P,w=U<<P-32|V>>>64-P);var I=h[p[M]];I.high=C,I.low=w}var L=h[0],$=m[0];L.high=$.high,L.low=$.low;for(var _=0;_<5;_++)for(var E=0;E<5;E++){var M=_+5*E,N=m[M],te=h[M],Y=h[(_+1)%5+5*E],pe=h[(_+2)%5+5*E];N.high=te.high^~Y.high&pe.high,N.low=te.low^~Y.low&pe.low}var N=m[0],Q=f[A];N.high^=Q.high,N.low^=Q.low}},_doFinalize:function(){var v=this._data,x=v.words;this._nDataBytes*8;var m=v.sigBytes*8,y=this.blockSize*32;x[m>>>5]|=1<<24-m%32,x[(n.ceil((m+1)/y)*y>>>5)-1]|=128,v.sigBytes=x.length*4,this._process();for(var j=this._state,k=this.cfg.outputLength/8,S=k/8,N=[],A=0;A<S;A++){var _=j[A],C=_.high,w=_.low;C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,N.push(w),N.push(C)}return new i.init(N,k)},clone:function(){for(var v=o.clone.call(this),x=v._state=this._state.slice(0),m=0;m<25;m++)x[m]=x[m].clone();return v}});a.SHA3=o._createHelper(b),a.HmacSHA3=o._createHmacHelper(b)}(Math),s.SHA3})}(xi)),xi.exports}var mi={exports:{}},Kd;function J2(){return Kd||(Kd=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=s,l=a.lib,i=l.WordArray,o=l.Hasher,d=a.algo,c=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),g=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),b=d.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,N){for(var A=0;A<16;A++){var _=N+A,C=S[_];S[_]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var w=this._hash.words,E=f.words,F=h.words,O=c.words,z=u.words,q=g.words,G=p.words,M,U,V,P,I,L,$,te,Y,pe;L=M=w[0],$=U=w[1],te=V=w[2],Y=P=w[3],pe=I=w[4];for(var Q,A=0;A<80;A+=1)Q=M+S[N+O[A]]|0,A<16?Q+=v(U,V,P)+E[0]:A<32?Q+=x(U,V,P)+E[1]:A<48?Q+=m(U,V,P)+E[2]:A<64?Q+=y(U,V,P)+E[3]:Q+=j(U,V,P)+E[4],Q=Q|0,Q=k(Q,q[A]),Q=Q+I|0,M=I,I=P,P=k(V,10),V=U,U=Q,Q=L+S[N+z[A]]|0,A<16?Q+=j($,te,Y)+F[0]:A<32?Q+=y($,te,Y)+F[1]:A<48?Q+=m($,te,Y)+F[2]:A<64?Q+=x($,te,Y)+F[3]:Q+=v($,te,Y)+F[4],Q=Q|0,Q=k(Q,G[A]),Q=Q+pe|0,L=pe,pe=Y,Y=k(te,10),te=$,$=Q;Q=w[1]+V+Y|0,w[1]=w[2]+P+pe|0,w[2]=w[3]+I+L|0,w[3]=w[4]+M+$|0,w[4]=w[0]+U+te|0,w[0]=Q},_doFinalize:function(){var S=this._data,N=S.words,A=this._nDataBytes*8,_=S.sigBytes*8;N[_>>>5]|=128<<24-_%32,N[(_+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S.sigBytes=(N.length+1)*4,this._process();for(var C=this._hash,w=C.words,E=0;E<5;E++){var F=w[E];w[E]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return C},clone:function(){var S=o.clone.call(this);return S._hash=this._hash.clone(),S}});function v(S,N,A){return S^N^A}function x(S,N,A){return S&N|~S&A}function m(S,N,A){return(S|~N)^A}function y(S,N,A){return S&A|N&~A}function j(S,N,A){return S^(N|~A)}function k(S,N){return S<<N|S>>>32-N}a.RIPEMD160=o._createHelper(b),a.HmacRIPEMD160=o._createHmacHelper(b)}(),s.RIPEMD160})}(mi)),mi.exports}var pi={exports:{}},Gd;function Hc(){return Gd||(Gd=1,function(e,t){(function(s,n){e.exports=n(se())})(X,function(s){(function(){var n=s,a=n.lib,l=a.Base,i=n.enc,o=i.Utf8,d=n.algo;d.HMAC=l.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=o.parse(u));var g=c.blockSize,p=g*4;u.sigBytes>p&&(u=c.finalize(u)),u.clamp();for(var f=this._oKey=u.clone(),h=this._iKey=u.clone(),b=f.words,v=h.words,x=0;x<g;x++)b[x]^=1549556828,v[x]^=909522486;f.sigBytes=h.sigBytes=p,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,g=u.finalize(c);u.reset();var p=u.finalize(this._oKey.clone().concat(g));return p}})})()})}(pi)),pi.exports}var hi={exports:{}},Qd;function X2(){return Qd||(Qd=1,function(e,t){(function(s,n,a){e.exports=n(se(),zc(),Hc())})(X,function(s){return function(){var n=s,a=n.lib,l=a.Base,i=a.WordArray,o=n.algo,d=o.SHA256,c=o.HMAC,u=o.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:d,iterations:25e4}),init:function(g){this.cfg=this.cfg.extend(g)},compute:function(g,p){for(var f=this.cfg,h=c.create(f.hasher,g),b=i.create(),v=i.create([1]),x=b.words,m=v.words,y=f.keySize,j=f.iterations;x.length<y;){var k=h.update(p).finalize(v);h.reset();for(var S=k.words,N=S.length,A=k,_=1;_<j;_++){A=h.finalize(A),h.reset();for(var C=A.words,w=0;w<N;w++)S[w]^=C[w]}b.concat(k),m[0]++}return b.sigBytes=y*4,b}});n.PBKDF2=function(g,p,f){return u.create(f).compute(g,p)}}(),s.PBKDF2})}(hi)),hi.exports}var fi={exports:{}},Jd;function gr(){return Jd||(Jd=1,function(e,t){(function(s,n,a){e.exports=n(se(),th(),Hc())})(X,function(s){return function(){var n=s,a=n.lib,l=a.Base,i=a.WordArray,o=n.algo,d=o.MD5,c=o.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:d,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,g){for(var p,f=this.cfg,h=f.hasher.create(),b=i.create(),v=b.words,x=f.keySize,m=f.iterations;v.length<x;){p&&h.update(p),p=h.update(u).finalize(g),h.reset();for(var y=1;y<m;y++)p=h.finalize(p),h.reset();b.concat(p)}return b.sigBytes=x*4,b}});n.EvpKDF=function(u,g,p){return c.create(p).compute(u,g)}}(),s.EvpKDF})}(fi)),fi.exports}var gi={exports:{}},Xd;function Se(){return Xd||(Xd=1,function(e,t){(function(s,n,a){e.exports=n(se(),gr())})(X,function(s){s.lib.Cipher||function(n){var a=s,l=a.lib,i=l.Base,o=l.WordArray,d=l.BufferedBlockAlgorithm,c=a.enc;c.Utf8;var u=c.Base64,g=a.algo,p=g.EvpKDF,f=l.Cipher=d.extend({cfg:i.extend(),createEncryptor:function(C,w){return this.create(this._ENC_XFORM_MODE,C,w)},createDecryptor:function(C,w){return this.create(this._DEC_XFORM_MODE,C,w)},init:function(C,w,E){this.cfg=this.cfg.extend(E),this._xformMode=C,this._key=w,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(C){return this._append(C),this._process()},finalize:function(C){C&&this._append(C);var w=this._doFinalize();return w},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function C(w){return typeof w=="string"?_:S}return function(w){return{encrypt:function(E,F,O){return C(F).encrypt(w,E,F,O)},decrypt:function(E,F,O){return C(F).decrypt(w,E,F,O)}}}}()});l.StreamCipher=f.extend({_doFinalize:function(){var C=this._process(!0);return C},blockSize:1});var h=a.mode={},b=l.BlockCipherMode=i.extend({createEncryptor:function(C,w){return this.Encryptor.create(C,w)},createDecryptor:function(C,w){return this.Decryptor.create(C,w)},init:function(C,w){this._cipher=C,this._iv=w}}),v=h.CBC=function(){var C=b.extend();C.Encryptor=C.extend({processBlock:function(E,F){var O=this._cipher,z=O.blockSize;w.call(this,E,F,z),O.encryptBlock(E,F),this._prevBlock=E.slice(F,F+z)}}),C.Decryptor=C.extend({processBlock:function(E,F){var O=this._cipher,z=O.blockSize,q=E.slice(F,F+z);O.decryptBlock(E,F),w.call(this,E,F,z),this._prevBlock=q}});function w(E,F,O){var z,q=this._iv;q?(z=q,this._iv=n):z=this._prevBlock;for(var G=0;G<O;G++)E[F+G]^=z[G]}return C}(),x=a.pad={},m=x.Pkcs7={pad:function(C,w){for(var E=w*4,F=E-C.sigBytes%E,O=F<<24|F<<16|F<<8|F,z=[],q=0;q<F;q+=4)z.push(O);var G=o.create(z,F);C.concat(G)},unpad:function(C){var w=C.words[C.sigBytes-1>>>2]&255;C.sigBytes-=w}};l.BlockCipher=f.extend({cfg:f.cfg.extend({mode:v,padding:m}),reset:function(){var C;f.reset.call(this);var w=this.cfg,E=w.iv,F=w.mode;this._xformMode==this._ENC_XFORM_MODE?C=F.createEncryptor:(C=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==C?this._mode.init(this,E&&E.words):(this._mode=C.call(F,this,E&&E.words),this._mode.__creator=C)},_doProcessBlock:function(C,w){this._mode.processBlock(C,w)},_doFinalize:function(){var C,w=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(w.pad(this._data,this.blockSize),C=this._process(!0)):(C=this._process(!0),w.unpad(C)),C},blockSize:128/32});var y=l.CipherParams=i.extend({init:function(C){this.mixIn(C)},toString:function(C){return(C||this.formatter).stringify(this)}}),j=a.format={},k=j.OpenSSL={stringify:function(C){var w,E=C.ciphertext,F=C.salt;return F?w=o.create([1398893684,1701076831]).concat(F).concat(E):w=E,w.toString(u)},parse:function(C){var w,E=u.parse(C),F=E.words;return F[0]==1398893684&&F[1]==1701076831&&(w=o.create(F.slice(2,4)),F.splice(0,4),E.sigBytes-=16),y.create({ciphertext:E,salt:w})}},S=l.SerializableCipher=i.extend({cfg:i.extend({format:k}),encrypt:function(C,w,E,F){F=this.cfg.extend(F);var O=C.createEncryptor(E,F),z=O.finalize(w),q=O.cfg;return y.create({ciphertext:z,key:E,iv:q.iv,algorithm:C,mode:q.mode,padding:q.padding,blockSize:C.blockSize,formatter:F.format})},decrypt:function(C,w,E,F){F=this.cfg.extend(F),w=this._parse(w,F.format);var O=C.createDecryptor(E,F).finalize(w.ciphertext);return O},_parse:function(C,w){return typeof C=="string"?w.parse(C,this):C}}),N=a.kdf={},A=N.OpenSSL={execute:function(C,w,E,F,O){if(F||(F=o.random(64/8)),O)var z=p.create({keySize:w+E,hasher:O}).compute(C,F);else var z=p.create({keySize:w+E}).compute(C,F);var q=o.create(z.words.slice(w),E*4);return z.sigBytes=w*4,y.create({key:z,iv:q,salt:F})}},_=l.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:A}),encrypt:function(C,w,E,F){F=this.cfg.extend(F);var O=F.kdf.execute(E,C.keySize,C.ivSize,F.salt,F.hasher);F.iv=O.iv;var z=S.encrypt.call(this,C,w,O.key,F);return z.mixIn(O),z},decrypt:function(C,w,E,F){F=this.cfg.extend(F),w=this._parse(w,F.format);var O=F.kdf.execute(E,C.keySize,C.ivSize,w.salt,F.hasher);F.iv=O.iv;var z=S.decrypt.call(this,C,w,O.key,F);return z}})}()})}(gi)),gi.exports}var yi={exports:{}},Yd;function Y2(){return Yd||(Yd=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.mode.CFB=function(){var n=s.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(l,i){var o=this._cipher,d=o.blockSize;a.call(this,l,i,d,o),this._prevBlock=l.slice(i,i+d)}}),n.Decryptor=n.extend({processBlock:function(l,i){var o=this._cipher,d=o.blockSize,c=l.slice(i,i+d);a.call(this,l,i,d,o),this._prevBlock=c}});function a(l,i,o,d){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,d.encryptBlock(c,0);for(var g=0;g<o;g++)l[i+g]^=c[g]}return n}(),s.mode.CFB})}(yi)),yi.exports}var vi={exports:{}},Zd;function Z2(){return Zd||(Zd=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.mode.CTR=function(){var n=s.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(l,i){var o=this._cipher,d=o.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var g=u.slice(0);o.encryptBlock(g,0),u[d-1]=u[d-1]+1|0;for(var p=0;p<d;p++)l[i+p]^=g[p]}});return n.Decryptor=a,n}(),s.mode.CTR})}(vi)),vi.exports}var bi={exports:{}},eu;function ev(){return eu||(eu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=function(){var n=s.lib.BlockCipherMode.extend();function a(o){if((o>>24&255)===255){var d=o>>16&255,c=o>>8&255,u=o&255;d===255?(d=0,c===255?(c=0,u===255?u=0:++u):++c):++d,o=0,o+=d<<16,o+=c<<8,o+=u}else o+=1<<24;return o}function l(o){return(o[0]=a(o[0]))===0&&(o[1]=a(o[1])),o}var i=n.Encryptor=n.extend({processBlock:function(o,d){var c=this._cipher,u=c.blockSize,g=this._iv,p=this._counter;g&&(p=this._counter=g.slice(0),this._iv=void 0),l(p);var f=p.slice(0);c.encryptBlock(f,0);for(var h=0;h<u;h++)o[d+h]^=f[h]}});return n.Decryptor=i,n}(),s.mode.CTRGladman})}(bi)),bi.exports}var ji={exports:{}},tu;function tv(){return tu||(tu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.mode.OFB=function(){var n=s.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(l,i){var o=this._cipher,d=o.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),o.encryptBlock(u,0);for(var g=0;g<d;g++)l[i+g]^=u[g]}});return n.Decryptor=a,n}(),s.mode.OFB})}(ji)),ji.exports}var Ni={exports:{}},ru;function rv(){return ru||(ru=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.mode.ECB=function(){var n=s.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,l){this._cipher.encryptBlock(a,l)}}),n.Decryptor=n.extend({processBlock:function(a,l){this._cipher.decryptBlock(a,l)}}),n}(),s.mode.ECB})}(Ni)),Ni.exports}var wi={exports:{}},su;function sv(){return su||(su=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.pad.AnsiX923={pad:function(n,a){var l=n.sigBytes,i=a*4,o=i-l%i,d=l+o-1;n.clamp(),n.words[d>>>2]|=o<<24-d%4*8,n.sigBytes+=o},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},s.pad.Ansix923})}(wi)),wi.exports}var Ci={exports:{}},nu;function nv(){return nu||(nu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.pad.Iso10126={pad:function(n,a){var l=a*4,i=l-n.sigBytes%l;n.concat(s.lib.WordArray.random(i-1)).concat(s.lib.WordArray.create([i<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},s.pad.Iso10126})}(Ci)),Ci.exports}var ki={exports:{}},au;function av(){return au||(au=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.pad.Iso97971={pad:function(n,a){n.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(n,a)},unpad:function(n){s.pad.ZeroPadding.unpad(n),n.sigBytes--}},s.pad.Iso97971})}(ki)),ki.exports}var Si={exports:{}},lu;function lv(){return lu||(lu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.pad.ZeroPadding={pad:function(n,a){var l=a*4;n.clamp(),n.sigBytes+=l-(n.sigBytes%l||l)},unpad:function(n){for(var a=n.words,l=n.sigBytes-1,l=n.sigBytes-1;l>=0;l--)if(a[l>>>2]>>>24-l%4*8&255){n.sigBytes=l+1;break}}},s.pad.ZeroPadding})}(Si)),Si.exports}var Ei={exports:{}},iu;function iv(){return iu||(iu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})}(Ei)),Ei.exports}var Ai={exports:{}},ou;function ov(){return ou||(ou=1,function(e,t){(function(s,n,a){e.exports=n(se(),Se())})(X,function(s){return function(n){var a=s,l=a.lib,i=l.CipherParams,o=a.enc,d=o.Hex,c=a.format;c.Hex={stringify:function(u){return u.ciphertext.toString(d)},parse:function(u){var g=d.parse(u);return i.create({ciphertext:g})}}}(),s.format.Hex})}(Ai)),Ai.exports}var Bi={exports:{}},cu;function cv(){return cu||(cu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Wr(),Kr(),gr(),Se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.BlockCipher,i=n.algo,o=[],d=[],c=[],u=[],g=[],p=[],f=[],h=[],b=[],v=[];(function(){for(var y=[],j=0;j<256;j++)j<128?y[j]=j<<1:y[j]=j<<1^283;for(var k=0,S=0,j=0;j<256;j++){var N=S^S<<1^S<<2^S<<3^S<<4;N=N>>>8^N&255^99,o[k]=N,d[N]=k;var A=y[k],_=y[A],C=y[_],w=y[N]*257^N*16843008;c[k]=w<<24|w>>>8,u[k]=w<<16|w>>>16,g[k]=w<<8|w>>>24,p[k]=w;var w=C*16843009^_*65537^A*257^k*16843008;f[N]=w<<24|w>>>8,h[N]=w<<16|w>>>16,b[N]=w<<8|w>>>24,v[N]=w,k?(k=A^y[y[y[C^A]]],S^=y[y[S]]):k=S=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=l.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var j=this._keyPriorReset=this._key,k=j.words,S=j.sigBytes/4,N=this._nRounds=S+6,A=(N+1)*4,_=this._keySchedule=[],C=0;C<A;C++)C<S?_[C]=k[C]:(y=_[C-1],C%S?S>6&&C%S==4&&(y=o[y>>>24]<<24|o[y>>>16&255]<<16|o[y>>>8&255]<<8|o[y&255]):(y=y<<8|y>>>24,y=o[y>>>24]<<24|o[y>>>16&255]<<16|o[y>>>8&255]<<8|o[y&255],y^=x[C/S|0]<<24),_[C]=_[C-S]^y);for(var w=this._invKeySchedule=[],E=0;E<A;E++){var C=A-E;if(E%4)var y=_[C];else var y=_[C-4];E<4||C<=4?w[E]=y:w[E]=f[o[y>>>24]]^h[o[y>>>16&255]]^b[o[y>>>8&255]]^v[o[y&255]]}}},encryptBlock:function(y,j){this._doCryptBlock(y,j,this._keySchedule,c,u,g,p,o)},decryptBlock:function(y,j){var k=y[j+1];y[j+1]=y[j+3],y[j+3]=k,this._doCryptBlock(y,j,this._invKeySchedule,f,h,b,v,d);var k=y[j+1];y[j+1]=y[j+3],y[j+3]=k},_doCryptBlock:function(y,j,k,S,N,A,_,C){for(var w=this._nRounds,E=y[j]^k[0],F=y[j+1]^k[1],O=y[j+2]^k[2],z=y[j+3]^k[3],q=4,G=1;G<w;G++){var M=S[E>>>24]^N[F>>>16&255]^A[O>>>8&255]^_[z&255]^k[q++],U=S[F>>>24]^N[O>>>16&255]^A[z>>>8&255]^_[E&255]^k[q++],V=S[O>>>24]^N[z>>>16&255]^A[E>>>8&255]^_[F&255]^k[q++],P=S[z>>>24]^N[E>>>16&255]^A[F>>>8&255]^_[O&255]^k[q++];E=M,F=U,O=V,z=P}var M=(C[E>>>24]<<24|C[F>>>16&255]<<16|C[O>>>8&255]<<8|C[z&255])^k[q++],U=(C[F>>>24]<<24|C[O>>>16&255]<<16|C[z>>>8&255]<<8|C[E&255])^k[q++],V=(C[O>>>24]<<24|C[z>>>16&255]<<16|C[E>>>8&255]<<8|C[F&255])^k[q++],P=(C[z>>>24]<<24|C[E>>>16&255]<<16|C[F>>>8&255]<<8|C[O&255])^k[q++];y[j]=M,y[j+1]=U,y[j+2]=V,y[j+3]=P},keySize:256/32});n.AES=l._createHelper(m)}(),s.AES})}(Bi)),Bi.exports}var Fi={exports:{}},du;function dv(){return du||(du=1,function(e,t){(function(s,n,a){e.exports=n(se(),Wr(),Kr(),gr(),Se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.WordArray,i=a.BlockCipher,o=n.algo,d=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],g=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=i.extend({_doReset:function(){for(var x=this._key,m=x.words,y=[],j=0;j<56;j++){var k=d[j]-1;y[j]=m[k>>>5]>>>31-k%32&1}for(var S=this._subKeys=[],N=0;N<16;N++){for(var A=S[N]=[],_=u[N],j=0;j<24;j++)A[j/6|0]|=y[(c[j]-1+_)%28]<<31-j%6,A[4+(j/6|0)]|=y[28+(c[j+24]-1+_)%28]<<31-j%6;A[0]=A[0]<<1|A[0]>>>31;for(var j=1;j<7;j++)A[j]=A[j]>>>(j-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var C=this._invSubKeys=[],j=0;j<16;j++)C[j]=S[15-j]},encryptBlock:function(x,m){this._doCryptBlock(x,m,this._subKeys)},decryptBlock:function(x,m){this._doCryptBlock(x,m,this._invSubKeys)},_doCryptBlock:function(x,m,y){this._lBlock=x[m],this._rBlock=x[m+1],h.call(this,4,252645135),h.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),h.call(this,1,1431655765);for(var j=0;j<16;j++){for(var k=y[j],S=this._lBlock,N=this._rBlock,A=0,_=0;_<8;_++)A|=g[_][((N^k[_])&p[_])>>>0];this._lBlock=N,this._rBlock=S^A}var C=this._lBlock;this._lBlock=this._rBlock,this._rBlock=C,h.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),x[m]=this._lBlock,x[m+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(x,m){var y=(this._lBlock>>>x^this._rBlock)&m;this._rBlock^=y,this._lBlock^=y<<x}function b(x,m){var y=(this._rBlock>>>x^this._lBlock)&m;this._lBlock^=y,this._rBlock^=y<<x}n.DES=i._createHelper(f);var v=o.TripleDES=i.extend({_doReset:function(){var x=this._key,m=x.words;if(m.length!==2&&m.length!==4&&m.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=m.slice(0,2),j=m.length<4?m.slice(0,2):m.slice(2,4),k=m.length<6?m.slice(0,2):m.slice(4,6);this._des1=f.createEncryptor(l.create(y)),this._des2=f.createEncryptor(l.create(j)),this._des3=f.createEncryptor(l.create(k))},encryptBlock:function(x,m){this._des1.encryptBlock(x,m),this._des2.decryptBlock(x,m),this._des3.encryptBlock(x,m)},decryptBlock:function(x,m){this._des3.decryptBlock(x,m),this._des2.encryptBlock(x,m),this._des1.decryptBlock(x,m)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=i._createHelper(v)}(),s.TripleDES})}(Fi)),Fi.exports}var Di={exports:{}},uu;function uv(){return uu||(uu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Wr(),Kr(),gr(),Se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.StreamCipher,i=n.algo,o=i.RC4=l.extend({_doReset:function(){for(var u=this._key,g=u.words,p=u.sigBytes,f=this._S=[],h=0;h<256;h++)f[h]=h;for(var h=0,b=0;h<256;h++){var v=h%p,x=g[v>>>2]>>>24-v%4*8&255;b=(b+f[h]+x)%256;var m=f[h];f[h]=f[b],f[b]=m}this._i=this._j=0},_doProcessBlock:function(u,g){u[g]^=d.call(this)},keySize:256/32,ivSize:0});function d(){for(var u=this._S,g=this._i,p=this._j,f=0,h=0;h<4;h++){g=(g+1)%256,p=(p+u[g])%256;var b=u[g];u[g]=u[p],u[p]=b,f|=u[(u[g]+u[p])%256]<<24-h*8}return this._i=g,this._j=p,f}n.RC4=l._createHelper(o);var c=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)d.call(this)}});n.RC4Drop=l._createHelper(c)}(),s.RC4})}(Di)),Di.exports}var _i={exports:{}},xu;function xv(){return xu||(xu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Wr(),Kr(),gr(),Se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.StreamCipher,i=n.algo,o=[],d=[],c=[],u=i.Rabbit=l.extend({_doReset:function(){for(var p=this._key.words,f=this.cfg.iv,h=0;h<4;h++)p[h]=(p[h]<<8|p[h]>>>24)&16711935|(p[h]<<24|p[h]>>>8)&4278255360;var b=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],v=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var h=0;h<4;h++)g.call(this);for(var h=0;h<8;h++)v[h]^=b[h+4&7];if(f){var x=f.words,m=x[0],y=x[1],j=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,k=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=j>>>16|k&4294901760,N=k<<16|j&65535;v[0]^=j,v[1]^=S,v[2]^=k,v[3]^=N,v[4]^=j,v[5]^=S,v[6]^=k,v[7]^=N;for(var h=0;h<4;h++)g.call(this)}},_doProcessBlock:function(p,f){var h=this._X;g.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var b=0;b<4;b++)o[b]=(o[b]<<8|o[b]>>>24)&16711935|(o[b]<<24|o[b]>>>8)&4278255360,p[f+b]^=o[b]},blockSize:128/32,ivSize:64/32});function g(){for(var p=this._X,f=this._C,h=0;h<8;h++)d[h]=f[h];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<d[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<d[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<d[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<d[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<d[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<d[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<d[6]>>>0?1:0)|0,this._b=f[7]>>>0<d[7]>>>0?1:0;for(var h=0;h<8;h++){var b=p[h]+f[h],v=b&65535,x=b>>>16,m=((v*v>>>17)+v*x>>>15)+x*x,y=((b&4294901760)*b|0)+((b&65535)*b|0);c[h]=m^y}p[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,p[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,p[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,p[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,p[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,p[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,p[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,p[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.Rabbit=l._createHelper(u)}(),s.Rabbit})}(_i)),_i.exports}var Pi={exports:{}},mu;function mv(){return mu||(mu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Wr(),Kr(),gr(),Se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.StreamCipher,i=n.algo,o=[],d=[],c=[],u=i.RabbitLegacy=l.extend({_doReset:function(){var p=this._key.words,f=this.cfg.iv,h=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],b=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var v=0;v<4;v++)g.call(this);for(var v=0;v<8;v++)b[v]^=h[v+4&7];if(f){var x=f.words,m=x[0],y=x[1],j=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,k=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=j>>>16|k&4294901760,N=k<<16|j&65535;b[0]^=j,b[1]^=S,b[2]^=k,b[3]^=N,b[4]^=j,b[5]^=S,b[6]^=k,b[7]^=N;for(var v=0;v<4;v++)g.call(this)}},_doProcessBlock:function(p,f){var h=this._X;g.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var b=0;b<4;b++)o[b]=(o[b]<<8|o[b]>>>24)&16711935|(o[b]<<24|o[b]>>>8)&4278255360,p[f+b]^=o[b]},blockSize:128/32,ivSize:64/32});function g(){for(var p=this._X,f=this._C,h=0;h<8;h++)d[h]=f[h];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<d[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<d[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<d[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<d[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<d[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<d[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<d[6]>>>0?1:0)|0,this._b=f[7]>>>0<d[7]>>>0?1:0;for(var h=0;h<8;h++){var b=p[h]+f[h],v=b&65535,x=b>>>16,m=((v*v>>>17)+v*x>>>15)+x*x,y=((b&4294901760)*b|0)+((b&65535)*b|0);c[h]=m^y}p[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,p[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,p[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,p[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,p[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,p[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,p[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,p[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}n.RabbitLegacy=l._createHelper(u)}(),s.RabbitLegacy})}(Pi)),Pi.exports}var Ti={exports:{}},pu;function pv(){return pu||(pu=1,function(e,t){(function(s,n,a){e.exports=n(se(),Wr(),Kr(),gr(),Se())})(X,function(s){return function(){var n=s,a=n.lib,l=a.BlockCipher,i=n.algo;const o=16,d=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function g(v,x){let m=x>>24&255,y=x>>16&255,j=x>>8&255,k=x&255,S=v.sbox[0][m]+v.sbox[1][y];return S=S^v.sbox[2][j],S=S+v.sbox[3][k],S}function p(v,x,m){let y=x,j=m,k;for(let S=0;S<o;++S)y=y^v.pbox[S],j=g(v,y)^j,k=y,y=j,j=k;return k=y,y=j,j=k,j=j^v.pbox[o],y=y^v.pbox[o+1],{left:y,right:j}}function f(v,x,m){let y=x,j=m,k;for(let S=o+1;S>1;--S)y=y^v.pbox[S],j=g(v,y)^j,k=y,y=j,j=k;return k=y,y=j,j=k,j=j^v.pbox[1],y=y^v.pbox[0],{left:y,right:j}}function h(v,x,m){for(let N=0;N<4;N++){v.sbox[N]=[];for(let A=0;A<256;A++)v.sbox[N][A]=c[N][A]}let y=0;for(let N=0;N<o+2;N++)v.pbox[N]=d[N]^x[y],y++,y>=m&&(y=0);let j=0,k=0,S=0;for(let N=0;N<o+2;N+=2)S=p(v,j,k),j=S.left,k=S.right,v.pbox[N]=j,v.pbox[N+1]=k;for(let N=0;N<4;N++)for(let A=0;A<256;A+=2)S=p(v,j,k),j=S.left,k=S.right,v.sbox[N][A]=j,v.sbox[N][A+1]=k;return!0}var b=i.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,x=v.words,m=v.sigBytes/4;h(u,x,m)}},encryptBlock:function(v,x){var m=p(u,v[x],v[x+1]);v[x]=m.left,v[x+1]=m.right},decryptBlock:function(v,x){var m=f(u,v[x],v[x+1]);v[x]=m.left,v[x+1]=m.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=l._createHelper(b)}(),s.Blowfish})}(Ti)),Ti.exports}(function(e,t){(function(s,n,a){e.exports=n(se(),yl(),q2(),V2(),Wr(),W2(),Kr(),th(),zc(),K2(),rh(),G2(),Q2(),J2(),Hc(),X2(),gr(),Se(),Y2(),Z2(),ev(),tv(),rv(),sv(),nv(),av(),lv(),iv(),ov(),cv(),dv(),uv(),xv(),mv(),pv())})(X,function(s){return s})})(eh);var hv=eh.exports;const hu=lx(hv),fu=[{id:"healthy",name:"健康舌象",tongueColor:"淡红色",coatingType:"薄白苔",healthScore:85,diagnosis:"脾胃健康",colorRange:{hueMin:0,hueMax:15},coatingCoverageRange:{min:10,max:30},brightnesRange:{min:180,max:220},problems:["微有湿热","消化需改善"],recommendations:["加强脾胃功能","适度运动","饮食清淡"],remedies:[{id:"1",name:"健脾祛湿茶",category:"中成药",description:"健脾利湿",dosage:"日一剂"},{id:"2",name:"薏米红豆粥",category:"食疗",description:"健脾祛湿",dosage:"周3-4次"},{id:"3",name:"山楂麦芽茶",category:"食疗",description:"消食健脾",dosage:"日一杯"}],adjustmentPlan:["第1-2周：加强脾胃保健","第3-4周：调理消化功能","第5-8周：巩固效果"]},{id:"damp-heat",name:"湿热体质",tongueColor:"暗红色",coatingType:"厚腻苔",healthScore:55,diagnosis:"湿热体质",colorRange:{hueMin:350,hueMax:15},coatingCoverageRange:{min:50,max:80},saturationRange:{min:60,max:100},problems:["湿热困脾","消化不佳","容易疲劳"],recommendations:["祛除湿热","健脾益气","规律作息"],remedies:[{id:"1",name:"茵陈蒿汤",category:"中成药",description:"利胆祛湿",dosage:"日一剂"},{id:"2",name:"冬瓜薏米汤",category:"食疗",description:"清热祛湿",dosage:"周2-3次"},{id:"3",name:"绿豆粥",category:"食疗",description:"清热祛湿",dosage:"周2次"}],adjustmentPlan:["第1-2周：快速祛湿","第3-4周：健脾调理","第5-12周：体质调理"]},{id:"pale",name:"阳虚质",tongueColor:"淡白色",coatingType:"薄白苔",healthScore:50,diagnosis:"脾阳虚",colorRange:{hueMin:30,hueMax:50},brightnesRange:{min:200,max:240},coatingCoverageRange:{min:20,max:40},problems:["体质虚弱","手脚冰冷","消化不良"],recommendations:["温阳健脾","加强营养","适度保暖"],remedies:[{id:"1",name:"四君子汤",category:"中成药",description:"健脾益气",dosage:"日一剂"},{id:"2",name:"红参鸡汤",category:"食疗",description:"温阳补气",dosage:"周2次"},{id:"3",name:"生姜红茶",category:"食疗",description:"温阳祛湿",dosage:"日一杯"}],adjustmentPlan:["第1-4周：温阳健脾","第5-8周：增强体质","第9-12周：体质改善"]},{id:"yin-deficiency",name:"阴虚质",tongueColor:"红色",coatingType:"少苔或无苔",healthScore:45,diagnosis:"阴液不足",colorRange:{hueMin:350,hueMax:10},brightnesRange:{min:140,max:180},coatingCoverageRange:{min:0,max:15},problems:["容易上火","皮肤干燥","口干","便秘"],recommendations:["滋阴养血","清热润肺","多饮水"],remedies:[{id:"1",name:"六味地黄丸",category:"中成药",description:"滋阴补肾",dosage:"日一次"},{id:"2",name:"银耳雪梨汤",category:"食疗",description:"滋阴润肺",dosage:"周2次"},{id:"3",name:"百合粥",category:"食疗",description:"安神滋阴",dosage:"周3次"}],adjustmentPlan:["第1-4周：快速滋阴","第5-8周：调理阴液","第9-12周：体质平衡"]},{id:"damp-heat-severe",name:"湿热蕴结",tongueColor:"黄腻色",coatingType:"厚腻黄苔",healthScore:30,diagnosis:"湿热蕴结",colorRange:{hueMin:45,hueMax:65},coatingCoverageRange:{min:75,max:100},saturationRange:{min:70,max:100},problems:["湿热严重","消化阻滞","代谢缓慢"],recommendations:["清热利湿","活血化瘀","调理脾胃"],remedies:[{id:"1",name:"黄芩汤",category:"中成药",description:"清热利湿",dosage:"日一剂"},{id:"2",name:"赤小豆薏米粥",category:"食疗",description:"强力祛湿",dosage:"周3-4次"},{id:"3",name:"冬瓜粳米粥",category:"食疗",description:"清热祛湿",dosage:"周2次"}],adjustmentPlan:["第1-2周：强力祛湿","第3-6周：调理脾胃","第7-12周：巩固效果"]}];class fv{constructor(){he(this,"analysisCache",new Map)}generateImageHash(t){return hu.SHA256(t).toString(hu.enc.Hex)}async extractVisualFeatures(t){return new Promise(s=>{const n=new Image;n.onload=()=>{const a=document.createElement("canvas");a.width=n.width,a.height=n.height;const l=a.getContext("2d");l.drawImage(n,0,0);const o=l.getImageData(0,0,a.width,a.height).data;let d=0,c=0,u=[],g=0,p=0;for(let m=0;m<o.length;m+=4){const y=o[m],j=o[m+1],k=o[m+2];d+=(y+j+k)/3;const S=Math.max(y,j,k),N=Math.min(y,j,k),A=(S+N)/2;let _=0;A>.5?_=(S-N)/(2-S-N):_=(S-N)/(S+N),c+=_*100;let C=0;S!==N&&(S===y?C=((j-k)/(S-N)+(j<k?6:0))/6:S===j?C=((k-y)/(S-N)+2)/6:C=((y-j)/(S-N)+4)/6),u.push(C*360),(y>150&&j>120&&k<100||y>180&&j>150&&k<120)&&p++}const f=o.length/4;d=d/f,c=c/f;let h=0;for(let m=4;m<o.length;m+=4)h+=Math.abs(o[m]-o[m-4])+Math.abs(o[m+1]-o[m-3])+Math.abs(o[m+2]-o[m-2]);g=h/o.length*100;const b=p/f*100,v=Math.min(...u),x=Math.max(...u);s({brightness:Math.round(d),saturation:Math.round(c),hueRange:{min:Math.round(v),max:Math.round(x)},textureComplexity:Math.round(g),coatingCoverage:Math.round(b)})},n.src=t})}matchPatternByFeatures(t){let s=fu[0],n=0;for(const a of fu){let l=0,i=0;if(a.colorRange){const d=t.hueRange.min<=a.colorRange.hueMax&&t.hueRange.max>=a.colorRange.hueMin;l+=d?25:0,i+=25}if(a.coatingCoverageRange){const d=t.coatingCoverage>=a.coatingCoverageRange.min&&t.coatingCoverage<=a.coatingCoverageRange.max;l+=d?25:0,i+=25}if(a.brightnesRange){const d=t.brightness>=a.brightnesRange.min&&t.brightness<=a.brightnesRange.max;l+=d?25:0,i+=25}if(a.saturationRange){const d=t.saturation>=a.saturationRange.min&&t.saturation<=a.saturationRange.max;l+=d?25:0,i+=25}const o=i>0?l/i*100:0;o>n&&(n=o,s=a)}return{pattern:s,confidence:Math.round(n)}}async analyzeTongueCoating(t){try{const s=this.generateImageHash(t);if(this.analysisCache.has(s))return this.analysisCache.get(s);const n=await this.extractVisualFeatures(t),{pattern:a,confidence:l}=this.matchPatternByFeatures(n),i={tongueColor:a.tongueColor,coatingType:a.coatingType,healthScore:a.healthScore,diagnosis:a.diagnosis,problems:a.problems,recommendations:a.recommendations,remedies:a.remedies,adjustmentPlan:a.adjustmentPlan,imageHash:s,confidence:l,visualFeatures:n};return this.analysisCache.set(s,i),i}catch(s){throw console.error("舌苔分析错误:",s),s}}clearCache(){this.analysisCache.clear()}getCacheStats(){return{size:this.analysisCache.size,entries:Array.from(this.analysisCache.keys())}}getFeatureExplanation(t){return`
亮度: ${t.brightness} (0-255)
- 亮度越高表示舌苔越白，可能表示脾阳虚
- 亮度较低表示舌质较红，可能表示热或阴虚

饱和度: ${t.saturation}% (0-100)
- 饱和度高表示颜色深，可能表示体内热象
- 饱和度低表示颜色淡，可能表示体质虚弱

舌苔覆盖: ${t.coatingCoverage}% (0-100)
- 0-30%: 薄苔（正常）
- 30-70%: 厚腻苔（湿热）
- 70%+: 厚腻苔（严重湿热）

色调范围: ${t.hueRange.min}° - ${t.hueRange.max}°
- 红色(0-15°或330-360°): 热象
- 淡色(30-50°): 阳虚
- 黄色(45-65°): 湿热

纹理复杂度: ${t.textureComplexity}/100
- 表示舌苔表面的凹凸程度
`}}const gv=new fv,yv=()=>{const[e,t]=B.useState(null),[s,n]=B.useState(null),[a,l]=B.useState(!1),[i,o]=B.useState("detection"),[d,c]=B.useState(!1),u=p=>{if(p.target.files&&p.target.files[0]){const f=new FileReader;f.onload=h=>{var b;t((b=h.target)==null?void 0:b.result)},f.readAsDataURL(p.target.files[0])}},g=async()=>{if(e){l(!0);try{const p=await gv.analyzeTongueCoating(e);n(p),o("results")}catch(p){console.error("分析失败:",p),alert("分析失败，请重试")}finally{l(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ot,{className:"w-8 h-8"}),r.jsx("h2",{className:"text-3xl font-bold",children:"中医舌苔检测"})]}),r.jsx("p",{className:"text-amber-100",children:"精准AI分析 • 智能诊断 • 中医调理 • 个性化方案"})]}),r.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>o("detection"),className:`px-4 py-2 font-medium border-b-2 transition-all flex items-center gap-2 ${i==="detection"?"border-amber-600 text-amber-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(ot,{className:"w-4 h-4"}),"舌苔检测"]}),s&&r.jsxs("button",{onClick:()=>o("results"),className:`px-4 py-2 font-medium border-b-2 transition-all flex items-center gap-2 ${i==="results"?"border-amber-600 text-amber-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(mr,{className:"w-4 h-4"}),"诊断结果"]})]}),i==="detection"&&r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:e?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:e,alt:"Tongue preview",className:"w-full h-80 object-cover rounded-lg shadow-lg border-4 border-amber-300"}),r.jsx("button",{onClick:()=>t(null),className:"absolute top-2 right-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors font-medium",children:"重新上传"})]}):r.jsxs("div",{className:"border-4 border-dashed border-amber-300 rounded-lg p-16 text-center bg-amber-50",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📷"}),r.jsx("p",{className:"text-gray-700 font-bold text-xl mb-2",children:"拍摄舌苔照片"}),r.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"请确保光线充足，清晰显示舌头全貌"}),r.jsxs("label",{className:"inline-block",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden"}),r.jsxs("span",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white px-8 py-4 rounded-lg hover:shadow-lg transition-all cursor-pointer flex items-center gap-2 inline-flex font-bold text-lg",children:[r.jsx(Ic,{className:"w-5 h-5"}),"上传照片"]})]})]})}),e&&r.jsx("button",{onClick:g,disabled:a,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white py-4 rounded-lg font-bold text-lg hover:shadow-xl transition-all disabled:opacity-50",children:a?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"AI精准分析中... (提取视觉特征)"]}):r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(zr,{className:"w-5 h-5"}),"开始中医诊断 (精准识别)"]})}),r.jsxs("div",{className:"mt-8 bg-blue-50 border-2 border-blue-200 rounded-lg p-5 flex gap-4",children:[r.jsx(Dt,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-bold mb-2",children:"精准诊断说明"}),r.jsxs("ul",{className:"space-y-1 text-xs",children:[r.jsx("li",{children:"✓ 需要清晰的舌头照片 (光线充足)"}),r.jsx("li",{children:"✓ 自然光线下效果更好"}),r.jsx("li",{children:"✓ 结果基于视觉特征分析"}),r.jsx("li",{children:"✓ 同一张照片始终产生相同结果"}),r.jsx("li",{children:"✓ 建议咨询专业医生"})]})]})]})]})}),i==="results"&&s&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border-2 border-purple-200 p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Be,{className:"w-6 h-6 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-gray-900",children:"分析置信度"}),r.jsx("p",{className:"text-xs text-gray-600",children:"基于视觉特征匹配"})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[s.confidence,"%"]})})]}),r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg border-2 border-amber-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"健康评分"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl font-bold text-amber-600",children:s.healthScore}),r.jsx("p",{className:"text-sm text-gray-600",children:"/ 100"})]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 h-full transition-all duration-1000",style:{width:`${s.healthScore}%`}})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"舌苔诊断"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"p-4 bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg",children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-2",children:"舌质颜色"}),r.jsx("p",{className:"text-2xl font-bold text-amber-600",children:s.tongueColor})]}),r.jsxs("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-amber-50 rounded-lg",children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-2",children:"苔质类型"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.coatingType})]})]}),r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-2",children:"中医诊断"}),r.jsx("p",{className:"text-lg text-blue-900 font-semibold",children:s.diagnosis})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-3 text-red-600",children:"主要问题"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:s.problems.map((p,f)=>r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:p})]},f))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-3 text-green-600",children:"调理建议"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:s.recommendations.map((p,f)=>r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:p})]},f))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"中医调理方案"}),r.jsx("div",{className:"space-y-3",children:s.adjustmentPlan.map((p,f)=>r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg border border-amber-200",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-amber-600 to-orange-600 flex items-center justify-center text-white font-bold",children:f+1}),r.jsx("span",{className:"font-medium text-gray-900",children:p})]},f))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"推荐中医调理"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:s.remedies.map(p=>r.jsxs("div",{className:"border-2 border-amber-200 rounded-lg p-4 hover:shadow-lg transition-all bg-gradient-to-br from-white to-amber-50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h5",{className:"font-bold text-gray-900 mb-1",children:p.name}),r.jsx("p",{className:"text-xs text-gray-600",children:p.category})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:p.description}),r.jsxs("div",{className:"p-3 bg-yellow-50 rounded border border-yellow-200",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"用法用量"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:p.dosage})]})]},p.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("button",{onClick:()=>c(!d),className:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg hover:shadow-md transition-all",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Pc,{className:"w-5 h-5 text-indigo-600"}),r.jsx("span",{className:"font-bold text-gray-900",children:"视觉特征分析 (高级)"})]}),r.jsx(gt,{className:`w-5 h-5 text-indigo-600 transition-transform ${d?"rotate-90":""}`})]}),d&&r.jsxs("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"亮度"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.visualFeatures.brightness}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"(0-255, 越高越亮)"})]}),r.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"饱和度"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[s.visualFeatures.saturation,"%"]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"(颜色深浅)"})]}),r.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"舌苔覆盖"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[s.visualFeatures.coatingCoverage,"%"]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"(苔层厚度)"})]}),r.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"纹理复杂度"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.visualFeatures.textureComplexity}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"(表面凹凸)"})]})]}),r.jsxs("div",{className:"p-3 bg-white rounded border border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"色调范围"}),r.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[s.visualFeatures.hueRange.min,"° - ",s.visualFeatures.hueRange.max,"°"]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"(红色0°/360° 黄色60° 绿色120° 青色180° 蓝色240° 紫色300°)"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-cyan-50 rounded-lg border-2 border-green-300 p-6",children:[r.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"后续调理建议"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-800",children:[r.jsx("li",{children:"按照调理方案循序渐进"}),r.jsx("li",{children:"定期复查舌苔变化，同一时间点拍照便于对比"}),r.jsx("li",{children:"咨询专业中医师制定个性化方案"}),r.jsx("li",{children:"配合作息调整和运动锻炼"})]})]}),r.jsx("button",{onClick:()=>{o("detection"),t(null),n(null),c(!1)},className:"w-full bg-gray-200 text-gray-900 py-3 rounded-lg font-bold hover:bg-gray-300 transition-colors",children:"重新检测"})]})]})};class vv{getSystemPrompt(){return`你是美容院专属健康助手，根据用户输入的年龄、性别、肤质、生活习惯和目标，提供个性化护肤、健康、饮食建议。

重要规则：
- 回答简洁、专业、亲切
- 避免医学诊断
- 不推销产品
- 基于用户提供的信息给出建议
- 分类呈现建议（护肤、饮食、生活习惯）
- 每条建议控制在一句话内`}generateUserPrompt(t){const s=[];if(t.age&&s.push(`年龄：${t.age}岁`),t.gender){const n={male:"男性",female:"女性",other:"其他"};s.push(`性别：${n[t.gender]}`)}if(t.skinType){const n={dry:"干性",oily:"油性",combination:"混合性",sensitive:"敏感性"};s.push(`肤质：${n[t.skinType]}`)}if(t.sleepQuality){const n={good:"睡眠充足",fair:"睡眠一般",poor:"睡眠不足"};s.push(`睡眠：${n[t.sleepQuality]}`)}return t.stayUpLate&&s.push("经常熬夜"),t.dietPreference&&s.push(`饮食偏好：${t.dietPreference}`),t.goals&&t.goals.length>0&&s.push(`目标：${t.goals.join("、")}`),`用户信息：
${s.join(`
`)}

请基于以上信息提供详细的个性化建议，包括具体的护肤步骤、推荐的食物、生活调理方案。`}generateDetailedAdvice(t){let s="";return s+=this.generateSkinCareAdvice(t),s+=`

`,s+=this.generateDietAdvice(t),s+=`

`,s+=this.generateLifestyleAdvice(t),s}generateSkinCareAdvice(t){let s=`护肤建议：
`;const n=t.skinType||"oily",a=t.goals||[];return s+=`早上护肤步骤：洁面 → 爽肤水 → 精华液 → 乳液 → 防晒（必须）
`,s+=`晚间护肤步骤：洁面 → 爽肤水 → 精华液 → 面霜 → 眼霜
`,n==="oily"?(s+=`油性肤质：使用含烟酰胺、水杨酸的清爽型产品，每周2-3次深层清洁面膜。
`,s+=`重点护理：T 字区加强控油，使用吸油面纸和控油精华。
`):n==="dry"?(s+=`干性肤质：选择含透明质酸、甘油的滋润型产品，每周1次补水面膜。
`,s+=`重点护理：加强保湿，使用精油或面霜加强滋润度。
`):n==="combination"?(s+=`混合性肤质：分区护理，T 字区清爽型产品，面颊部位选择滋润型。
`,s+=`重点护理：平衡油水，使用平衡精华，定期深层清洁。
`):n==="sensitive"&&(s+=`敏感性肤质：使用温和无刺激的产品，避免含酒精和香精的产品。
`,s+=`重点护理：舒缓修复，使用含神经酰胺、泛醇的修复面膜。
`),a.includes("祛痘")&&(s+=`祛痘方案：使用含水杨酸、果酸的产品，每周1-2次深层清洁，避免用手挤压。
`,s+=`配合：口服维生素 B、锌补充剂，改善肠道健康。
`),a.includes("美白")&&(s+=`美白方案：使用含烟酰胺、传明酸、维生素C的产品，坚持使用6-8周可见效果。
`,s+=`配合：严格防晒，避免日晒，夜间使用美白精华。
`),a.includes("抗老")&&(s+=`抗老方案：使用含视黄醇、肽类的产品，每周使用2-3次，可配合面部提拉仪。
`,s+=`重点区域：眼周、法令纹、颈部加强护理。
`),a.includes("补水")&&(s+=`补水方案：每周做1-2次补水面膜，使用保湿喷雾定时补水，多喝水。
`,s+=`配合：使用加湿器，室内湿度保持在 40-60%。
`),s}generateDietAdvice(t){let s=`饮食建议：
`;const n=t.goals||[],a=t.age||25;return s+=`基础饮食：多吃新鲜蔬菜水果（日均500g），优质蛋白（鱼、鸡蛋、豆类），全谷物。
`,s+=`保健食材：黑芝麻、核桃、红枣、蜂蜜、绿茶、燕麦。
`,a>=25&&a<35?s+=`25-35岁：注重抗衰老营养，增加胶原蛋白摄入（鱼类、猪皮、骨汤）。
`:a>=35&&a<45&&(s+=`35-45岁：加强钙质吸收，多吃豆制品、牛奶，预防骨质流失。
`),t.skinType==="oily"?(s+=`油性肌肤：避免辛辣刺激、油腻食物，减少糖分和咖啡因摄入。
`,s+=`推荐食物：绿豆、冬瓜、薏米、苦瓜、黄瓜。
`):t.skinType==="dry"&&(s+=`干性肌肤：增加油脂摄入，多吃坚果、牛油果、橄榄油。
`,s+=`推荐食物：银耳、百合、蜂蜜、豆浆、鱼类。
`),n.includes("祛痘")&&(s+=`祛痘食谱：增加锌摄入（牡蛎、南瓜子、鸡蛋），维生素 A（胡萝卜、菠菜、红薯）。
`,s+=`忌口：油炸食物、巧克力、坚果类过量、辛辣刺激食物。
`),n.includes("美白")&&(s+=`美白食谱：高维生素 C 食物（柑橘、猕猴桃、草莓、番茄、西兰花）。
`,s+=`推荐饮品：柠檬蜂蜜水、番茄汁、绿茶。
`),n.includes("补水")&&(s+=`补水食谱：高水分食物（冬瓜、冰淇淋、西瓜），多喝温水，每天 8 杯以上。
`,s+=`推荐饮品：黄瓜汁、绿茶、白开水、骨汤。
`),n.includes("瘦身")&&(s+=`瘦身食谱：增加纤维素和蛋白质，减少精细碳水化合物。
`,s+=`推荐食物：鸡胸肉、鱼类、豆制品、燕麦、糙米。
`),s}generateLifestyleAdvice(t){let s=`生活习惯建议：
`;t.sleepQuality;const n=t.goals||[];return t.stayUpLate?(s+=`作息调理：建议11点前入睡，23点前睡眠为最佳，每晚保证7-8小时睡眠。
`,s+=`调理方法：使用褪黑素辅助、避免睡前看手机、使用眼罩和耳塞。
`):(s+=`睡眠维护：保持规律作息，每天同一时间入睡，周末最多晚睡2小时。
`,s+=`睡眠环境：室温18-22°C，避免光线和噪音干扰。
`),s+=`运动计划：每周3-5次运动，每次30-60分钟，可选有氧+力量结合。
`,s+=`推荐运动：快走、慢跑、瑜伽、普拉提、游泳、健身房锻炼。
`,s+=`压力管理：学习冥想和深呼吸，每天10分钟冥想有助于舒缓压力。
`,s+=`放松方式：泡澡、听音乐、阅读、与朋友聊天。
`,s+=`防晒措施：全年坚持防晒，SPF30以上，每2小时补涂一次。
`,s+=`防晒方式：物理防晒（帽子、墨镜）+ 化学防晒结合。
`,n.includes("祛痘")&&(s+=`痘肌护理：避免手部接触面部，定期更换枕套和毛巾。
`,s+=`调理周期：通常需要 4-8 周才能看到明显改善。
`),n.includes("抗老")&&(s+=`抗衰调理：定期进行专业面部护理（每月1-2次），坚持运动增加皮肤弹性。
`,s+=`预防措施：戒烟限酒，避免过度日晒，减少表情纹。
`),s+=`季节护理：春季控油预防过敏、夏季防晒补水、秋季加强保湿、冬季深层滋润。
`,s}generatePrompts(t){return{system:this.getSystemPrompt(),user:this.generateUserPrompt(t)}}generateDetailedAdvices(t){return this.generateDetailedAdvice(t)}parseAIResponse(t){if(!t)return{success:!1,error:"未获得有效的 AI 响应"};try{const s=t.match(/护肤[：:]([\s\S]*?)(?=饮食|生活|$)/),n=t.match(/饮食[：:]([\s\S]*?)(?=生活|护肤|$)/),a=t.match(/生活[：:]([\s\S]*?)(?=护肤|饮食|$)/);return{success:!0,advice:t,skinCare:s?s[1].trim():"详细护肤建议已包含在完整建议中",diet:n?n[1].trim():"详细饮食建议已包含在完整建议中",lifestyle:a?a[1].trim():"详细生活建议已包含在完整建议中"}}catch{return{success:!0,advice:t,skinCare:"",diet:"",lifestyle:""}}}getExampleProfile(){return{age:25,gender:"female",skinType:"oily",stayUpLate:!0,dietPreference:"喜欢吃辣",goals:["祛痘","控油"]}}getExampleOutput(){return this.generateDetailedAdvice(this.getExampleProfile())}validateProfile(t){return!t.age&&!t.gender&&!t.skinType?{valid:!1,message:"请至少填写一项信息"}:{valid:!0}}}const wr=new vv,bv=()=>{const[e,t]=B.useState({}),[s,n]=B.useState(null),[a,l]=B.useState(!1),[i,o]=B.useState(!1),[d,c]=B.useState(!1),u=(y,j)=>{t(k=>({...k,[y]:j}))},g=y=>{t(j=>{const k=j.goals||[];return k.includes(y)?{...j,goals:k.filter(S=>S!==y)}:{...j,goals:[...k,y]}})},p=async()=>{const y=wr.validateProfile(e);if(!y.valid){alert(y.message);return}l(!0);try{const j=wr.generatePrompts(e);await new Promise(N=>setTimeout(N,1e3));const k=wr.getExampleOutput(),S=wr.parseAIResponse(k);n(S)}catch(j){console.error("生成建议失败:",j),n({success:!1,error:"生成建议失败，请重试"})}finally{l(!1)}},f=()=>{const y=wr.getExampleProfile();t(y);const j=wr.getExampleOutput(),k=wr.parseAIResponse(j);n(k),o(!0)},h=()=>{s!=null&&s.advice&&(navigator.clipboard.writeText(s.advice),c(!0),setTimeout(()=>c(!1),2e3))},b=()=>{t({}),n(null),o(!1)},v=[{value:"dry",label:"干性"},{value:"oily",label:"油性"},{value:"combination",label:"混合性"},{value:"sensitive",label:"敏感性"}],x=[{value:"good",label:"睡眠充足"},{value:"fair",label:"睡眠一般"},{value:"poor",label:"睡眠不足"}],m=["美白","抗老","补水","祛痘","瘦身","控油","舒缓","紧致"];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-purple-600 rounded-lg p-8 text-white",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Va,{className:"w-8 h-8"}),r.jsx("h1",{className:"text-3xl font-bold",children:"AI 健康助手"})]}),r.jsx("p",{className:"text-violet-100 text-lg",children:"智能分析您的健康状态，提供个性化护肤、饮食和生活建议"})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-5",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[r.jsx(Ss,{className:"w-5 h-5"}),"用户信息"]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"年龄"}),r.jsx("input",{type:"number",min:"18",max:"100",value:e.age||"",onChange:y=>u("age",y.target.value?parseInt(y.target.value):void 0),placeholder:"请输入年龄",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"性别"}),r.jsxs("select",{value:e.gender||"",onChange:y=>u("gender",y.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent",children:[r.jsx("option",{value:"",children:"请选择性别"}),r.jsx("option",{value:"female",children:"女性"}),r.jsx("option",{value:"male",children:"男性"}),r.jsx("option",{value:"other",children:"其他"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"肤质"}),r.jsxs("select",{value:e.skinType||"",onChange:y=>u("skinType",y.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent",children:[r.jsx("option",{value:"",children:"请选择肤质"}),v.map(y=>r.jsx("option",{value:y.value,children:y.label},y.value))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx(Zg,{className:"w-4 h-4"}),"睡眠情况"]}),r.jsxs("select",{value:e.sleepQuality||"",onChange:y=>u("sleepQuality",y.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent",children:[r.jsx("option",{value:"",children:"请选择睡眠情况"}),x.map(y=>r.jsx("option",{value:y.value,children:y.label},y.value))]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"stayUpLate",checked:e.stayUpLate||!1,onChange:y=>u("stayUpLate",y.target.checked),className:"rounded border-gray-300 text-violet-600 focus:ring-violet-600"}),r.jsx("label",{htmlFor:"stayUpLate",className:"text-sm font-medium text-gray-700",children:"经常熬夜"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx(e1,{className:"w-4 h-4"}),"饮食偏好"]}),r.jsx("input",{type:"text",value:e.dietPreference||"",onChange:y=>u("dietPreference",y.target.value),placeholder:"例如：喜欢吃辣，素食者",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-600 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx(dr,{className:"w-4 h-4"}),"目标（可多选）"]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map(y=>{var j;return r.jsx("button",{onClick:()=>g(y),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${(j=e.goals)!=null&&j.includes(y)?"bg-violet-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y},y)})})]}),r.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[r.jsxs("button",{onClick:p,disabled:a,className:"w-full bg-violet-600 hover:bg-violet-700 disabled:bg-gray-400 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[r.jsx(Rc,{className:"w-5 h-5"}),a?"生成中...":"生成建议"]}),r.jsx("button",{onClick:f,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 rounded-lg transition-colors text-sm",children:"查看示例"}),r.jsxs("button",{onClick:b,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[r.jsx(o1,{className:"w-4 h-4"}),"清空"]})]})]})}),r.jsx("div",{className:"lg:col-span-2",children:s?r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 space-y-6",children:s.success?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"您的个性化建议"}),r.jsxs("details",{className:"group bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg p-6 border border-violet-200 cursor-pointer",children:[r.jsxs("summary",{className:"font-bold text-gray-900 text-lg mb-4 flex items-center justify-between",children:[r.jsx("span",{children:"📋 完整建议"}),r.jsx("span",{className:"text-violet-600 group-open:rotate-180 transition-transform",children:"▼"})]}),r.jsx("div",{className:"space-y-3 text-gray-700 leading-relaxed text-sm",children:s.advice.split(`
`).map((y,j)=>y.trim()&&r.jsxs("p",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-violet-600 font-bold min-w-[1.5rem]",children:"✓"}),r.jsx("span",{children:y})]},j))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border-2 border-blue-200",children:[r.jsxs("h4",{className:"font-bold text-blue-900 mb-3 text-lg flex items-center gap-2",children:[r.jsx("span",{children:"💆"})," 护肤建议"]}),r.jsx("div",{className:"space-y-2 text-sm text-blue-800",children:s.skinCare.split(`
`).map((y,j)=>y.trim()&&r.jsxs("div",{className:"flex items-start gap-2 bg-white bg-opacity-50 p-2 rounded",children:[r.jsx("span",{className:"text-blue-600 font-bold",children:"→"}),r.jsx("span",{children:y})]},j))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-5 border-2 border-green-200",children:[r.jsxs("h4",{className:"font-bold text-green-900 mb-3 text-lg flex items-center gap-2",children:[r.jsx("span",{children:"🥗"})," 饮食建议"]}),r.jsx("div",{className:"space-y-2 text-sm text-green-800",children:s.diet.split(`
`).map((y,j)=>y.trim()&&r.jsxs("div",{className:"flex items-start gap-2 bg-white bg-opacity-50 p-2 rounded",children:[r.jsx("span",{className:"text-green-600 font-bold",children:"→"}),r.jsx("span",{children:y})]},j))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-5 border-2 border-orange-200",children:[r.jsxs("h4",{className:"font-bold text-orange-900 mb-3 text-lg flex items-center gap-2",children:[r.jsx("span",{children:"⏰"})," 生活习惯"]}),r.jsx("div",{className:"space-y-2 text-sm text-orange-800",children:s.lifestyle.split(`
`).map((y,j)=>y.trim()&&r.jsxs("div",{className:"flex items-start gap-2 bg-white bg-opacity-50 p-2 rounded",children:[r.jsx("span",{className:"text-orange-600 font-bold",children:"→"}),r.jsx("span",{children:y})]},j))})]})]}),r.jsxs("button",{onClick:h,className:"w-full bg-violet-600 hover:bg-violet-700 text-white font-bold py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[r.jsx(Wa,{className:"w-4 h-4"}),d?"已复制":"复制建议"]})]}):r.jsx("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:r.jsxs("p",{className:"text-red-700 font-semibold",children:["❌ ",s.error]})})}):r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[r.jsx(Va,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:'填写左侧信息后，点击"生成建议"获取个性化的护肤和健康方案'})]})})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[r.jsx("h3",{className:"font-bold text-blue-900 mb-3",children:"ℹ️ 使用说明"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[r.jsx("li",{children:"• 系统是美容院专属健康助手，提供护肤、健康、饮食建议"}),r.jsx("li",{children:"• 建议简洁、专业、亲切，避免医学诊断"}),r.jsx("li",{children:"• 至少填写一项信息才能生成建议"}),r.jsx("li",{children:"• 可选字段留空不填，系统会基于已有信息生成建议"}),r.jsx("li",{children:"• 所有建议仅供参考，请咨询专业人士获得医学诊断"})]})]})]})},jv=({onSelectService:e})=>{const[t,s]=B.useState(null),n=[{id:"skincare-detection",title:"皮肤检测",description:"智能分析肤质状态，提供专业护肤建议",icon:r.jsx(ot,{className:"w-12 h-12"}),features:["肤质诊断","问题识别","产品推荐"],color:"from-indigo-600 to-purple-600",bgColor:"from-indigo-50 to-purple-50"},{id:"beauty-diagnosis",title:"美容诊断",description:"多维度美容分析，获得个性化美容方案",icon:r.jsx(zr,{className:"w-12 h-12"}),features:["美容评分","疗程方案","产品推荐"],color:"from-pink-600 to-red-600",bgColor:"from-pink-50 to-red-50"},{id:"tongue-coating-detection",title:"舌苔检测",description:"中医舌诊分析，了解体质和健康状况",icon:r.jsx(_t,{className:"w-12 h-12"}),features:["体质诊断","中医调理","食疗方案"],color:"from-amber-600 to-orange-600",bgColor:"from-amber-50 to-orange-50"},{id:"health-assistant-ai",title:"AI 健康助手",description:"基于个人信息，提供个性化护肤、饮食和生活建议",icon:r.jsx(Va,{className:"w-12 h-12"}),features:["个性化分析","护肤建议","饮食方案","生活指导"],color:"from-violet-600 to-purple-600",bgColor:"from-violet-50 to-purple-50"}];return t==="health-assistant-ai"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-violet-600 hover:text-violet-700 font-semibold mb-4",children:[r.jsx(gt,{className:"w-4 h-4 rotate-180"}),"返回健康助手列表"]}),r.jsx(bv,{})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-lg p-8 text-white",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Be,{className:"w-8 h-8"}),r.jsx("h1",{className:"text-3xl font-bold",children:"智能拍照检测系列"})]}),r.jsx("p",{className:"text-blue-100 text-lg",children:"一键拍照，多维诊断 • 皮肤 • 美容 • 健康 • AI助手"})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg border-2 border-blue-200 p-6",children:r.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"4"}),r.jsx("p",{className:"text-gray-700 font-semibold",children:"智能诊断服务"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"全面覆盖皮肤、美容、健康"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:"100%"}),r.jsx("p",{className:"text-gray-700 font-semibold",children:"专业分析"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI智能+中医理论"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"1分钟"}),r.jsx("p",{className:"text-gray-700 font-semibold",children:"快速诊断"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"获得完整检测报告"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"个性化"}),r.jsx("p",{className:"text-gray-700 font-semibold",children:"AI助手"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"专属美容院建议"})]})]})}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(a=>r.jsx("div",{className:"group",children:r.jsx("button",{onClick:()=>{a.id==="health-assistant-ai"?s(a.id):e(a.id)},className:"w-full h-full",children:r.jsxs("div",{className:`bg-gradient-to-br ${a.bgColor} rounded-lg border-2 border-gray-200 p-6 hover:shadow-xl transition-all duration-300 group-hover:border-transparent h-full flex flex-col`,children:[r.jsx("div",{className:`bg-gradient-to-br ${a.color} rounded-lg p-3 text-white w-fit mx-auto mb-3 group-hover:scale-110 transition-transform`,children:a.icon}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:a.title}),r.jsx("p",{className:"text-gray-600 mb-3 flex-1 text-sm",children:a.description}),r.jsx("div",{className:"space-y-1 mb-4",children:a.features.map((l,i)=>r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-700",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),l]},i))}),r.jsxs("div",{className:`bg-gradient-to-r ${a.color} text-white py-2 px-3 rounded-lg font-bold flex items-center justify-center gap-2 group-hover:shadow-lg transition-all text-sm`,children:[r.jsx(ot,{className:"w-4 h-4"}),a.id==="health-assistant-ai"?"立即开始":"立即检测",r.jsx(gt,{className:"w-4 h-4"})]})]})})},a.id))}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"使用步骤"}),r.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{step:"1",title:"选择检测",desc:"选择需要的诊断服务"},{step:"2",title:"拍照上传",desc:"清晰拍摄照片并上传"},{step:"3",title:"AI分析",desc:"智能系统快速分析"},{step:"4",title:"获得报告",desc:"获得详细的诊断报告"}].map((a,l)=>r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold flex items-center justify-center mb-3 text-lg",children:a.step}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:a.title}),r.jsx("p",{className:"text-sm text-gray-600",children:a.desc})]}),l<3&&r.jsx("div",{className:"hidden md:block absolute top-6 -right-4 text-gray-300",children:r.jsx(gt,{className:"w-6 h-6"})})]},l))})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 overflow-x-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"功能对比"}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b-2 border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-bold text-gray-900",children:"功能"}),r.jsx("th",{className:"text-center py-3 px-4 font-bold text-gray-900",children:"皮肤检测"}),r.jsx("th",{className:"text-center py-3 px-4 font-bold text-gray-900",children:"美容诊断"}),r.jsx("th",{className:"text-center py-3 px-4 font-bold text-gray-900",children:"舌苔检测"})]})}),r.jsx("tbody",{children:[{feature:"智能拍照分析",skincare:!0,beauty:!0,tongue:!0},{feature:"肤质诊断",skincare:!0,beauty:!1,tongue:!1},{feature:"美容评分",skincare:!1,beauty:!0,tongue:!1},{feature:"中医诊断",skincare:!1,beauty:!1,tongue:!0},{feature:"产品推荐",skincare:!0,beauty:!0,tongue:!0},{feature:"调理方案",skincare:!0,beauty:!0,tongue:!0},{feature:"历史记录",skincare:!0,beauty:!0,tongue:!0}].map((a,l)=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:a.feature}),r.jsx("td",{className:"py-3 px-4 text-center",children:a.skincare?r.jsx("span",{className:"inline-block w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold"})}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"py-3 px-4 text-center",children:a.beauty?r.jsx("span",{className:"inline-block w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold"})}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"py-3 px-4 text-center",children:a.tongue?r.jsx("span",{className:"inline-block w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 font-bold"})}):r.jsx("span",{className:"text-gray-400",children:"-"})})]},l))})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"常见问题"}),r.jsx("div",{className:"space-y-4",children:[{q:"如何获得最准确的诊断结果？",a:"在良好光线下，清晰拍摄完整的检测对象。建议使用自然光线，避免过度曝光或昏暗。"},{q:"诊断结果多久更新一次？",a:"您可以随时进行诊断。建议每周检测一次以追踪效果变化。"},{q:"推荐的产品和方案安全吗？",a:"所有推荐都基于专业理论，但建议咨询专业医生或美容师进行个性化指导。"},{q:"三个诊断可以同时进行吗？",a:"可以。您可以分别进行皮肤检测、美容诊断和舌苔检测，获得全面的健康和美容评估。"}].map((a,l)=>r.jsxs("details",{className:"group border border-gray-200 rounded-lg p-4 hover:bg-white transition-colors cursor-pointer",children:[r.jsxs("summary",{className:"font-semibold text-gray-900 flex items-center justify-between",children:[a.q,r.jsx("span",{className:"text-gray-400 group-open:rotate-180 transition-transform",children:r.jsx(gt,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-gray-600 mt-3 leading-relaxed",children:a.a})]},l))})]})]})};function Nv(){const{user:e,isAuthenticated:t,logout:s,loading:n}=Jg(),[a,l]=B.useState(null),[i,o]=B.useState("dashboard"),[d,c]=B.useState(!1);if(n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mb-4"}),r.jsx("p",{className:"text-gray-600",children:"加载中..."})]})});if(!t&&!d&&!e)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50",children:r.jsx(qy,{onLogin:p=>{console.log("进入演示模式, 角色:",p),l(p),c(!0),o("dashboard")}})});const u=()=>{s(),l(null),o("dashboard")},g=()=>{switch(i){case"dashboard":return r.jsx(Dd,{});case"customermanagement":return r.jsx(x2,{});case"staff":return r.jsx(s2,{});case"shop":return a==="admin"?r.jsx(p2,{}):r.jsx(m2,{});case"ai":return r.jsx(C2,{});case"promotion":return r.jsx(k2,{});case"promotion-plan":return r.jsx(Xp,{});case"training":return r.jsx(I2,{});case"onsite":return r.jsx(M2,{});case"onsite-booking":return r.jsx(Yp,{});case"procurement":return r.jsx(Zp,{});case"skincare-detection":return r.jsx(O2,{});case"beauty-diagnosis":return r.jsx($2,{});case"tongue-coating-detection":return r.jsx(yv,{});case"health-assistant":return r.jsx(jv,{onSelectService:o});default:return r.jsx(Dd,{})}};return r.jsxs("div",{className:"min-h-screen bg-gradient-green",children:[r.jsx(Vy,{currentPage:i,userRole:d?a:e==null?void 0:e.role,onPageChange:o,onLogout:u}),r.jsx(Wy,{currentPage:i,userRole:d?a:e==null?void 0:e.role,onPageChange:o,onLogout:u}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8 md:py-8",children:g()}),r.jsx("footer",{className:"bg-white border-t border-green-200 mt-12",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 text-center text-sm text-gray-600",children:r.jsx("p",{children:"美容院管理系统 | 淡绿色高端简洁设计 | 一台手机掌控整个美容院"})})}),r.jsx(R2,{})]})}function wv(){return r.jsx(Qg,{children:r.jsx(Jy,{children:r.jsx(Nv,{})})})}console.log("main.tsx: Starting app...",{rootElement:document.getElementById("root"),timestamp:new Date().toISOString()});const gu=document.getElementById("root");gu?(console.log("main.tsx: root element found, mounting React..."),Ri.createRoot(gu).render(r.jsx(Th.StrictMode,{children:r.jsx(wv,{})})),console.log("main.tsx: React mounted successfully")):(console.error("main.tsx: ERROR - root element not found!"),document.body.innerHTML='<div style="color: red; padding: 20px; font-size: 18px;">ERROR: root element not found</div>');
